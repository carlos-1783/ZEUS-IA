import{r as x,P as v,q as k,b as i,e,t as l,g as d,K as m,L as u,n as c,N as C,k as _,O as V,Q as L,f as q,w as z,z as M,u as N,h as S,o as n}from"./vendor-bdffe547.js";import{_ as E}from"./index-0bb8e702.js";const R={class:"space-y-6"},U={key:0,class:"bg-red-50 border-l-4 border-red-400 p-4 mb-6"},B={class:"flex"},j={class:"ml-3"},A={class:"text-sm text-red-700"},P={class:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6"},T={class:"sm:col-span-3"},D={class:"mt-1"},O={key:0,class:"mt-2 text-sm text-red-600"},I={class:"sm:col-span-3"},F={class:"mt-1"},H={key:0,class:"mt-2 text-sm text-red-600"},K={class:"sm:col-span-6"},Q={class:"mt-1"},Y={key:0,class:"mt-2 text-sm text-red-600"},Z={class:"sm:col-span-6"},G={class:"mt-1"},J={key:0,class:"mt-2 text-sm text-red-600"},W={class:"sm:col-span-6"},X={class:"mt-1"},$={key:0,class:"mt-2 text-sm text-red-600"},ee={class:"sm:col-span-6"},se={class:"flex items-start"},oe={class:"flex items-center h-5"},te={class:"ml-3 text-sm"},ae={key:0,class:"mt-2 text-sm text-red-600"},re=["disabled"],ie={key:0},ne={key:1,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},le={class:"mt-6"},de={class:"mt-6"},me={__name:"Register",setup(ce){const b=M(),g=N(),p=x(!1),f=x(""),t=v({first_name:"",last_name:"",email:"",password:"",password_confirmation:"",terms:!1}),o=v({first_name:"",last_name:"",email:"",password:"",password_confirmation:"",terms:""});k(()=>{g.query.email&&(t.email=g.query.email)});const w=()=>{let a=!0;return Object.keys(o).forEach(s=>{o[s]=""}),t.first_name.trim()||(o.first_name="El nombre es obligatorio",a=!1),t.last_name.trim()||(o.last_name="El apellido es obligatorio",a=!1),t.email?/\S+@\S+\.\S+/.test(t.email)||(o.email="El correo electrónico no es válido",a=!1):(o.email="El correo electrónico es obligatorio",a=!1),t.password?t.password.length<8?(o.password="La contraseña debe tener al menos 8 caracteres",a=!1):/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(t.password)||(o.password="La contraseña debe contener al menos una letra mayúscula, una minúscula y un número",a=!1):(o.password="La contraseña es obligatoria",a=!1),t.password!==t.password_confirmation&&(o.password_confirmation="Las contraseñas no coinciden",a=!1),t.terms||(o.terms="Debes aceptar los términos y condiciones",a=!1),a},y=async()=>{if(w()){p.value=!0,f.value="";try{await new Promise(a=>setTimeout(a,1500)),b.push({name:"Login",query:{email:t.email,registered:"true"}})}catch(a){f.value=a.response?.data?.message||"Ocurrió un error al registrar la cuenta. Por favor, inténtalo de nuevo."}finally{p.value=!1}}};return(a,s)=>{const h=S("router-link");return n(),i("div",R,[f.value?(n(),i("div",U,[e("div",B,[s[6]||(s[6]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z","clip-rule":"evenodd"})])],-1)),e("div",j,[e("p",A,l(f.value),1)])])])):d("",!0),e("form",{class:"space-y-6",onSubmit:V(y,["prevent"])},[e("div",P,[e("div",T,[s[7]||(s[7]=e("label",{for:"first_name",class:"block text-sm font-medium text-gray-700"}," Nombre ",-1)),e("div",D,[m(e("input",{id:"first_name","onUpdate:modelValue":s[0]||(s[0]=r=>t.first_name=r),name:"first_name",type:"text",autocomplete:"given-name",required:"",class:c(["appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",{"border-red-300":o.first_name}])},null,2),[[u,t.first_name]]),o.first_name?(n(),i("p",O,l(o.first_name),1)):d("",!0)])]),e("div",I,[s[8]||(s[8]=e("label",{for:"last_name",class:"block text-sm font-medium text-gray-700"}," Apellido ",-1)),e("div",F,[m(e("input",{id:"last_name","onUpdate:modelValue":s[1]||(s[1]=r=>t.last_name=r),name:"last_name",type:"text",autocomplete:"family-name",required:"",class:c(["appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",{"border-red-300":o.last_name}])},null,2),[[u,t.last_name]]),o.last_name?(n(),i("p",H,l(o.last_name),1)):d("",!0)])]),e("div",K,[s[9]||(s[9]=e("label",{for:"email",class:"block text-sm font-medium text-gray-700"}," Correo electrónico ",-1)),e("div",Q,[m(e("input",{id:"email","onUpdate:modelValue":s[2]||(s[2]=r=>t.email=r),name:"email",type:"email",autocomplete:"email",required:"",class:c(["appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",{"border-red-300":o.email}])},null,2),[[u,t.email]]),o.email?(n(),i("p",Y,l(o.email),1)):d("",!0)])]),e("div",Z,[s[10]||(s[10]=e("label",{for:"password",class:"block text-sm font-medium text-gray-700"}," Contraseña ",-1)),e("div",G,[m(e("input",{id:"password","onUpdate:modelValue":s[3]||(s[3]=r=>t.password=r),name:"password",type:"password",autocomplete:"new-password",required:"",class:c(["appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",{"border-red-300":o.password}])},null,2),[[u,t.password]]),o.password?(n(),i("p",J,l(o.password),1)):d("",!0)])]),e("div",W,[s[11]||(s[11]=e("label",{for:"password_confirmation",class:"block text-sm font-medium text-gray-700"}," Confirmar contraseña ",-1)),e("div",X,[m(e("input",{id:"password_confirmation","onUpdate:modelValue":s[4]||(s[4]=r=>t.password_confirmation=r),name:"password_confirmation",type:"password",autocomplete:"new-password",required:"",class:c(["appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",{"border-red-300":o.password_confirmation}])},null,2),[[u,t.password_confirmation]]),o.password_confirmation?(n(),i("p",$,l(o.password_confirmation),1)):d("",!0)])]),e("div",ee,[e("div",se,[e("div",oe,[m(e("input",{id:"terms","onUpdate:modelValue":s[5]||(s[5]=r=>t.terms=r),name:"terms",type:"checkbox",class:c(["focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded",{"border-red-300":o.terms}]),required:""},null,2),[[C,t.terms]])]),e("div",te,[s[12]||(s[12]=e("label",{for:"terms",class:"font-medium text-gray-700"},[_(" Acepto los "),e("a",{href:"#",class:"text-indigo-600 hover:text-indigo-500"},"Términos de servicio"),_(" y la "),e("a",{href:"#",class:"text-indigo-600 hover:text-indigo-500"},"Política de privacidad")],-1)),o.terms?(n(),i("p",ae,l(o.terms),1)):d("",!0)])])])]),e("div",null,[e("button",{type:"submit",class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",disabled:p.value},[p.value?(n(),i("svg",ne,s[13]||(s[13]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):(n(),i("span",ie,"Crear cuenta"))],8,re)])],32),e("div",le,[s[15]||(s[15]=L('<div class="relative" data-v-0625c8ec><div class="absolute inset-0 flex items-center" data-v-0625c8ec><div class="w-full border-t border-gray-300" data-v-0625c8ec></div></div><div class="relative flex justify-center text-sm" data-v-0625c8ec><span class="px-2 bg-gray-100 text-gray-500" data-v-0625c8ec> ¿Ya tienes una cuenta? </span></div></div>',1)),e("div",de,[q(h,{to:"/auth/login",class:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},{default:z(()=>s[14]||(s[14]=[_(" Iniciar sesión ")])),_:1,__:[14]})])])])}}},fe=E(me,[["__scopeId","data-v-0625c8ec"]]);export{fe as default};
