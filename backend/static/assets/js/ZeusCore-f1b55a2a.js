import{r,c as h,q as j,y as x,b as l,e as o,n as _,t as n,f as P,F as g,E,z as F,o as d}from"./vendor-ab4a1d36.js";import{_ as B,u as H}from"./index-5604b34d.js";import{Z as M}from"./ZeusHologram3D-aa71f9bf.js";import"./three-c4693b27.js";const V={class:"zeus-core-container"},J={class:"zeus-header"},G={class:"zeus-logo"},W={class:"user-info"},q={class:"user-name"},Q={class:"zeus-main"},Y={class:"info-panel"},K={class:"panel-section"},X={class:"system-metrics"},ee={class:"metric"},oe={class:"metric-value"},te={class:"metric"},se={class:"metric-value"},ne={class:"metric"},ae={class:"metric-value"},ie={class:"panel-section"},re={class:"command-list"},ce=["onClick"],le={class:"panel-section"},de={class:"logs-container"},ue={class:"log-time"},me={class:"log-message"},ve={class:"notifications-container"},he=["onClick"],pe={class:"notification-icon"},_e={class:"notification-content"},ge={__name:"ZeusCore",setup(Ee){const S=F(),u=H(),w=r(null),p=r("inactive"),A=r(0),f=r(0),m=r([]),v=r([]),y=r(new Date),T=h(()=>u.user?.email||"Usuario"),O=h(()=>window.innerWidth-300),L=h(()=>window.innerHeight-100),N=h(()=>{const e=new Date-y.value,s=Math.floor(e/6e4),a=Math.floor(e%6e4/1e3);return`${s}:${a.toString().padStart(2,"0")}`}),Z=r(["ZEUS.ACTIVAR","ZEUS.ANALIZAR","PERSEO.FUNNEL","PERSEO.SEO","PERSEO.COPY","THALOS.SHIELD","THALOS.SCAN","JUSTICIA.CONTRATO","JUSTICIA.RGPD","RAFAEL.IVA","RAFAEL.IRPF","RAFAEL.IS","ANALISIS.PROCESAR","IA.PROCESAR"]);j(async()=>{if(!u.isAuthenticated){S.push("/auth/login");return}Promise.resolve().then(async()=>{try{await D()}catch{}}),c("info","Núcleo ZEUS-IA inicializado correctamente"),i("success","Sistema Activado","Núcleo ZEUS-IA operativo")}),x(()=>{});async function D(){try{const t=await fetch("/api/v1/zeus/activate",{method:"POST",headers:{Authorization:`Bearer ${u.token}`,"Content-Type":"application/json"}});if(t.ok){const e=await t.json();p.value="active",A.value=e.data?.agents?Object.keys(e.data.agents).length:0,c("success","Sistema ZEUS activado correctamente"),i("success","ZEUS Activado","Todos los agentes están operativos")}else throw new Error("Error activando sistema ZEUS")}catch(t){c("error",`Error inicializando sistema: ${t.message}`),i("error","Error de Inicialización",t.message)}}function U(t){c("success",`Agente ${t.name} activado`),i("info","Agente Activado",`${t.name} está operativo`)}function C(t){f.value++,c("info",`Comando ejecutado: ${t.command}`),t.status==="success"?i("success","Comando Exitoso",t.message):i("error","Error en Comando",t.message)}async function k(t){try{const e=new AbortController,s=setTimeout(()=>e.abort(),1e4),a=await fetch("/api/v1/zeus/execute",{method:"POST",headers:{Authorization:`Bearer ${u.token}`,"Content-Type":"application/json"},body:JSON.stringify({command:t,data:{}}),signal:e.signal});if(clearTimeout(s),a.ok){const b=await a.json();C(b)}else throw new Error("Error ejecutando comando")}catch(e){e.name==="AbortError"?(c("warning",`Timeout ejecutando ${t}`),i("warning","Timeout de Comando",`El comando ${t} tardó demasiado`)):(c("error",`Error ejecutando ${t}: ${e.message}`),i("error","Error de Comando",e.message))}}function c(t,e){const s={id:Date.now(),type:t,message:e,timestamp:new Date().toISOString()};m.value.push(s),m.value.length>50&&m.value.shift()}function i(t,e,s){const a={id:Date.now(),type:t,title:e,message:s,timestamp:new Date().toISOString()};v.value.push(a),setTimeout(()=>{I(a.id)},5e3)}function I(t){const e=v.value.findIndex(s=>s.id===t);e>-1&&v.value.splice(e,1)}function R(t){return{success:"✅",error:"❌",warning:"⚠️",info:"ℹ️"}[t]||"ℹ️"}function $(t){return new Date(t).toLocaleTimeString()}function z(){u.logout(),S.push("/auth/login")}return(t,e)=>(d(),l("div",V,[o("header",J,[o("div",G,[e[0]||(e[0]=o("div",{class:"logo-icon"},"⚡",-1)),e[1]||(e[1]=o("h1",null,"NÚCLEO ZEUS-IA",-1)),o("div",{class:_(["status-indicator",p.value])},n(p.value.toUpperCase()),3)]),o("div",W,[o("span",q,n(T.value),1),o("button",{onClick:z,class:"logout-btn"},"SALIR")])]),o("main",Q,[P(M,{ref_key:"hologram3D",ref:w,width:O.value,height:L.value,onAgentActivated:U,onCommandExecuted:C},null,8,["width","height"]),o("aside",Y,[o("div",K,[e[5]||(e[5]=o("h3",null,"ESTADO DEL SISTEMA",-1)),o("div",X,[o("div",ee,[e[2]||(e[2]=o("span",{class:"metric-label"},"Agentes Activos:",-1)),o("span",oe,n(A.value)+"/6",1)]),o("div",te,[e[3]||(e[3]=o("span",{class:"metric-label"},"Comandos Ejecutados:",-1)),o("span",se,n(f.value),1)]),o("div",ne,[e[4]||(e[4]=o("span",{class:"metric-label"},"Tiempo de Actividad:",-1)),o("span",ae,n(N.value),1)])])]),o("div",ie,[e[6]||(e[6]=o("h3",null,"COMANDOS DISPONIBLES",-1)),o("div",re,[(d(!0),l(g,null,E(Z.value,s=>(d(),l("div",{key:s,class:"command-item",onClick:a=>k(s)},n(s),9,ce))),128))])]),o("div",le,[e[7]||(e[7]=o("h3",null,"LOGS DEL SISTEMA",-1)),o("div",de,[(d(!0),l(g,null,E(m.value.slice(-5),s=>(d(),l("div",{key:s.id,class:_(["log-entry",s.type])},[o("span",ue,n($(s.timestamp)),1),o("span",me,n(s.message),1)],2))),128))])])])]),o("div",ve,[(d(!0),l(g,null,E(v.value,s=>(d(),l("div",{key:s.id,class:_(["notification",s.type]),onClick:a=>I(s.id)},[o("div",pe,n(R(s.type)),1),o("div",_e,[o("h4",null,n(s.title),1),o("p",null,n(s.message),1)])],10,he))),128))])]))}},Ie=B(ge,[["__scopeId","data-v-af84a6d0"]]);export{Ie as default};
