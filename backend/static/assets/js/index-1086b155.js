import{d as ke,u as me,o as ee,r as Z,a as _,c as x,b as P,e as j,f as t,w as X,n as M,t as C,g as K,h as Ho,i as U,j as y,k as Ae,l as Ee,m as Re,p as ae,q as te,s as pe,F as Q,v as re,T as Ie,x as Te,y as Le,z as ie,A as he,B as Ne,C as Me,D as Se,E as le,G as fe,H as ce,I as De,J as de,K as Pe,L as ve,M as _e,N as je,O as ze,P as Oe,Q as Ue}from"./vendor-c7050be2.js";const Fe={id:"app"},qe=ke({__name:"App",setup(e){return me(),ee(()=>{}),(o,s)=>{const r=Z("RouterView");return _(),x("div",Fe,[P(r)])}}});const q=(e,o)=>{const s=e.__vccOpts||e;for(const[r,n]of o)s[r]=n;return s},Ve=q(qe,[["__scopeId","data-v-124706ea"]]);const Be=e=>{if(!e||typeof e!="string"||e.trim()==="")return null;const o=He(e);if(!o)return null;try{const s=o.split(".");if(s.length!==3)return null;const r=s[1],u=r.padEnd(r.length+(4-r.length%4)%4,"=").replace(/\-/g,"+").replace(/_/g,"/");try{const h=decodeURIComponent(atob(u).split("").map(l=>"%"+("00"+l.charCodeAt(0).toString(16)).slice(-2)).join("")),g=JSON.parse(h);if(g&&typeof g=="object"&&"exp"in g){const l=g.exp}return g}catch{return null}}catch{return null}};y(!1);const He=e=>{if(!e)return null;try{let o=String(e).replace(/[\u0000-\u001F\u007F-\u009F\u2000-\u200F\u2028-\u202F\u205F-\u206F\u3000\uFEFF]/g,"").trim();if(o=o.replace(/^[^a-zA-Z0-9]*bearer[^a-zA-Z0-9]*(.*)/i,(r,n)=>n||"").trim(),!o)return null;const s=o.split(".");if(s.length!==3)return null;try{s.forEach(r=>{const n=r.padEnd(r.length+(4-r.length%4)%4,"=");atob(n)})}catch{return null}return o}catch{return null}},B="auth_token",J="refresh_token",xe="refresh_timeout",ne="Bearer ",w={setToken:e=>{if(e)try{localStorage.setItem(B,e),k.defaults.headers.common.Authorization=`${ne}${e}`}catch{}else localStorage.removeItem(B),delete k.defaults.headers.common.Authorization},getToken:()=>typeof window>"u"?null:localStorage.getItem(B),setRefreshToken:e=>{if(e)try{localStorage.setItem(J,e)}catch{}else localStorage.removeItem(J)},getRefreshToken:()=>typeof window>"u"?null:localStorage.getItem(J),removeTokens:()=>{localStorage.removeItem(B),localStorage.removeItem(J),localStorage.removeItem(xe),delete k.defaults.headers.common.Authorization,window.tokenRefreshTimeout&&(clearTimeout(window.tokenRefreshTimeout),delete window.tokenRefreshTimeout)},removeToken:()=>{localStorage.removeItem(B),delete k.defaults.headers.common.Authorization},isTokenExpired:e=>{if(!e)return!0;try{const o=Be(e);if(!o?.exp)return!0;const s=Date.now()/1e3;return o.exp<s}catch{return!0}},isValidToken:e=>e?e.split(".").length===3&&!w.isTokenExpired(e):!1,clearTokens:()=>{localStorage.removeItem(B),localStorage.removeItem(J),localStorage.removeItem(xe),delete k.defaults.headers.common.Authorization,window.tokenRefreshTimeout&&(clearTimeout(window.tokenRefreshTimeout),delete window.tokenRefreshTimeout)},getTokenPayload:e=>{if(!e)return null;try{const o=e.split(".");if(o.length!==3)return null;const s=o[1].replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(atob(s).split("").map(n=>"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(r)}catch{return null}},refreshToken:function(){throw new Error("Function not implemented.")}},k=Ae.create({baseURL:"http://localhost:8000/api/v1",timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest"},withCredentials:!0,xsrfCookieName:"csrftoken",xsrfHeaderName:"X-CSRFToken"});k.interceptors.request.use(e=>{const o=w.getToken();return o&&(e.headers.Authorization=`${ne}${o}`),e.headers["Access-Control-Allow-Origin"]=window.location.origin,e.headers["Access-Control-Allow-Methods"]="GET, POST, PUT, DELETE, OPTIONS",e.headers["Access-Control-Allow-Headers"]="Content-Type, Authorization, X-Requested-With",e.method?.toLowerCase()==="options"&&(e.headers["Access-Control-Max-Age"]="86400"),e},e=>Promise.reject(e));k.interceptors.request.use(e=>{const o=e.url?.includes("auth/login")||e.url?.includes("auth/refresh-token"),s=w.getToken();return s&&!o&&(e.headers.Authorization=`Bearer ${s}`),e.method?.toLowerCase()==="get"&&(e.params={...e.params,_t:Date.now()}),e},e=>Promise.reject(e));const Ze=async()=>{const e=w.getRefreshToken();if(!e)return w.clearTokens(),!1;try{const o=await k.post("auth/refresh-token",{refresh_token:e},{skipAuthRefresh:!0});if(o.data.status==="success"&&o.data.data){const{access_token:s,refresh_token:r}=o.data.data;return w.setToken(s),r&&w.setRefreshToken(r),!0}return!1}catch{return w.clearTokens(),!1}};k.interceptors.response.use(e=>e,async e=>{const o=e.config;if(!e.response)return Promise.reject(A("network_error","Error de red",e));if(e.response?.status!==401||o._retry)return Promise.reject(e);if(o._retry=!0,await Ze()){const r=w.getToken();if(r)return o.headers.Authorization=`Bearer ${r}`,k(o)}return Promise.reject(e)});const Ce=e=>{if(window.tokenRefreshTimeout!==void 0){const s=window.tokenRefreshTimeout;clearTimeout(s),window.tokenRefreshTimeout=void 0}const o=Math.max(e-300,60)*1e3;window.tokenRefreshTimeout=window.setTimeout(async()=>{try{const s=w.getRefreshToken();s?await ge.refreshToken(s):w.removeTokens()}catch{w.removeTokens(),window.dispatchEvent(new Event("unauthorized"))}},o)},$e=async e=>{if(!e)throw new Error("No refresh token provided");try{const o=await k.post("auth/refresh-token",{refresh_token:e},{skipAuthRefresh:!0});if(o.data.status==="success"&&o.data.data){const{access_token:s,refresh_token:r,expires_in:n}=o.data.data;if(w.setToken(s),r&&w.setRefreshToken(r),n){const u=Math.max(n-300,60);Ce(u)}return o.data.data}throw new Error(o.data.error||"Failed to refresh token")}catch(o){throw Ee(o)&&o.response?.status===401&&(w.removeTokens(),window.dispatchEvent(new Event("unauthorized"))),o}};k.interceptors.request.use(e=>{if(e.url?.includes("auth/"))return e;const o=w.getToken();return o&&(e.headers.Authorization=`${ne}${o}`),e.method?.toLowerCase()==="get"&&(e.params={...e.params,_t:Date.now()}),e},e=>Promise.reject(e));k.interceptors.response.use(e=>(e.config.url?.includes("auth/"),e),async e=>{const o=e.config;if(!e.response)return Promise.reject(A("network_error","Network error",e));const{status:s,data:r}=e.response;if(s===401&&!o._retry){if(o.url?.includes("auth/login")||o.url?.includes("auth/refresh-token"))return Promise.reject(A("auth_error","Invalid credentials",e,r));o._retry=!0;try{const n=w.getRefreshToken();if(!n)return w.removeTokens(),window.dispatchEvent(new Event("unauthorized")),Promise.reject(A("no_refresh_token","Session expired",e));try{const u=await $e(n);if(u.access_token)return o.headers=o.headers||{},o.headers.Authorization=`${ne}${u.access_token}`,k(o)}catch(u){return w.removeTokens(),window.dispatchEvent(new Event("unauthorized")),Promise.reject(A("token_refresh_failed","Session refresh failed",u))}}catch(n){return w.removeTokens(),window.dispatchEvent(new Event("unauthorized")),Promise.reject(A("token_refresh_failed","Session refresh failed",n))}}switch(s){case 400:return Promise.reject(A("bad_request","Bad request",e,r));case 403:return w.removeTokens(),window.dispatchEvent(new Event("unauthorized")),Promise.reject(A("forbidden","Forbidden",e,r));case 404:return Promise.reject(A("not_found","Resource not found",e,r));case 422:return Promise.reject(A("validation_error","Validation error",e,r));case 429:return Promise.reject(A("too_many_requests","Too many requests",e,r));case 500:return Promise.reject(A("server_error","Internal server error",e,r));case 503:return Promise.reject(A("service_unavailable","Service unavailable",e,r));default:return Promise.reject(A("api_error","API request failed",e,r))}});const ge={login:async e=>{const o=new FormData;o.append("username",e.username),o.append("password",e.password),o.append("grant_type","password");const s=await k.post("auth/login",o,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(s.data&&s.data.access_token){const{access_token:r,refresh_token:n,expires_in:u}=s.data;if(w.setToken(r),n&&w.setRefreshToken(n),u){const h=Math.max(u-300,60);Ce(h)}return s.data}throw new Error(s.data?.detail||"Login failed")},logout:async()=>{try{const e=w.getRefreshToken();e&&await k.post("auth/logout",{refresh_token:e})}catch{}finally{w.removeTokens(),window.location.href="/login"}},refreshToken:$e,getCurrentUser:async()=>{const e=await k.get("auth/me");if(e.data&&e.data.data)return e.data.data;throw new Error(e.data?.detail||"Failed to fetch user profile")},getSystemStatus:async()=>{const e=await k.get("/system/status");if(e.data.status==="success"&&e.data.data)return e.data.data;throw new Error(e.data.error||"Failed to fetch system status")},request:async e=>{const o=await k.request(e);if(o.data.status==="success")return o.data.data;throw new Error(o.data.error||"API request failed")}};function A(e,o,s,r){const n=new Error(o);return n.code=e,n.originalError=s,n.details=r,Ee(s)&&(n.status=s.response?.status,n.statusText=s.response?.statusText),n}const W="auth_token",se="refresh_token",Ke=e=>"error"in e||"detail"in e,we=e=>"access_token"in e,O=ge,oe=Re("auth",()=>{const e=y(localStorage.getItem(W)),o=y(localStorage.getItem(se)),s=y(null),r=y(!1),n=y(null),u=j(()=>!!e.value),h=j(()=>!!s.value?.is_superuser);function g(){return e.value||localStorage.getItem(W)}function l(){return o.value||localStorage.getItem(se)}function T(f){try{if(!f.access_token||!f.refresh_token)throw new Error("Invalid tokens provided");return e.value=f.access_token,o.value=f.refresh_token,localStorage.setItem(W,f.access_token),localStorage.setItem(se,f.refresh_token),O.setAuthToken&&O.setAuthToken(f.access_token),!0}catch{return d(),!1}}function d(){e.value=null,o.value=null,s.value=null,n.value=null,localStorage.removeItem(W),localStorage.removeItem(se)}function p(f){try{if(!f)return!1;const c=ae(f);return s.value={id:c.sub,email:c.email||"",name:c.name||"User",is_active:c.is_active||!1,is_superuser:c.is_superuser||!1},!0}catch{return d(),!1}}async function i(f,c){if(r.value=!0,n.value=null,d(),!f||!c)return r.value=!1,{success:!1,error:"Email and password are required"};try{if(typeof localStorage>"u")throw new Error("localStorage is not available");const a="__auth_test__";try{localStorage.setItem(a,"test"),localStorage.removeItem(a)}catch{throw new Error("Could not access local storage")}const b=await O.login({username:f.trim(),password:c});if(Ke(b)){const $=b.error||b.detail||"Credenciales inválidas";throw new Error($)}if(!we(b)){const $="Formato de respuesta inválido";throw new Error($)}if(!b||typeof b!="object"){const $="Invalid server response format";throw new Error($)}if(!we(b)){const $="Invalid response format: missing access_token";throw new Error($)}const m=b;try{const $=ae(m.access_token),V={access_token:m.access_token,refresh_token:m.refresh_token||"",expires_in:m.expires_in||3600,token_type:m.token_type||"Bearer"};if(V.refresh_token,!T(V))throw new Error("Failed to save tokens");if(p(V.access_token),!localStorage.getItem(W))throw new Error("Could not verify saved token");return{success:!0,message:"Login successful",access_token:V.access_token,refresh_token:V.refresh_token,expires_in:V.expires_in}}catch{throw d(),new Error("Invalid or corrupted token")}}catch(a){const b=a.message||"Login failed";return n.value=b,d(),{success:!1,error:b}}finally{r.value=!1}}async function E(){try{if(e.value)try{await O.logout()}catch{}d()}catch(f){throw d(),f}}async function R(){const f=l();if(!f||r.value)return!1;r.value=!0;try{const c=await O.refreshToken(f);if(c.access_token){if(!T({access_token:c.access_token,refresh_token:c.refresh_token||f,expires_in:c.expires_in,token_type:c.token_type||"Bearer"}))throw new Error("Failed to update tokens after refresh");return p(c.access_token),!0}else throw new Error("Invalid token refresh response")}catch(c){return c instanceof Error&&(c.message.includes("401")||c.message.includes("invalid_grant")||c.message.includes("invalid_token")||c.message.includes("Network error"))&&await E(),!1}finally{r.value=!1}}async function N(){try{const f=g(),c=l();if(!f||!c)return!1;O.setAuthToken&&O.setAuthToken(f);const a=ae(f),b=Math.floor(Date.now()/1e3);if(a.exp?a.exp<b:!0)return d(),!1;e.value=f,o.value=c;try{return p(f),!0}catch{return!0}}catch{return!1}}return{token:e,refreshToken:o,user:s,isLoading:r,error:n,isAuthenticated:u,isAdmin:h,login:i,logout:E,initialize:N,refreshAccessToken:R,resetAuthState:d,getToken:g,getRefreshToken:l,updateUserFromToken:p,setAuthTokens:T}});const Je={class:"min-h-screen bg-gray-100 flex"},We={class:"md:hidden fixed top-4 left-4 z-50"},Ge={class:"flex flex-col h-full bg-indigo-700 w-64 shadow-lg"},Ye={class:"flex-1 px-2 py-4 space-y-1"},Xe={class:"p-4 border-t border-indigo-600"},Qe={class:"flex items-center"},et={class:"flex-shrink-0"},tt=["src"],ot={class:"ml-3"},st={class:"text-sm font-medium text-white"},rt={class:"flex-1 flex flex-col md:pl-64"},nt={class:"bg-white shadow-sm"},at={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center"},it={class:"text-lg font-semibold text-gray-900"},lt={class:"flex-1"},ct={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},dt={__name:"MainLayout",setup(e){const o=me(),s=te(),r=oe(),n=y(window.innerWidth>=768),u=[{name:"Dashboard",route:"Dashboard",icon:"tachometer-alt"}],h=j(()=>o.meta.title||"Dashboard"),g=j(()=>r.userFullName),l=j(()=>`https://ui-avatars.com/api/?name=${encodeURIComponent(g.value||"U")}&background=4f46e5&color=fff`),T=async()=>{await r.logout(),s.push({name:"Login"})},d=()=>{n.value=window.innerWidth>=768};return ee(()=>{window.addEventListener("resize",d),d()}),pe(()=>{window.removeEventListener("resize",d)}),(p,i)=>{const E=Z("font-awesome-icon"),R=Z("router-link"),N=Z("router-view");return _(),x(Q,null,[t("div",Je,[t("div",We,[t("button",{onClick:i[0]||(i[0]=f=>n.value=!n.value),class:"p-2 rounded-md text-gray-700 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500"},i[2]||(i[2]=[t("span",{class:"sr-only"},"Abrir menú",-1),t("svg",{class:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))]),t("div",{class:M(["fixed inset-y-0 left-0 transform md:translate-x-0 transition duration-300 ease-in-out z-40",{"translate-x-0":n.value,"-translate-x-full":!n.value}])},[t("div",Ge,[i[3]||(i[3]=t("div",{class:"flex items-center justify-center h-16 px-4 bg-indigo-800"},[t("h1",{class:"text-white text-xl font-bold"},"ZEUS-IA")],-1)),t("nav",Ye,[(_(),x(Q,null,re(u,f=>P(R,{key:f.name,to:{name:f.route},class:M(["group flex items-center px-4 py-3 text-sm font-medium rounded-md text-indigo-100 hover:bg-indigo-600 hover:bg-opacity-75",{"bg-indigo-800":p.$route.name===f.route}])},{default:X(()=>[P(E,{icon:f.icon,class:"mr-3 h-5 w-5 text-indigo-300 group-hover:text-indigo-200","aria-hidden":"true"},null,8,["icon"]),U(" "+C(f.name),1)]),_:2},1032,["to","class"])),64))]),t("div",Xe,[t("div",Qe,[t("div",et,[t("img",{class:"h-10 w-10 rounded-full",src:l.value,alt:"User avatar"},null,8,tt)]),t("div",ot,[t("p",st,C(g.value||"Usuario"),1),t("button",{onClick:T,class:"text-xs font-medium text-indigo-200 hover:text-white"}," Cerrar sesión ")])])])])],2),t("div",rt,[t("header",nt,[t("div",at,[t("h1",it,C(h.value),1),i[4]||(i[4]=t("div",{class:"flex items-center space-x-4"},null,-1))])]),t("main",lt,[t("div",ct,[P(N,null,{default:X(({Component:f})=>[P(Ie,{name:"fade",mode:"out-in"},{default:X(()=>[(_(),Te(Le(f)))]),_:2},1024)]),_:1})])])])]),n.value?(_(),x("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-30 md:hidden",onClick:i[1]||(i[1]=f=>n.value=!1)})):K("",!0)],64)}}},ut=q(dt,[["__scopeId","data-v-6d9b38fd"]]),ft={key:0,class:"bg-red-50 border-l-4 border-red-400 p-4 mb-6"},mt={class:"flex"},pt={class:"ml-3"},gt={class:"text-sm text-red-700 whitespace-pre-line"},ht={class:"rounded-md shadow-sm -space-y-px"},vt=["disabled"],_t=["disabled"],xt={class:"flex items-center justify-between"},wt={class:"flex items-center"},yt=["disabled"],bt=["disabled"],kt={key:0},Et={key:1},Tt={__name:"Login",setup(e){const o=te(),s=me(),r=oe(),n=y({email:"",password:"",rememberMe:!1}),u=y(""),h=y(!1),g=s.query.redirect||"/dashboard";ee(()=>{r.isAuthenticated&&o.push(g)});const l=()=>{const d={};return n.value.email?/\S+@\S+\.\S+/.test(n.value.email)||(d.email="El correo electrónico no es válido"):d.email="El correo electrónico es obligatorio",n.value.password?n.value.password.length<6&&(d.password="La contraseña debe tener al menos 6 caracteres"):d.password="La contraseña es obligatoria",Object.keys(d).length===0?!0:d},T=async()=>{const d=l();if(d!==!0){u.value=Object.values(d).join(`
`),alert("Error de validación: "+u.value);return}h.value=!0,u.value="";try{const p=await r.login(n.value.email,n.value.password);if(p.success){if(!localStorage.getItem("auth_token"))throw alert("No se pudo guardar el token de autenticación"),new Error("No se pudo guardar el token de autenticación");await Se(),setTimeout(()=>{window.location.href=g},100)}else{let i=p.error||p.message||"Error al iniciar sesión. Por favor, verifica tus credenciales.";typeof i!="string"&&(i=JSON.stringify(i)),u.value=i,alert("Error en login: "+i)}}catch(p){let i=p.message||"Ocurrió un error al intentar iniciar sesión. Por favor, inténtalo de nuevo.";typeof i!="string"&&(i=JSON.stringify(i)),u.value=i,alert("Error inesperado en login: "+i)}finally{h.value=!1}};return(d,p)=>(_(),x("div",null,[u.value?(_(),x("div",ft,[t("div",mt,[p[3]||(p[3]=t("div",{class:"flex-shrink-0"},[t("svg",{class:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z","clip-rule":"evenodd"})])],-1)),t("div",pt,[t("p",gt,C(u.value),1)])])])):K("",!0),t("form",{class:"space-y-6",onSubmit:Me(T,["prevent"])},[t("div",ht,[t("div",null,[p[4]||(p[4]=t("label",{for:"email-address",class:"sr-only"},"Correo electrónico",-1)),ie(t("input",{id:"email-address","onUpdate:modelValue":p[0]||(p[0]=i=>n.value.email=i),name:"email",type:"email",autocomplete:"email",required:"",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Correo electrónico",disabled:h.value},null,8,vt),[[he,n.value.email]])]),t("div",null,[p[5]||(p[5]=t("label",{for:"password",class:"sr-only"},"Contraseña",-1)),ie(t("input",{id:"password","onUpdate:modelValue":p[1]||(p[1]=i=>n.value.password=i),name:"password",type:"password",autocomplete:"current-password",required:"",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Contraseña",disabled:h.value},null,8,_t),[[he,n.value.password]])])]),t("div",xt,[t("div",wt,[ie(t("input",{id:"remember-me","onUpdate:modelValue":p[2]||(p[2]=i=>n.value.rememberMe=i),name:"remember-me",type:"checkbox",class:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded",disabled:h.value},null,8,yt),[[Ne,n.value.rememberMe]]),p[6]||(p[6]=t("label",{for:"remember-me",class:"ml-2 block text-sm text-gray-900"}," Recordar sesión ",-1))]),p[7]||(p[7]=t("div",{class:"text-sm"},[t("a",{href:"#",class:"font-medium text-indigo-600 hover:text-indigo-500"}," ¿Olvidaste tu contraseña? ")],-1))]),t("div",null,[t("button",{type:"submit",class:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",disabled:h.value},[p[8]||(p[8]=t("span",{class:"absolute left-0 inset-y-0 flex items-center pl-3"},[t("svg",{class:"h-5 w-5 text-indigo-500 group-hover:text-indigo-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[t("path",{"fill-rule":"evenodd",d:"M10 1a4.5 4.5 0 00-4.5 4.5V9H5a2 2 0 00-2 2v6a2 2 0 002 2h10a2 2 0 002-2v-6a2 2 0 00-2-2h-.5V5.5A4.5 4.5 0 0010 1zm3 8V5.5a3 3 0 10-6 0V9h6z","clip-rule":"evenodd"})])],-1)),h.value?(_(),x("span",Et,"Iniciando sesión...")):(_(),x("span",kt,"Iniciar sesión"))],8,bt)])],32)]))}};var D=(e=>(e.CONNECT="connect",e.DISCONNECT="disconnect",e.RECONNECT="reconnect",e.RECONNECTING="reconnecting",e.MESSAGE="message",e.SYSTEM_STATUS="system_status",e.AUTH_RESPONSE="auth_response",e.ERROR="error",e.AUTH_ERROR="auth_error",e.CONNECTION_ERROR="connection_error",e.STATUS_UPDATE="status_update",e.CUSTOM="custom",e))(D||{});const S=y("disconnected"),G=y(!1),I=y(null);let v=null,Y=0;const ye=3;let F=null,ue=null,H=null;const z={};Object.values(D).forEach(e=>{z[e]=new Set});const St=()=>{v&&(v.close(1e3,"Componente desmontado"),v=null),F&&(clearTimeout(F),F=null)},L={addEventListener(e,o){const s=e;return z[s]||(z[s]=new Set),z[s].add(o),()=>{this.removeEventListener(e,o)}},removeEventListener(e,o){const s=e;z[s]&&z[s].delete(o)},emit(e,o){const s={type:e,data:o,timestamp:new Date().toISOString()},r=z[e];r&&r.forEach(n=>{try{n(s)}catch{}})},_scheduleReconnect(){if(Y>=ye){S.value="error";return}const e=Math.min(1e3*Math.pow(1.5,Y),3e3);Y++,S.value="reconnecting",F=setTimeout(()=>{requestAnimationFrame(()=>{ue&&this.connect(ue).catch(o=>{Y<ye&&this._scheduleReconnect()})})},e)},async connect(e){try{if(v&&this.disconnect(),!e||e.trim()==="")throw new Error("No se proporcionó un token de autenticación válido");try{const u=JSON.parse(atob(e.split(".")[1])),h=Math.floor(Date.now()/1e3);if(u.exp&&u.exp<h)throw new Error("El token de autenticación ha expirado")}catch{}ue=e,S.value="connecting",I.value=null;const o=`client-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,s=!1;let r;s||(r=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/api/v1/ws/${o}`);const n=new URL(r);return n.searchParams.set("token",e),new Promise((u,h)=>{try{v=new WebSocket(n.toString()),v.binaryType="arraybuffer";const g=setTimeout(()=>{if(v&&v.readyState===WebSocket.CONNECTING){v.close(4e3,"Connection timeout");const l="Tiempo de conexión agotado";I.value=new Error(l),S.value="error",h(new Error(l))}},5e3);v.onopen=()=>{clearTimeout(g),G.value=!0,S.value="connected",Y=0,this._startHeartbeat(),this.emit(D.CONNECT,{type:D.CONNECT}),u(!0)},v.onclose=l=>{clearTimeout(g),G.value=!1,l.code===1e3?S.value="disconnected":l.code===4e3?(S.value="error",I.value=new Error("Tiempo de conexión agotado")):l.code===1006?(S.value="error",I.value=new Error("Conexión cerrada inesperadamente")):l.code===1008?(S.value="error",I.value=new Error("Token de autenticación inválido o expirado")):(S.value="error",I.value=new Error(`Conexión cerrada con código: ${l.code}`)),l.code!==1e3&&l.code!==1001&&l.code!==1008&&(I.value=new Error(`Conexión cerrada: ${l.reason||"Código: "+l.code}`),this._scheduleReconnect()),this.emit(D.DISCONNECT,{type:D.DISCONNECT,code:l.code,reason:l.reason,wasClean:l.wasClean})},v.onerror=l=>{I.value=new Error("Error en la conexión WebSocket"),this.emit(D.ERROR,{type:D.ERROR,error:l}),S.value==="connecting"&&h(new Error("Error en la conexión WebSocket"))},v.onmessage=l=>{try{const T=typeof l.data=="string"?JSON.parse(l.data):l.data;this.emit(T.type||"message",T)}catch{}}}catch(g){I.value=g instanceof Error?g:new Error("Error al crear la conexión WebSocket"),S.value="error",h(g)}})}catch(o){throw S.value="error",I.value=o instanceof Error?o:new Error(String(o)),I.value}},disconnect(){if(this._stopHeartbeat(),v)try{(v.readyState===WebSocket.OPEN||v.readyState===WebSocket.CONNECTING)&&v.close(1e3,"User disconnected"),v.onopen=null,v.onclose=null,v.onerror=null,v.onmessage=null,v=null}catch{}F&&(clearTimeout(F),F=null),S.value="disconnected",G.value=!1},async send(e){if(!v)throw new Error("WebSocket no inicializado");if(v.readyState!==WebSocket.OPEN)throw new Error("WebSocket no está conectado");const o=typeof e=="string"?e:JSON.stringify(e);v.send(o)},get currentStatus(){return S.value},get isConnected(){return G.value},get currentError(){return I.value},_startHeartbeat(){H&&clearInterval(H),H=setInterval(()=>{if(v&&v.readyState===WebSocket.OPEN)try{v.send(JSON.stringify({type:"ping",timestamp:Date.now()}))}catch{}},3e4)},_stopHeartbeat(){H&&(clearInterval(H),H=null)},cleanup(){this._stopHeartbeat(),St()},useWebSocket(){const e=()=>{Object.values(D).forEach(o=>{z[o].clear()})};return{connect:L.connect.bind(L),disconnect:L.disconnect.bind(L),send:L.send.bind(L),addEventListener:L.addEventListener.bind(L),removeEventListener:L.removeEventListener.bind(L),cleanup:e,status:le(S),isConnected:le(G),error:le(I)}}},Ct=L.useWebSocket.bind(L),$t=["title"],At={class:"status-text"},Rt=ke({__name:"SystemStatusBadge",setup(e){const o=oe(),{status:s,error:r,connect:n,disconnect:u,cleanup:h}=Ct(),g=y(null),l=j(()=>{switch(s.value){case"connected":return"Connected";case"connecting":return"Connecting...";case"reconnecting":return"Reconnecting...";case"error":return"Connection Error";default:return"Disconnected"}}),T=j(()=>({"status-connected":s.value==="connected","status-connecting":s.value==="connecting","status-reconnecting":s.value==="reconnecting","status-error":s.value==="error","status-disconnected":s.value==="disconnected"})),d=j(()=>r.value?`Error: ${r.value.message}`:g.value?`Error: ${g.value.message}`:l.value);fe(r,i=>{i&&(g.value=i)});const p=()=>{try{if(!o)return;o.isAuthenticated&&o.token&&n(o.token).catch(i=>{const E=i instanceof Error?i:new Error(String(i));g.value=E,E.message.includes("Network error")||E.message.includes("Tiempo de conexión agotado")})}catch(i){const E=i instanceof Error?i:new Error(String(i));g.value=E}};return fe(()=>o.token,(i,E)=>{try{if(!i&&E){u();return}i&&o.isAuthenticated&&n(i).catch(R=>{const N=R instanceof Error?R:new Error(String(R));g.value=N})}catch(R){const N=R instanceof Error?R:new Error(String(R));g.value=N}},{immediate:!0}),ee(()=>{p()}),pe(()=>{h()}),(i,E)=>(_(),x("div",{class:M(["system-status-badge",T.value]),title:d.value},[E[0]||(E[0]=t("span",{class:"status-dot"},null,-1)),t("span",At,C(l.value),1)],10,$t))}});const It=q(Rt,[["__scopeId","data-v-09c05868"]]),Lt="/images/zues-3d-main.png";const Nt={class:"zeus-3d-container relative flex flex-col items-center justify-center h-full w-full"},Mt={__name:"Zeus3D",setup(e){const o=te(),s=oe(),r=y(!0),n=()=>{o.push("/perfil")},u=()=>{o.push("/dashboard")},h=()=>{alert("Estado del sistema: conectado")},g=()=>{r.value=!r.value},l=async()=>{await s.logout(),o.push("/login")};return(T,d)=>(_(),x("div",Nt,[d[5]||(d[5]=t("img",{src:Lt,alt:"ZEUS IA Zeus",class:"zeus-3d-image rounded-xl shadow-lg object-cover",draggable:"false"},null,-1)),t("div",{class:"zeus-3d-buttons absolute inset-0 flex flex-col items-end justify-between p-6 pointer-events-none"},[t("div",{class:"flex flex-col space-y-4 mt-2 pointer-events-auto"},[t("button",{onClick:n,class:"zeus-btn",title:"Perfil de usuario"},d[0]||(d[0]=[t("i",{class:"fas fa-user-circle"},null,-1)])),t("button",{onClick:u,class:"zeus-btn",title:"Panel de control"},d[1]||(d[1]=[t("i",{class:"fas fa-tachometer-alt"},null,-1)])),t("button",{onClick:h,class:"zeus-btn",title:"Estado del sistema"},d[2]||(d[2]=[t("i",{class:"fas fa-signal"},null,-1)])),t("button",{onClick:g,class:"zeus-btn",title:"Vista 3D"},d[3]||(d[3]=[t("i",{class:"fas fa-cube"},null,-1)]))]),t("div",{class:"flex flex-col pointer-events-auto"},[t("button",{onClick:l,class:"zeus-btn",title:"Cerrar sesión"},d[4]||(d[4]=[t("i",{class:"fas fa-sign-out-alt"},null,-1)]))])])]))}},Dt=q(Mt,[["__scopeId","data-v-d3f707c0"]]);const Pt={class:"bg-white overflow-hidden shadow rounded-lg"},jt={class:"p-5"},zt={class:"flex items-center"},Ot={key:1,class:"h-6 w-6"},Ut={class:"ml-5 w-0 flex-1"},Ft={class:"text-sm font-medium text-gray-500 truncate"},qt={class:"text-lg font-medium text-gray-900"},Vt={key:0,class:"mt-4 flex items-center"},Bt={key:1,class:"mt-4"},Ht={__name:"DashboardMetric",props:{title:{type:String,required:!0},value:{type:[String,Number],required:!0},icon:{type:String,required:!0},trend:{type:String,validator:e=>["up","down",null,void 0].includes(e),default:null},trendValue:{type:String,default:""},loading:{type:Boolean,default:!1}},setup(e){return(o,s)=>(_(),x("div",Pt,[t("div",jt,[t("div",zt,[t("div",{class:M(["flex-shrink-0 rounded-md p-3",{"bg-indigo-100":!e.loading,"bg-gray-200":e.loading,"animate-pulse":e.loading}])},[e.loading?(_(),x("div",Ot)):(_(),x("i",{key:0,class:M(["fas",`fa-${e.icon}`,"text-indigo-600 text-lg"])},null,2))],2),t("div",Ut,[t("dl",null,[t("dt",Ft,C(e.loading?"Cargando...":e.title),1),t("dd",null,[t("div",qt,C(e.loading?"...":e.value),1)])])])]),!e.loading&&e.trend?(_(),x("div",Vt,[t("span",{class:M(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",e.trend==="up"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},[t("i",{class:M(["mr-1",e.trend==="up"?"fa-arrow-up":"fa-arrow-down"])},null,2),U(" "+C(e.trendValue),1)],2),s[0]||(s[0]=t("span",{class:"ml-2 text-sm text-gray-500"}," vs. período anterior ",-1))])):e.loading?(_(),x("div",Bt,s[1]||(s[1]=[t("div",{class:"h-4 bg-gray-200 rounded w-3/4"},null,-1)]))):K("",!0)])]))}},Zt=q(Ht,[["__scopeId","data-v-b4acc032"]]);const Kt={class:"dashboard"},Jt={key:0,class:"fixed inset-0 bg-white bg-opacity-75 flex items-center justify-center z-50"},Wt={key:1,class:"fixed inset-0 bg-white flex items-center justify-center z-50"},Gt={class:"text-center p-6 max-w-md mx-auto"},Yt={class:"mt-2 text-sm text-gray-500"},Xt={class:"mt-5"},Qt={class:"bg-white shadow"},eo={class:"max-w-7xl mx-auto px-4 py-4 sm:px-6 lg:px-8 flex justify-between items-center"},to={class:"flex items-center space-x-4"},oo={class:"relative"},so={class:"hidden md:inline text-sm font-medium text-gray-700"},ro={key:0,class:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none z-50",role:"menu",tabindex:"-1"},no={class:"py-1",role:"none"},ao={class:"max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8"},io={class:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4 mb-8"},lo={class:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8"},co={class:"lg:col-span-2 bg-white rounded-lg shadow p-6"},uo={class:"flex justify-between items-center mb-4"},fo={class:"flex space-x-2"},mo=["onClick"],po={class:"h-64"},go={class:"bg-white rounded-lg shadow overflow-hidden"},ho={class:"p-6"},vo={class:"h-64"},_o={class:"bg-white shadow overflow-hidden sm:rounded-lg"},xo={class:"overflow-x-auto"},wo={class:"min-w-full divide-y divide-gray-200"},yo={class:"bg-white divide-y divide-gray-200"},bo={class:"px-6 py-4 whitespace-nowrap"},ko={class:"flex items-center"},Eo={class:"flex-shrink-0 h-10 w-10"},To={class:"ml-4"},So={class:"text-sm font-medium text-gray-900"},Co={class:"text-sm text-gray-500"},$o={class:"px-6 py-4 whitespace-nowrap"},Ao={class:"text-sm text-gray-900"},Ro={class:"px-6 py-4 whitespace-nowrap"},Io={class:"text-sm text-gray-500"},Lo={class:"px-6 py-4 whitespace-nowrap"},No={key:0},Mo={__name:"Dashboard",setup(e){ce.register(...De);const o=oe(),s=te(),r=y("día"),n=y(!1),u=y(!0),h=y(null),g=y(null);y(null);const l=y(null),T=y([{title:"Ventas Hoy",value:"1,245",icon:"shopping-cart",trend:"up",trendValue:"12%",loading:!1},{title:"Ingresos",value:"$12,548",icon:"dollar-sign",trend:"down",trendValue:"3%"},{title:"Clientes Nuevos",value:"24",icon:"users",trend:"up",trendValue:"8%"},{title:"Órdenes",value:"156",icon:"box",trend:"up",trendValue:"5%"}]),d=y([{id:1,title:"Nueva orden creada",description:"Orden #1001 por $125.75",type:"order",user:"Juan Pérez",timestamp:new Date,status:"completed"},{id:2,title:"Error de pago",description:"Error al procesar el pago #1002",type:"error",user:"María García",timestamp:de(new Date,1),status:"error"},{id:3,title:"Nuevo cliente registrado",description:"Carlos López se ha registrado",type:"user",user:"Sistema",timestamp:de(new Date,2),status:"completed"}]),p={order:"fas fa-shopping-cart",error:"fas fa-exclamation-circle",user:"fas fa-user-plus",system:"fas fa-cog"},i=j(()=>o.userFullName||"Usuario"),E=c=>{if(!c)return"";try{const a=typeof c=="string"?new Date(c):c;return ve(a,"dd/MM/yyyy HH:mm",{locale:_e})}catch{return"Fecha inválida"}},R=async()=>{try{await o.logout(),s.push("/login")}catch{}},N=c=>{const a=document.querySelector(".user-menu"),b=document.querySelector('[aria-expanded="true"]');a&&b&&!a.contains(c.target)&&!b.contains(c.target)&&(n.value=!1)},f=()=>{if(l.value){const c=ce.getChart(l.value);c&&c.destroy()}if(l.value){const c=l.value.getContext("2d");new ce(c,{type:"line",data:{labels:Array.from({length:7},(a,b)=>{const m=de(new Date,6-b);return ve(m,"EEE",{locale:_e})}),datasets:[{label:"Ventas",data:[12,19,3,5,2,3,15],borderColor:"rgb(79, 70, 229)",backgroundColor:"rgba(79, 70, 229, 0.1)",tension:.4,fill:!0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,grid:{display:!0,drawBorder:!1},ticks:{stepSize:5}},x:{grid:{display:!1,drawBorder:!1}}}}})}};return fe(r,c=>{}),ee(()=>{(async()=>{try{if(u.value=!0,h.value=null,!o.isAuthenticated&&!await o.refreshAccessToken())throw new Error("Sesión expirada. Por favor, inicia sesión nuevamente.");try{g.value=await ge.getCurrentUser()}catch(a){if(o.user)g.value=o.user;else throw a}await Promise.all([]),Se(()=>{f()})}catch(a){h.value=a.response?.data?.message||a.message||"Error al cargar los datos del dashboard",(a.response?.status===401||a.message.includes("Sesión expirada"))&&(o.logout(),s.push("/login"))}finally{u.value=!1}})(),document.addEventListener("click",N)}),pe(()=>{document.removeEventListener("click",N)}),(c,a)=>{const b=Z("router-link");return _(),x("div",Kt,[u.value?(_(),x("div",Jt,a[4]||(a[4]=[t("div",{class:"text-center"},[t("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),t("p",{class:"mt-4 text-gray-700"},"Cargando datos del dashboard...")],-1)]))):h.value?(_(),x("div",Wt,[t("div",Gt,[a[7]||(a[7]=t("div",{class:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100"},[t("i",{class:"fas fa-exclamation-triangle text-red-600 text-xl"})],-1)),a[8]||(a[8]=t("h3",{class:"mt-3 text-lg font-medium text-gray-900"},"Error al cargar el dashboard",-1)),t("p",Yt,C(h.value),1),t("div",Xt,[t("button",{onClick:a[0]||(a[0]=(...m)=>c.retryLoading&&c.retryLoading(...m)),class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},a[5]||(a[5]=[t("i",{class:"fas fa-sync-alt mr-2"},null,-1),U(" Reintentar ")])),t("button",{onClick:a[1]||(a[1]=m=>Pe(o).logout()),class:"ml-3 inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},a[6]||(a[6]=[t("i",{class:"fas fa-sign-out-alt mr-2"},null,-1),U(" Cerrar sesión ")]))])])])):K("",!0),t("header",Qt,[t("div",eo,[a[12]||(a[12]=t("h1",{class:"text-2xl font-bold text-gray-900"},"Panel de Control",-1)),t("div",to,[P(It),t("div",oo,[t("button",{onClick:a[2]||(a[2]=m=>n.value=!n.value),class:"flex items-center space-x-2 focus:outline-none"},[a[9]||(a[9]=t("span",{class:"inline-block h-8 w-8 rounded-full bg-indigo-100 flex items-center justify-center"},[t("i",{class:"fas fa-user text-indigo-600"})],-1)),t("span",so,C(i.value),1)]),n.value?(_(),x("div",ro,[t("div",no,[P(b,{to:"/perfil",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",onClick:a[3]||(a[3]=m=>n.value=!1)},{default:X(()=>a[10]||(a[10]=[t("i",{class:"fas fa-user-circle mr-2"},null,-1),U(" Perfil ")])),_:1,__:[10]}),t("button",{onClick:R,class:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem"},a[11]||(a[11]=[t("i",{class:"fas fa-sign-out-alt mr-2"},null,-1),U(" Cerrar sesión ")]))])])):K("",!0)])])])]),t("main",ao,[t("div",io,[(_(!0),x(Q,null,re(T.value,m=>(_(),Te(Zt,{key:m.title,title:m.title,value:m.value,icon:m.icon,trend:m.trend,"trend-value":m.trendValue,loading:u.value},null,8,["title","value","icon","trend","trend-value","loading"]))),128))]),t("div",lo,[t("div",co,[t("div",uo,[a[13]||(a[13]=t("h2",{class:"text-lg font-medium text-gray-900"},"Ventas Recientes",-1)),t("div",fo,[(_(),x(Q,null,re(["Día","Semana","Mes"],m=>t("button",{key:m,onClick:$=>r.value=m.toLowerCase(),class:M(["px-3 py-1 text-sm rounded-md",{"bg-indigo-100 text-indigo-700":r.value===m.toLowerCase(),"text-gray-500 hover:bg-gray-100":r.value!==m.toLowerCase()}])},C(m),11,mo)),64))])]),t("div",po,[t("canvas",{ref_key:"salesChart",ref:l},null,512)])]),t("div",go,[t("div",ho,[a[14]||(a[14]=t("h2",{class:"text-lg font-medium text-gray-900 mb-4"},"Vista 3D",-1)),t("div",vo,[P(Dt,{class:"h-full w-full"})])])])]),t("div",_o,[a[17]||(a[17]=t("div",{class:"px-4 py-5 sm:px-6 border-b border-gray-200"},[t("h3",{class:"text-lg leading-6 font-medium text-gray-900"},"Actividad Reciente"),t("p",{class:"mt-1 max-w-2xl text-sm text-gray-500"}," Últimas actividades en el sistema ")],-1)),t("div",xo,[t("table",wo,[a[16]||(a[16]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actividad "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Usuario "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Fecha "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Estado ")])],-1)),t("tbody",yo,[(_(!0),x(Q,null,re(d.value,(m,$)=>(_(),x("tr",{key:$},[t("td",bo,[t("div",ko,[t("div",Eo,[t("i",{class:M([p[m.type],"text-indigo-600 text-lg"])},null,2)]),t("div",To,[t("div",So,C(m.title),1),t("div",Co,C(m.description),1)])])]),t("td",$o,[t("div",Ao,C(m.user),1)]),t("td",Ro,[t("div",Io,C(E(m.timestamp)),1)]),t("td",Lo,[t("span",{class:M(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",m.status==="completed"?"bg-green-100 text-green-800":m.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"])},C(m.status==="completed"?"Completado":m.status==="pending"?"Pendiente":"Error"),3)])]))),128)),d.value.length===0?(_(),x("tr",No,a[15]||(a[15]=[t("td",{colspan:"4",class:"px-6 py-4 text-center text-sm text-gray-500"}," No hay actividades recientes ",-1)]))):K("",!0)])])])])])])}}},Do=q(Mo,[["__scopeId","data-v-029e61fb"]]);const Po={class:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8"},jo={class:"sm:mx-auto sm:w-full sm:max-w-md"},zo={class:"mt-6"},Oo={__name:"NotFound",setup(e){return te(),(o,s)=>{const r=Z("router-link");return _(),x("div",Po,[t("div",jo,[s[1]||(s[1]=t("h1",{class:"mt-6 text-center text-6xl font-extrabold text-gray-900"}," 404 ",-1)),s[2]||(s[2]=t("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900"}," Página no encontrada ",-1)),s[3]||(s[3]=t("p",{class:"mt-2 text-center text-sm text-gray-600"}," Lo sentimos, no pudimos encontrar la página que estás buscando. ",-1)),t("div",zo,[P(r,{to:"/",class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},{default:X(()=>s[0]||(s[0]=[U(" Volver al inicio ")])),_:1,__:[0]})])])])}}},Uo=q(Oo,[["__scopeId","data-v-2143f29a"]]),Fo=je({history:ze("/"),routes:[{path:"/",redirect:"/auth/login"},{path:"/auth/login",component:Tt,name:"Login"},{path:"/dashboard",component:ut,children:[{path:"",component:Do,name:"Dashboard"}]},{path:"/:pathMatch(.*)*",name:"NotFound",component:Uo}]});async function be(){try{const e=Oe(Ve),o=Ue();return e.use(o),e.use(Fo),e.mount("#app"),e}catch(e){const o=document.createElement("div");throw o.style.position="fixed",o.style.top="0",o.style.left="0",o.style.right="0",o.style.padding="1rem",o.style.backgroundColor="#fef2f2",o.style.color="#dc2626",o.style.borderBottom="1px solid #fecaca",o.style.zIndex="9999",o.textContent="Error al cargar la aplicación. Por favor, recarga la página.",document.body.prepend(o),e}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{be().catch(console.error)}):be().catch(console.error);
