import{d as ke,u as re,o as Q,r as B,a as h,c as _,b as L,e as z,f as t,w as U,n as M,t as k,g as H,h as $e,i as P,j as y,k as Re,l as Ee,m as Ae,p as ae,q as ee,s as me,F as X,v as oe,T as Ie,x as Te,y as Ne,z as ie,A as ge,B as Le,C as Me,D as le,E as fe,G as ce,H as ze,I as de,J as De,K as Pe,L as he,M as ve,N as je,O as Oe,P as Ue,Q as Fe}from"./vendor-d069b872.js";const qe={id:"app"},Ve=ke({__name:"App",setup(e){return re(),Q(()=>{}),(s,o)=>{const n=B("RouterView");return h(),_("div",qe,[L(n)])}}});const F=(e,s)=>{const o=e.__vccOpts||e;for(const[n,r]of s)o[n]=r;return o},Be=F(Ve,[["__scopeId","data-v-124706ea"]]);const He={class:"min-h-screen flex flex-col bg-gray-50"},Ze={class:"bg-white shadow-sm"},Ke={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4"},Je={class:"flex justify-between items-center"},Ge={class:"flex-shrink-0"},We={class:"text-2xl font-bold text-indigo-600"},Ye={class:"hidden md:flex space-x-8"},Xe={class:"flex-grow flex items-center justify-center p-4"},Qe={class:"w-full max-w-md"},et={class:"bg-white p-8 rounded-lg shadow-md"},tt={class:"text-center mb-8"},st={class:"text-2xl font-bold text-gray-900"},ot={key:0,class:"mt-2 text-sm text-gray-600"},rt={class:"bg-white border-t border-gray-200"},nt={class:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8"},at={class:"text-center text-sm text-gray-500"},it={__name:"AuthLayout",setup(e){const s=re(),o=z(()=>s.meta.title||"Bienvenido a ZEUS-IA"),n=z(()=>s.meta.description||"");return(r,c)=>{const m=B("router-link");return h(),_("div",He,[t("header",Ze,[t("div",Ke,[t("div",Je,[t("div",Ge,[t("h1",We,[L(m,{to:"/"},{default:U(()=>c[0]||(c[0]=[P("ZEUS-IA")])),_:1,__:[0]})])]),t("nav",Ye,[L(m,{to:"/auth/login",class:M(["text-gray-700 hover:text-indigo-600 px-3 py-2 text-sm font-medium",{"text-indigo-600 border-b-2 border-indigo-600":r.$route.name==="Login"}])},{default:U(()=>c[1]||(c[1]=[P(" Iniciar sesión ")])),_:1,__:[1]},8,["class"]),L(m,{to:"/auth/register",class:M(["text-gray-700 hover:text-indigo-600 px-3 py-2 text-sm font-medium",{"text-indigo-600 border-b-2 border-indigo-600":r.$route.name==="Register"}])},{default:U(()=>c[2]||(c[2]=[P(" Crear cuenta ")])),_:1,__:[2]},8,["class"])])])])]),t("main",Xe,[t("div",Qe,[t("div",et,[t("div",tt,[t("h2",st,k(o.value),1),n.value?(h(),_("p",ot,k(n.value),1)):H("",!0)]),$e(r.$slots,"default",{},void 0,!0)])])]),t("footer",rt,[t("div",nt,[t("p",at," © "+k(new Date().getFullYear())+" ZEUS-IA. Todos los derechos reservados. ",1)])])])}}},lt=F(it,[["__scopeId","data-v-e2d4456a"]]),ct=e=>{if(!e||typeof e!="string"||e.trim()==="")return null;const s=dt(e);if(!s)return null;try{const o=s.split(".");if(o.length!==3)return null;const n=o[1],c=n.padEnd(n.length+(4-n.length%4)%4,"=").replace(/\-/g,"+").replace(/_/g,"/");try{const m=decodeURIComponent(atob(c).split("").map(v=>"%"+("00"+v.charCodeAt(0).toString(16)).slice(-2)).join("")),i=JSON.parse(m);if(i&&typeof i=="object"&&"exp"in i){const v=i.exp}return i}catch{return null}}catch{return null}};y(!1);const dt=e=>{if(!e)return null;try{let s=String(e).replace(/[\u0000-\u001F\u007F-\u009F\u2000-\u200F\u2028-\u202F\u205F-\u206F\u3000\uFEFF]/g,"").trim();if(s=s.replace(/^[^a-zA-Z0-9]*bearer[^a-zA-Z0-9]*(.*)/i,(n,r)=>r||"").trim(),!s)return null;const o=s.split(".");if(o.length!==3)return null;try{o.forEach(n=>{const r=n.padEnd(n.length+(4-n.length%4)%4,"=");atob(r)})}catch{return null}return s}catch{return null}},K="auth_token",J="refresh_token",_e="refresh_timeout",ne="Bearer ",w={setToken:e=>{if(e)try{localStorage.setItem(K,e),E.defaults.headers.common.Authorization=`${ne}${e}`}catch{}else localStorage.removeItem(K),delete E.defaults.headers.common.Authorization},getToken:()=>typeof window>"u"?null:localStorage.getItem(K),setRefreshToken:e=>{if(e)try{localStorage.setItem(J,e)}catch{}else localStorage.removeItem(J)},getRefreshToken:()=>typeof window>"u"?null:localStorage.getItem(J),removeTokens:()=>{localStorage.removeItem(K),localStorage.removeItem(J),localStorage.removeItem(_e),delete E.defaults.headers.common.Authorization,window.tokenRefreshTimeout&&(clearTimeout(window.tokenRefreshTimeout),delete window.tokenRefreshTimeout)},removeToken:()=>{localStorage.removeItem(K),delete E.defaults.headers.common.Authorization},isTokenExpired:e=>{if(!e)return!0;try{const s=ct(e);if(!s?.exp)return!0;const o=Date.now()/1e3;return s.exp<o}catch{return!0}},isValidToken:e=>e?e.split(".").length===3&&!w.isTokenExpired(e):!1,clearTokens:()=>{localStorage.removeItem(K),localStorage.removeItem(J),localStorage.removeItem(_e),delete E.defaults.headers.common.Authorization,window.tokenRefreshTimeout&&(clearTimeout(window.tokenRefreshTimeout),delete window.tokenRefreshTimeout)},getTokenPayload:e=>{if(!e)return null;try{const s=e.split(".");if(s.length!==3)return null;const o=s[1].replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(atob(o).split("").map(r=>"%"+("00"+r.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(n)}catch{return null}},refreshToken:function(){throw new Error("Function not implemented.")}},E=Re.create({baseURL:"http://localhost:8000/api/v1",timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest"},withCredentials:!0,xsrfCookieName:"csrftoken",xsrfHeaderName:"X-CSRFToken"});E.interceptors.request.use(e=>{const s=w.getToken();return s&&(e.headers.Authorization=`${ne}${s}`),e.headers["Access-Control-Allow-Origin"]=window.location.origin,e.headers["Access-Control-Allow-Methods"]="GET, POST, PUT, DELETE, OPTIONS",e.headers["Access-Control-Allow-Headers"]="Content-Type, Authorization, X-Requested-With",e.method?.toLowerCase()==="options"&&(e.headers["Access-Control-Max-Age"]="86400"),e},e=>Promise.reject(e));E.interceptors.request.use(e=>{const s=e.url?.includes("auth/login")||e.url?.includes("auth/refresh-token"),o=w.getToken();return o&&!s&&(e.headers.Authorization=`Bearer ${o}`),e.method?.toLowerCase()==="get"&&(e.params={...e.params,_t:Date.now()}),e},e=>Promise.reject(e));const ut=async()=>{const e=w.getRefreshToken();if(!e)return w.clearTokens(),!1;try{const s=await E.post("auth/refresh-token",{refresh_token:e},{skipAuthRefresh:!0});if(s.data.status==="success"&&s.data.data){const{access_token:o,refresh_token:n}=s.data.data;return w.setToken(o),n&&w.setRefreshToken(n),!0}return!1}catch{return w.clearTokens(),!1}};E.interceptors.response.use(e=>e,async e=>{const s=e.config;if(!e.response)return Promise.reject($("network_error","Error de red",e));if(e.response?.status!==401||s._retry)return Promise.reject(e);if(s._retry=!0,await ut()){const n=w.getToken();if(n)return s.headers.Authorization=`Bearer ${n}`,E(s)}return Promise.reject(e)});const Se=e=>{if(window.tokenRefreshTimeout!==void 0){const o=window.tokenRefreshTimeout;clearTimeout(o),window.tokenRefreshTimeout=void 0}const s=Math.max(e-300,60)*1e3;window.tokenRefreshTimeout=window.setTimeout(async()=>{try{const o=w.getRefreshToken();o?await pe.refreshToken(o):w.removeTokens()}catch{w.removeTokens(),window.dispatchEvent(new Event("unauthorized"))}},s)},Ce=async e=>{if(!e)throw new Error("No refresh token provided");try{const s=await E.post("auth/refresh-token",{refresh_token:e},{skipAuthRefresh:!0});if(s.data.status==="success"&&s.data.data){const{access_token:o,refresh_token:n,expires_in:r}=s.data.data;if(w.setToken(o),n&&w.setRefreshToken(n),r){const c=Math.max(r-300,60);Se(c)}return s.data.data}throw new Error(s.data.error||"Failed to refresh token")}catch(s){throw Ee(s)&&s.response?.status===401&&(w.removeTokens(),window.dispatchEvent(new Event("unauthorized"))),s}};E.interceptors.request.use(e=>{if(e.url?.includes("auth/"))return e;const s=w.getToken();return s&&(e.headers.Authorization=`${ne}${s}`),e.method?.toLowerCase()==="get"&&(e.params={...e.params,_t:Date.now()}),e},e=>Promise.reject(e));E.interceptors.response.use(e=>(e.config.url?.includes("auth/"),e),async e=>{const s=e.config;if(!e.response)return Promise.reject($("network_error","Network error",e));const{status:o,data:n}=e.response;if(o===401&&!s._retry){if(s.url?.includes("auth/login")||s.url?.includes("auth/refresh-token"))return Promise.reject($("auth_error","Invalid credentials",e,n));s._retry=!0;try{const r=w.getRefreshToken();if(!r)return w.removeTokens(),window.dispatchEvent(new Event("unauthorized")),Promise.reject($("no_refresh_token","Session expired",e));try{const c=await Ce(r);if(c.access_token)return s.headers=s.headers||{},s.headers.Authorization=`${ne}${c.access_token}`,E(s)}catch(c){return w.removeTokens(),window.dispatchEvent(new Event("unauthorized")),Promise.reject($("token_refresh_failed","Session refresh failed",c))}}catch(r){return w.removeTokens(),window.dispatchEvent(new Event("unauthorized")),Promise.reject($("token_refresh_failed","Session refresh failed",r))}}switch(o){case 400:return Promise.reject($("bad_request","Bad request",e,n));case 403:return w.removeTokens(),window.dispatchEvent(new Event("unauthorized")),Promise.reject($("forbidden","Forbidden",e,n));case 404:return Promise.reject($("not_found","Resource not found",e,n));case 422:return Promise.reject($("validation_error","Validation error",e,n));case 429:return Promise.reject($("too_many_requests","Too many requests",e,n));case 500:return Promise.reject($("server_error","Internal server error",e,n));case 503:return Promise.reject($("service_unavailable","Service unavailable",e,n));default:return Promise.reject($("api_error","API request failed",e,n))}});const pe={login:async e=>{const s=new FormData;s.append("username",e.username),s.append("password",e.password),s.append("grant_type","password");const o=await E.post("auth/login",s,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(o.data&&o.data.access_token){const{access_token:n,refresh_token:r,expires_in:c}=o.data;if(w.setToken(n),r&&w.setRefreshToken(r),c){const m=Math.max(c-300,60);Se(m)}return o.data}throw new Error(o.data?.detail||"Login failed")},logout:async()=>{try{const e=w.getRefreshToken();e&&await E.post("auth/logout",{refresh_token:e})}catch{}finally{w.removeTokens(),window.location.href="/login"}},refreshToken:Ce,getCurrentUser:async()=>{const e=await E.get("auth/me");if(e.data&&e.data.data)return e.data.data;throw new Error(e.data?.detail||"Failed to fetch user profile")},getSystemStatus:async()=>{const e=await E.get("/system/status");if(e.data.status==="success"&&e.data.data)return e.data.data;throw new Error(e.data.error||"Failed to fetch system status")},request:async e=>{const s=await E.request(e);if(s.data.status==="success")return s.data.data;throw new Error(s.data.error||"API request failed")}};function $(e,s,o,n){const r=new Error(s);return r.code=e,r.originalError=o,r.details=n,Ee(o)&&(r.status=o.response?.status,r.statusText=o.response?.statusText),r}const G="auth_token",se="refresh_token",ft=e=>"error"in e||"detail"in e,xe=e=>"access_token"in e,q=pe,te=Ae("auth",()=>{const e=y(localStorage.getItem(G)),s=y(localStorage.getItem(se)),o=y(null),n=y(!1),r=y(null),c=z(()=>!!e.value),m=z(()=>!!o.value?.is_superuser);function i(){return e.value||localStorage.getItem(G)}function v(){return s.value||localStorage.getItem(se)}function I(f){try{if(!f.access_token||!f.refresh_token)throw new Error("Invalid tokens provided");return e.value=f.access_token,s.value=f.refresh_token,localStorage.setItem(G,f.access_token),localStorage.setItem(se,f.refresh_token),q.setAuthToken&&q.setAuthToken(f.access_token),!0}catch{return u(),!1}}function u(){e.value=null,s.value=null,o.value=null,r.value=null,localStorage.removeItem(G),localStorage.removeItem(se)}function g(f){try{if(!f)return!1;const d=ae(f);return o.value={id:d.sub,email:d.email||"",name:d.name||"User",is_active:d.is_active||!1,is_superuser:d.is_superuser||!1},!0}catch{return u(),!1}}async function l(f,d){if(n.value=!0,r.value=null,u(),!f||!d)return n.value=!1,{success:!1,error:"Email and password are required"};try{if(typeof localStorage>"u")throw new Error("localStorage is not available");const a="__auth_test__";try{localStorage.setItem(a,"test"),localStorage.removeItem(a)}catch{throw new Error("Could not access local storage")}const b=await q.login({username:f.trim(),password:d});if(ft(b)){const C=b.error||b.detail||"Credenciales inválidas";throw new Error(C)}if(!xe(b)){const C="Formato de respuesta inválido";throw new Error(C)}if(!b||typeof b!="object"){const C="Invalid server response format";throw new Error(C)}if(!xe(b)){const C="Invalid response format: missing access_token";throw new Error(C)}const p=b;try{const C=ae(p.access_token),Z={access_token:p.access_token,refresh_token:p.refresh_token||"",expires_in:p.expires_in||3600,token_type:p.token_type||"Bearer"};if(Z.refresh_token,!I(Z))throw new Error("Failed to save tokens");if(g(Z.access_token),!localStorage.getItem(G))throw new Error("Could not verify saved token");return{success:!0,message:"Login successful",access_token:Z.access_token,refresh_token:Z.refresh_token,expires_in:Z.expires_in}}catch{throw u(),new Error("Invalid or corrupted token")}}catch(a){const b=a.message||"Login failed";return r.value=b,u(),{success:!1,error:b}}finally{n.value=!1}}async function T(){try{if(e.value)try{await q.logout()}catch{}u()}catch(f){throw u(),f}}async function R(){const f=v();if(!f||n.value)return!1;n.value=!0;try{const d=await q.refreshToken(f);if(d.access_token){if(!I({access_token:d.access_token,refresh_token:d.refresh_token||f,expires_in:d.expires_in,token_type:d.token_type||"Bearer"}))throw new Error("Failed to update tokens after refresh");return g(d.access_token),!0}else throw new Error("Invalid token refresh response")}catch(d){return d instanceof Error&&(d.message.includes("401")||d.message.includes("invalid_grant")||d.message.includes("invalid_token")||d.message.includes("Network error"))&&await T(),!1}finally{n.value=!1}}async function D(){try{const f=i(),d=v();if(!f||!d)return!1;q.setAuthToken&&q.setAuthToken(f);const a=ae(f),b=Math.floor(Date.now()/1e3);if(a.exp?a.exp<b:!0)return u(),!1;e.value=f,s.value=d;try{return g(f),!0}catch{return!0}}catch{return!1}}return{token:e,refreshToken:s,user:o,isLoading:n,error:r,isAuthenticated:c,isAdmin:m,login:l,logout:T,initialize:D,refreshAccessToken:R,resetAuthState:u,getToken:i,getRefreshToken:v,updateUserFromToken:g,setAuthTokens:I}});const mt={class:"min-h-screen bg-gray-100 flex"},pt={class:"md:hidden fixed top-4 left-4 z-50"},gt={class:"flex flex-col h-full bg-indigo-700 w-64 shadow-lg"},ht={class:"flex-1 px-2 py-4 space-y-1"},vt={class:"p-4 border-t border-indigo-600"},_t={class:"flex items-center"},xt={class:"flex-shrink-0"},wt=["src"],yt={class:"ml-3"},bt={class:"text-sm font-medium text-white"},kt={class:"flex-1 flex flex-col md:pl-64"},Et={class:"bg-white shadow-sm"},Tt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center"},St={class:"text-lg font-semibold text-gray-900"},Ct={class:"flex-1"},$t={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},Rt={__name:"MainLayout",setup(e){const s=re(),o=ee(),n=te(),r=y(window.innerWidth>=768),c=[{name:"Dashboard",route:"Dashboard",icon:"tachometer-alt"}],m=z(()=>s.meta.title||"Dashboard"),i=z(()=>n.userFullName),v=z(()=>`https://ui-avatars.com/api/?name=${encodeURIComponent(i.value||"U")}&background=4f46e5&color=fff`),I=async()=>{await n.logout(),o.push({name:"Login"})},u=()=>{r.value=window.innerWidth>=768};return Q(()=>{window.addEventListener("resize",u),u()}),me(()=>{window.removeEventListener("resize",u)}),(g,l)=>{const T=B("font-awesome-icon"),R=B("router-link"),D=B("router-view");return h(),_(X,null,[t("div",mt,[t("div",pt,[t("button",{onClick:l[0]||(l[0]=f=>r.value=!r.value),class:"p-2 rounded-md text-gray-700 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500"},l[2]||(l[2]=[t("span",{class:"sr-only"},"Abrir menú",-1),t("svg",{class:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))]),t("div",{class:M(["fixed inset-y-0 left-0 transform md:translate-x-0 transition duration-300 ease-in-out z-40",{"translate-x-0":r.value,"-translate-x-full":!r.value}])},[t("div",gt,[l[3]||(l[3]=t("div",{class:"flex items-center justify-center h-16 px-4 bg-indigo-800"},[t("h1",{class:"text-white text-xl font-bold"},"ZEUS-IA")],-1)),t("nav",ht,[(h(),_(X,null,oe(c,f=>L(R,{key:f.name,to:{name:f.route},class:M(["group flex items-center px-4 py-3 text-sm font-medium rounded-md text-indigo-100 hover:bg-indigo-600 hover:bg-opacity-75",{"bg-indigo-800":g.$route.name===f.route}])},{default:U(()=>[L(T,{icon:f.icon,class:"mr-3 h-5 w-5 text-indigo-300 group-hover:text-indigo-200","aria-hidden":"true"},null,8,["icon"]),P(" "+k(f.name),1)]),_:2},1032,["to","class"])),64))]),t("div",vt,[t("div",_t,[t("div",xt,[t("img",{class:"h-10 w-10 rounded-full",src:v.value,alt:"User avatar"},null,8,wt)]),t("div",yt,[t("p",bt,k(i.value||"Usuario"),1),t("button",{onClick:I,class:"text-xs font-medium text-indigo-200 hover:text-white"}," Cerrar sesión ")])])])])],2),t("div",kt,[t("header",Et,[t("div",Tt,[t("h1",St,k(m.value),1),l[4]||(l[4]=t("div",{class:"flex items-center space-x-4"},null,-1))])]),t("main",Ct,[t("div",$t,[L(D,null,{default:U(({Component:f})=>[L(Ie,{name:"fade",mode:"out-in"},{default:U(()=>[(h(),Te(Ne(f)))]),_:2},1024)]),_:1})])])])]),r.value?(h(),_("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-30 md:hidden",onClick:l[1]||(l[1]=f=>r.value=!1)})):H("",!0)],64)}}},At=F(Rt,[["__scopeId","data-v-6d9b38fd"]]),It={key:0,class:"bg-red-50 border-l-4 border-red-400 p-4 mb-6"},Nt={class:"flex"},Lt={class:"ml-3"},Mt={class:"text-sm text-red-700 whitespace-pre-line"},zt={class:"rounded-md shadow-sm -space-y-px"},Dt=["disabled"],Pt=["disabled"],jt={class:"flex items-center justify-between"},Ot={class:"flex items-center"},Ut=["disabled"],Ft=["disabled"],qt={key:0},Vt={key:1},Bt={__name:"Login",setup(e){const s=ee(),o=re(),n=te(),r=y({email:"",password:"",rememberMe:!1}),c=y(""),m=y(!1),i=o.query.redirect||"/";Q(()=>{n.isAuthenticated&&s.push(i)});const v=()=>{const u={};return r.value.email?/\S+@\S+\.\S+/.test(r.value.email)||(u.email="El correo electrónico no es válido"):u.email="El correo electrónico es obligatorio",r.value.password?r.value.password.length<6&&(u.password="La contraseña debe tener al menos 6 caracteres"):u.password="La contraseña es obligatoria",Object.keys(u).length===0?!0:u},I=async()=>{const u=v();if(u!==!0){c.value=Object.values(u).join(`
`),alert("Error de validación: "+c.value);return}m.value=!0,c.value="";try{const g=await n.login(r.value.email,r.value.password);if(g.success){if(alert("Login exitoso, recargando estado y redirigiendo..."),!localStorage.getItem("auth_token"))throw alert("No se pudo guardar el token de autenticación"),new Error("No se pudo guardar el token de autenticación");setTimeout(()=>{s.push(i)},100)}else{let l=g.error||g.message||"Error al iniciar sesión. Por favor, verifica tus credenciales.";typeof l!="string"&&(l=JSON.stringify(l)),c.value=l,alert("Error en login: "+l)}}catch(g){let l=g.message||"Ocurrió un error al intentar iniciar sesión. Por favor, inténtalo de nuevo.";typeof l!="string"&&(l=JSON.stringify(l)),c.value=l,alert("Error inesperado en login: "+l)}finally{m.value=!1}};return(u,g)=>(h(),_("div",null,[c.value?(h(),_("div",It,[t("div",Nt,[g[3]||(g[3]=t("div",{class:"flex-shrink-0"},[t("svg",{class:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z","clip-rule":"evenodd"})])],-1)),t("div",Lt,[t("p",Mt,k(c.value),1)])])])):H("",!0),t("form",{class:"space-y-6",onSubmit:Me(I,["prevent"])},[t("div",zt,[t("div",null,[g[4]||(g[4]=t("label",{for:"email-address",class:"sr-only"},"Correo electrónico",-1)),ie(t("input",{id:"email-address","onUpdate:modelValue":g[0]||(g[0]=l=>r.value.email=l),name:"email",type:"email",autocomplete:"email",required:"",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Correo electrónico",disabled:m.value},null,8,Dt),[[ge,r.value.email]])]),t("div",null,[g[5]||(g[5]=t("label",{for:"password",class:"sr-only"},"Contraseña",-1)),ie(t("input",{id:"password","onUpdate:modelValue":g[1]||(g[1]=l=>r.value.password=l),name:"password",type:"password",autocomplete:"current-password",required:"",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Contraseña",disabled:m.value},null,8,Pt),[[ge,r.value.password]])])]),t("div",jt,[t("div",Ot,[ie(t("input",{id:"remember-me","onUpdate:modelValue":g[2]||(g[2]=l=>r.value.rememberMe=l),name:"remember-me",type:"checkbox",class:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded",disabled:m.value},null,8,Ut),[[Le,r.value.rememberMe]]),g[6]||(g[6]=t("label",{for:"remember-me",class:"ml-2 block text-sm text-gray-900"}," Recordar sesión ",-1))]),g[7]||(g[7]=t("div",{class:"text-sm"},[t("a",{href:"#",class:"font-medium text-indigo-600 hover:text-indigo-500"}," ¿Olvidaste tu contraseña? ")],-1))]),t("div",null,[t("button",{type:"submit",class:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",disabled:m.value},[g[8]||(g[8]=t("span",{class:"absolute left-0 inset-y-0 flex items-center pl-3"},[t("svg",{class:"h-5 w-5 text-indigo-500 group-hover:text-indigo-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[t("path",{"fill-rule":"evenodd",d:"M10 1a4.5 4.5 0 00-4.5 4.5V9H5a2 2 0 00-2 2v6a2 2 0 002 2h10a2 2 0 002-2v-6a2 2 0 00-2-2h-.5V5.5A4.5 4.5 0 0010 1zm3 8V5.5a3 3 0 10-6 0V9h6z","clip-rule":"evenodd"})])],-1)),m.value?(h(),_("span",Vt,"Iniciando sesión...")):(h(),_("span",qt,"Iniciar sesión"))],8,Ft)])],32)]))}};var j=(e=>(e.CONNECT="connect",e.DISCONNECT="disconnect",e.RECONNECT="reconnect",e.RECONNECTING="reconnecting",e.MESSAGE="message",e.SYSTEM_STATUS="system_status",e.AUTH_RESPONSE="auth_response",e.ERROR="error",e.AUTH_ERROR="auth_error",e.CONNECTION_ERROR="connection_error",e.STATUS_UPDATE="status_update",e.CUSTOM="custom",e))(j||{});const S=y("disconnected"),W=y(!1),A=y(null);let x=null,Y=0;const we=3;let V=null,ue=null;const O={};Object.values(j).forEach(e=>{O[e]=new Set});const Ht=()=>{x&&(x.close(1e3,"Componente desmontado"),x=null),V&&(clearTimeout(V),V=null)},N={addEventListener(e,s){const o=e;return O[o]||(O[o]=new Set),O[o].add(s),()=>{this.removeEventListener(e,s)}},removeEventListener(e,s){const o=e;O[o]&&O[o].delete(s)},emit(e,s){const o={type:e,data:s,timestamp:new Date().toISOString()},n=O[e];n&&n.forEach(r=>{try{r(o)}catch{}})},_scheduleReconnect(){if(Y>=we){S.value="error";return}const e=Math.min(1e3*Math.pow(1.5,Y),3e3);Y++,S.value="reconnecting",V=setTimeout(()=>{requestAnimationFrame(()=>{ue&&this.connect(ue).catch(s=>{Y<we&&this._scheduleReconnect()})})},e)},async connect(e){try{if(x&&this.disconnect(),!e||e.trim()==="")throw new Error("No se proporcionó un token de autenticación válido");try{const r=JSON.parse(atob(e.split(".")[1])),c=Math.floor(Date.now()/1e3);if(r.exp&&r.exp<c)throw new Error("El token de autenticación ha expirado")}catch{}ue=e,S.value="connecting",A.value=null;const s=!1;let o;s||(o=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`);const n=new URL(o);return n.searchParams.set("token",e),new Promise((r,c)=>{try{x=new WebSocket(n.toString()),x.binaryType="arraybuffer";const m=setTimeout(()=>{if(x&&x.readyState===WebSocket.CONNECTING){x.close(4e3,"Connection timeout");const i="Tiempo de conexión agotado";A.value=new Error(i),S.value="error",c(new Error(i))}},5e3);x.onopen=()=>{clearTimeout(m),W.value=!0,S.value="connected",Y=0,this.emit(j.CONNECT,{type:j.CONNECT}),r(!0)},x.onclose=i=>{clearTimeout(m),W.value=!1,i.code===1e3?S.value="disconnected":i.code===4e3?(S.value="error",A.value=new Error("Tiempo de conexión agotado")):i.code===1006?(S.value="error",A.value=new Error("Conexión cerrada inesperadamente")):i.code===1008?(S.value="error",A.value=new Error("Token de autenticación inválido o expirado")):(S.value="error",A.value=new Error(`Conexión cerrada con código: ${i.code}`)),i.code!==1e3&&i.code!==1001&&i.code!==1008&&(A.value=new Error(`Conexión cerrada: ${i.reason||"Código: "+i.code}`),this._scheduleReconnect()),this.emit(j.DISCONNECT,{type:j.DISCONNECT,code:i.code,reason:i.reason,wasClean:i.wasClean})},x.onerror=i=>{A.value=new Error("Error en la conexión WebSocket"),this.emit(j.ERROR,{type:j.ERROR,error:i}),S.value==="connecting"&&c(new Error("Error en la conexión WebSocket"))},x.onmessage=i=>{try{const v=typeof i.data=="string"?JSON.parse(i.data):i.data;this.emit(v.type||"message",v)}catch{}}}catch(m){A.value=m instanceof Error?m:new Error("Error al crear la conexión WebSocket"),S.value="error",c(m)}})}catch(s){throw S.value="error",A.value=s instanceof Error?s:new Error(String(s)),A.value}},disconnect(){if(x)try{(x.readyState===WebSocket.OPEN||x.readyState===WebSocket.CONNECTING)&&x.close(1e3,"User disconnected"),x.onopen=null,x.onclose=null,x.onerror=null,x.onmessage=null,x=null}catch{}V&&(clearTimeout(V),V=null),S.value="disconnected",W.value=!1},async send(e){if(!x)throw new Error("WebSocket no inicializado");if(x.readyState!==WebSocket.OPEN)throw new Error("WebSocket no está conectado");const s=typeof e=="string"?e:JSON.stringify(e);x.send(s)},get currentStatus(){return S.value},get isConnected(){return W.value},get currentError(){return A.value},cleanup(){Ht()},useWebSocket(){const e=()=>{Object.values(j).forEach(s=>{O[s].clear()})};return{connect:N.connect.bind(N),disconnect:N.disconnect.bind(N),send:N.send.bind(N),addEventListener:N.addEventListener.bind(N),removeEventListener:N.removeEventListener.bind(N),cleanup:e,status:le(S),isConnected:le(W),error:le(A)}}},Zt=N.useWebSocket.bind(N),Kt=["title"],Jt={class:"status-text"},Gt=ke({__name:"SystemStatusBadge",setup(e){const s=te(),{status:o,error:n,connect:r,disconnect:c,cleanup:m}=Zt(),i=y(null),v=z(()=>{switch(o.value){case"connected":return"Connected";case"connecting":return"Connecting...";case"reconnecting":return"Reconnecting...";case"error":return"Connection Error";default:return"Disconnected"}}),I=z(()=>({"status-connected":o.value==="connected","status-connecting":o.value==="connecting","status-reconnecting":o.value==="reconnecting","status-error":o.value==="error","status-disconnected":o.value==="disconnected"})),u=z(()=>n.value?`Error: ${n.value.message}`:i.value?`Error: ${i.value.message}`:v.value);fe(n,l=>{l&&(i.value=l)});const g=()=>{try{if(!s)return;s.isAuthenticated&&s.token&&r(s.token).catch(l=>{const T=l instanceof Error?l:new Error(String(l));i.value=T,T.message.includes("Network error")||T.message.includes("Tiempo de conexión agotado")})}catch(l){const T=l instanceof Error?l:new Error(String(l));i.value=T}};return fe(()=>s.token,(l,T)=>{try{if(!l&&T){c();return}l&&s.isAuthenticated&&r(l).catch(R=>{const D=R instanceof Error?R:new Error(String(R));i.value=D})}catch(R){const D=R instanceof Error?R:new Error(String(R));i.value=D}},{immediate:!0}),Q(()=>{g()}),me(()=>{m()}),(l,T)=>(h(),_("div",{class:M(["system-status-badge",I.value]),title:u.value},[T[0]||(T[0]=t("span",{class:"status-dot"},null,-1)),t("span",Jt,k(v.value),1)],10,Kt))}});const Wt=F(Gt,[["__scopeId","data-v-09c05868"]]),Yt="/images/zues-3d-main.png";const Xt={class:"zeus-3d-container relative flex flex-col items-center justify-center h-full w-full"},Qt={__name:"Zeus3D",setup(e){const s=ee(),o=te(),n=y(!0),r=()=>{s.push("/perfil")},c=()=>{s.push("/dashboard")},m=()=>{alert("Estado del sistema: conectado")},i=()=>{n.value=!n.value},v=async()=>{await o.logout(),s.push("/login")};return(I,u)=>(h(),_("div",Xt,[u[5]||(u[5]=t("img",{src:Yt,alt:"ZEUS IA Zeus",class:"zeus-3d-image rounded-xl shadow-lg object-cover",draggable:"false"},null,-1)),t("div",{class:"zeus-3d-buttons absolute inset-0 flex flex-col items-end justify-between p-6 pointer-events-none"},[t("div",{class:"flex flex-col space-y-4 mt-2 pointer-events-auto"},[t("button",{onClick:r,class:"zeus-btn",title:"Perfil de usuario"},u[0]||(u[0]=[t("i",{class:"fas fa-user-circle"},null,-1)])),t("button",{onClick:c,class:"zeus-btn",title:"Panel de control"},u[1]||(u[1]=[t("i",{class:"fas fa-tachometer-alt"},null,-1)])),t("button",{onClick:m,class:"zeus-btn",title:"Estado del sistema"},u[2]||(u[2]=[t("i",{class:"fas fa-signal"},null,-1)])),t("button",{onClick:i,class:"zeus-btn",title:"Vista 3D"},u[3]||(u[3]=[t("i",{class:"fas fa-cube"},null,-1)]))]),t("div",{class:"flex flex-col pointer-events-auto"},[t("button",{onClick:v,class:"zeus-btn",title:"Cerrar sesión"},u[4]||(u[4]=[t("i",{class:"fas fa-sign-out-alt"},null,-1)]))])])]))}},es=F(Qt,[["__scopeId","data-v-d3f707c0"]]);const ts={class:"bg-white overflow-hidden shadow rounded-lg"},ss={class:"p-5"},os={class:"flex items-center"},rs={key:1,class:"h-6 w-6"},ns={class:"ml-5 w-0 flex-1"},as={class:"text-sm font-medium text-gray-500 truncate"},is={class:"text-lg font-medium text-gray-900"},ls={key:0,class:"mt-4 flex items-center"},cs={key:1,class:"mt-4"},ds={__name:"DashboardMetric",props:{title:{type:String,required:!0},value:{type:[String,Number],required:!0},icon:{type:String,required:!0},trend:{type:String,validator:e=>["up","down",null,void 0].includes(e),default:null},trendValue:{type:String,default:""},loading:{type:Boolean,default:!1}},setup(e){return(s,o)=>(h(),_("div",ts,[t("div",ss,[t("div",os,[t("div",{class:M(["flex-shrink-0 rounded-md p-3",{"bg-indigo-100":!e.loading,"bg-gray-200":e.loading,"animate-pulse":e.loading}])},[e.loading?(h(),_("div",rs)):(h(),_("i",{key:0,class:M(["fas",`fa-${e.icon}`,"text-indigo-600 text-lg"])},null,2))],2),t("div",ns,[t("dl",null,[t("dt",as,k(e.loading?"Cargando...":e.title),1),t("dd",null,[t("div",is,k(e.loading?"...":e.value),1)])])])]),!e.loading&&e.trend?(h(),_("div",ls,[t("span",{class:M(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",e.trend==="up"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},[t("i",{class:M(["mr-1",e.trend==="up"?"fa-arrow-up":"fa-arrow-down"])},null,2),P(" "+k(e.trendValue),1)],2),o[0]||(o[0]=t("span",{class:"ml-2 text-sm text-gray-500"}," vs. período anterior ",-1))])):e.loading?(h(),_("div",cs,o[1]||(o[1]=[t("div",{class:"h-4 bg-gray-200 rounded w-3/4"},null,-1)]))):H("",!0)])]))}},us=F(ds,[["__scopeId","data-v-b4acc032"]]);const fs={class:"dashboard"},ms={key:0,class:"fixed inset-0 bg-white bg-opacity-75 flex items-center justify-center z-50"},ps={key:1,class:"fixed inset-0 bg-white flex items-center justify-center z-50"},gs={class:"text-center p-6 max-w-md mx-auto"},hs={class:"mt-2 text-sm text-gray-500"},vs={class:"mt-5"},_s={class:"bg-white shadow"},xs={class:"max-w-7xl mx-auto px-4 py-4 sm:px-6 lg:px-8 flex justify-between items-center"},ws={class:"flex items-center space-x-4"},ys={class:"relative"},bs={class:"hidden md:inline text-sm font-medium text-gray-700"},ks={key:0,class:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none z-50",role:"menu",tabindex:"-1"},Es={class:"py-1",role:"none"},Ts={class:"max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8"},Ss={class:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4 mb-8"},Cs={class:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8"},$s={class:"lg:col-span-2 bg-white rounded-lg shadow p-6"},Rs={class:"flex justify-between items-center mb-4"},As={class:"flex space-x-2"},Is=["onClick"],Ns={class:"h-64"},Ls={class:"bg-white rounded-lg shadow overflow-hidden"},Ms={class:"p-6"},zs={class:"h-64"},Ds={class:"bg-white shadow overflow-hidden sm:rounded-lg"},Ps={class:"overflow-x-auto"},js={class:"min-w-full divide-y divide-gray-200"},Os={class:"bg-white divide-y divide-gray-200"},Us={class:"px-6 py-4 whitespace-nowrap"},Fs={class:"flex items-center"},qs={class:"flex-shrink-0 h-10 w-10"},Vs={class:"ml-4"},Bs={class:"text-sm font-medium text-gray-900"},Hs={class:"text-sm text-gray-500"},Zs={class:"px-6 py-4 whitespace-nowrap"},Ks={class:"text-sm text-gray-900"},Js={class:"px-6 py-4 whitespace-nowrap"},Gs={class:"text-sm text-gray-500"},Ws={class:"px-6 py-4 whitespace-nowrap"},Ys={key:0},Xs={__name:"Dashboard",setup(e){ce.register(...ze);const s=te(),o=ee(),n=y("día"),r=y(!1),c=y(!0),m=y(null),i=y(null);y(null);const v=y(null),I=y([{title:"Ventas Hoy",value:"1,245",icon:"shopping-cart",trend:"up",trendValue:"12%",loading:!1},{title:"Ingresos",value:"$12,548",icon:"dollar-sign",trend:"down",trendValue:"3%"},{title:"Clientes Nuevos",value:"24",icon:"users",trend:"up",trendValue:"8%"},{title:"Órdenes",value:"156",icon:"box",trend:"up",trendValue:"5%"}]),u=y([{id:1,title:"Nueva orden creada",description:"Orden #1001 por $125.75",type:"order",user:"Juan Pérez",timestamp:new Date,status:"completed"},{id:2,title:"Error de pago",description:"Error al procesar el pago #1002",type:"error",user:"María García",timestamp:de(new Date,1),status:"error"},{id:3,title:"Nuevo cliente registrado",description:"Carlos López se ha registrado",type:"user",user:"Sistema",timestamp:de(new Date,2),status:"completed"}]),g={order:"fas fa-shopping-cart",error:"fas fa-exclamation-circle",user:"fas fa-user-plus",system:"fas fa-cog"},l=z(()=>s.userFullName||"Usuario"),T=d=>{if(!d)return"";try{const a=typeof d=="string"?new Date(d):d;return he(a,"dd/MM/yyyy HH:mm",{locale:ve})}catch{return"Fecha inválida"}},R=async()=>{try{await s.logout(),o.push("/login")}catch{}},D=d=>{const a=document.querySelector(".user-menu"),b=document.querySelector('[aria-expanded="true"]');a&&b&&!a.contains(d.target)&&!b.contains(d.target)&&(r.value=!1)},f=()=>{if(v.value){const d=ce.getChart(v.value);d&&d.destroy()}if(v.value){const d=v.value.getContext("2d");new ce(d,{type:"line",data:{labels:Array.from({length:7},(a,b)=>{const p=de(new Date,6-b);return he(p,"EEE",{locale:ve})}),datasets:[{label:"Ventas",data:[12,19,3,5,2,3,15],borderColor:"rgb(79, 70, 229)",backgroundColor:"rgba(79, 70, 229, 0.1)",tension:.4,fill:!0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,grid:{display:!0,drawBorder:!1},ticks:{stepSize:5}},x:{grid:{display:!1,drawBorder:!1}}}}})}};return fe(n,d=>{}),Q(()=>{(async()=>{try{if(c.value=!0,m.value=null,!s.isAuthenticated&&!await s.refreshAccessToken())throw new Error("Sesión expirada. Por favor, inicia sesión nuevamente.");try{i.value=await pe.getCurrentUser()}catch(a){if(s.user)i.value=s.user;else throw a}await Promise.all([]),Pe(()=>{f()})}catch(a){m.value=a.response?.data?.message||a.message||"Error al cargar los datos del dashboard",(a.response?.status===401||a.message.includes("Sesión expirada"))&&(s.logout(),o.push("/login"))}finally{c.value=!1}})(),document.addEventListener("click",D)}),me(()=>{document.removeEventListener("click",D)}),(d,a)=>{const b=B("router-link");return h(),_("div",fs,[c.value?(h(),_("div",ms,a[4]||(a[4]=[t("div",{class:"text-center"},[t("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),t("p",{class:"mt-4 text-gray-700"},"Cargando datos del dashboard...")],-1)]))):m.value?(h(),_("div",ps,[t("div",gs,[a[7]||(a[7]=t("div",{class:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100"},[t("i",{class:"fas fa-exclamation-triangle text-red-600 text-xl"})],-1)),a[8]||(a[8]=t("h3",{class:"mt-3 text-lg font-medium text-gray-900"},"Error al cargar el dashboard",-1)),t("p",hs,k(m.value),1),t("div",vs,[t("button",{onClick:a[0]||(a[0]=(...p)=>d.retryLoading&&d.retryLoading(...p)),class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},a[5]||(a[5]=[t("i",{class:"fas fa-sync-alt mr-2"},null,-1),P(" Reintentar ")])),t("button",{onClick:a[1]||(a[1]=p=>De(s).logout()),class:"ml-3 inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},a[6]||(a[6]=[t("i",{class:"fas fa-sign-out-alt mr-2"},null,-1),P(" Cerrar sesión ")]))])])])):H("",!0),t("header",_s,[t("div",xs,[a[12]||(a[12]=t("h1",{class:"text-2xl font-bold text-gray-900"},"Panel de Control",-1)),t("div",ws,[L(Wt),t("div",ys,[t("button",{onClick:a[2]||(a[2]=p=>r.value=!r.value),class:"flex items-center space-x-2 focus:outline-none"},[a[9]||(a[9]=t("span",{class:"inline-block h-8 w-8 rounded-full bg-indigo-100 flex items-center justify-center"},[t("i",{class:"fas fa-user text-indigo-600"})],-1)),t("span",bs,k(l.value),1)]),r.value?(h(),_("div",ks,[t("div",Es,[L(b,{to:"/perfil",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",onClick:a[3]||(a[3]=p=>r.value=!1)},{default:U(()=>a[10]||(a[10]=[t("i",{class:"fas fa-user-circle mr-2"},null,-1),P(" Perfil ")])),_:1,__:[10]}),t("button",{onClick:R,class:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem"},a[11]||(a[11]=[t("i",{class:"fas fa-sign-out-alt mr-2"},null,-1),P(" Cerrar sesión ")]))])])):H("",!0)])])])]),t("main",Ts,[t("div",Ss,[(h(!0),_(X,null,oe(I.value,p=>(h(),Te(us,{key:p.title,title:p.title,value:p.value,icon:p.icon,trend:p.trend,"trend-value":p.trendValue,loading:c.value},null,8,["title","value","icon","trend","trend-value","loading"]))),128))]),t("div",Cs,[t("div",$s,[t("div",Rs,[a[13]||(a[13]=t("h2",{class:"text-lg font-medium text-gray-900"},"Ventas Recientes",-1)),t("div",As,[(h(),_(X,null,oe(["Día","Semana","Mes"],p=>t("button",{key:p,onClick:C=>n.value=p.toLowerCase(),class:M(["px-3 py-1 text-sm rounded-md",{"bg-indigo-100 text-indigo-700":n.value===p.toLowerCase(),"text-gray-500 hover:bg-gray-100":n.value!==p.toLowerCase()}])},k(p),11,Is)),64))])]),t("div",Ns,[t("canvas",{ref_key:"salesChart",ref:v},null,512)])]),t("div",Ls,[t("div",Ms,[a[14]||(a[14]=t("h2",{class:"text-lg font-medium text-gray-900 mb-4"},"Vista 3D",-1)),t("div",zs,[L(es,{class:"h-full w-full"})])])])]),t("div",Ds,[a[17]||(a[17]=t("div",{class:"px-4 py-5 sm:px-6 border-b border-gray-200"},[t("h3",{class:"text-lg leading-6 font-medium text-gray-900"},"Actividad Reciente"),t("p",{class:"mt-1 max-w-2xl text-sm text-gray-500"}," Últimas actividades en el sistema ")],-1)),t("div",Ps,[t("table",js,[a[16]||(a[16]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actividad "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Usuario "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Fecha "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Estado ")])],-1)),t("tbody",Os,[(h(!0),_(X,null,oe(u.value,(p,C)=>(h(),_("tr",{key:C},[t("td",Us,[t("div",Fs,[t("div",qs,[t("i",{class:M([g[p.type],"text-indigo-600 text-lg"])},null,2)]),t("div",Vs,[t("div",Bs,k(p.title),1),t("div",Hs,k(p.description),1)])])]),t("td",Zs,[t("div",Ks,k(p.user),1)]),t("td",Js,[t("div",Gs,k(T(p.timestamp)),1)]),t("td",Ws,[t("span",{class:M(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",p.status==="completed"?"bg-green-100 text-green-800":p.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"])},k(p.status==="completed"?"Completado":p.status==="pending"?"Pendiente":"Error"),3)])]))),128)),u.value.length===0?(h(),_("tr",Ys,a[15]||(a[15]=[t("td",{colspan:"4",class:"px-6 py-4 text-center text-sm text-gray-500"}," No hay actividades recientes ",-1)]))):H("",!0)])])])])])])}}},Qs=F(Xs,[["__scopeId","data-v-029e61fb"]]);const eo={class:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8"},to={class:"sm:mx-auto sm:w-full sm:max-w-md"},so={class:"mt-6"},oo={__name:"NotFound",setup(e){return ee(),(s,o)=>{const n=B("router-link");return h(),_("div",eo,[t("div",to,[o[1]||(o[1]=t("h1",{class:"mt-6 text-center text-6xl font-extrabold text-gray-900"}," 404 ",-1)),o[2]||(o[2]=t("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900"}," Página no encontrada ",-1)),o[3]||(o[3]=t("p",{class:"mt-2 text-center text-sm text-gray-600"}," Lo sentimos, no pudimos encontrar la página que estás buscando. ",-1)),t("div",so,[L(n,{to:"/",class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},{default:U(()=>o[0]||(o[0]=[P(" Volver al inicio ")])),_:1,__:[0]})])])])}}},ro=F(oo,[["__scopeId","data-v-2143f29a"]]),ye=je({history:Oe("/"),routes:[{path:"/",redirect:"/auth/login"},{path:"/auth/login",component:lt,children:[{path:"",component:Bt,name:"Login"}]},{path:"/dashboard",component:At,children:[{path:"",component:Qs,name:"Dashboard"}]},{path:"/:pathMatch(.*)*",name:"NotFound",component:ro}]});async function be(){try{const e=Ue(Be),s=Fe();return e.use(s),e.use(ye),ye.push("/auth/login").then(()=>{}).catch(o=>{}),e.mount("#app"),e}catch(e){const s=document.createElement("div");throw s.style.position="fixed",s.style.top="0",s.style.left="0",s.style.right="0",s.style.padding="1rem",s.style.backgroundColor="#fef2f2",s.style.color="#dc2626",s.style.borderBottom="1px solid #fecaca",s.style.zIndex="9999",s.textContent="Error al cargar la aplicación. Por favor, recarga la página.",document.body.prepend(s),e}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{be().catch(console.error)}):be().catch(console.error);
