import{d as be,u as fe,o as Q,r as H,a as v,c as x,b as P,e as z,f as t,w as Y,n as M,t as S,g as Z,h as Bo,i as U,j as y,k as Ce,l as ke,m as Ae,p as ne,q as ee,s as me,F as X,v as se,T as $e,x as Ee,y as Re,z as ae,A as pe,B as Ie,C as Le,D as ie,E as ue,G as le,H as Ne,I as ce,J as Me,K as je,L as he,M as ve,N as Pe,O as ze,P as De,Q as Oe}from"./vendor-d069b872.js";const Ue={id:"app"},Fe=be({__name:"App",setup(e){return fe(),Q(()=>{}),(o,s)=>{const r=H("RouterView");return v(),x("div",Ue,[P(r)])}}});const q=(e,o)=>{const s=e.__vccOpts||e;for(const[r,n]of o)s[r]=n;return s},qe=q(Fe,[["__scopeId","data-v-124706ea"]]);const Ve=e=>{if(!e||typeof e!="string"||e.trim()==="")return null;const o=Be(e);if(!o)return null;try{const s=o.split(".");if(s.length!==3)return null;const r=s[1],u=r.padEnd(r.length+(4-r.length%4)%4,"=").replace(/\-/g,"+").replace(/_/g,"/");try{const p=decodeURIComponent(atob(u).split("").map(h=>"%"+("00"+h.charCodeAt(0).toString(16)).slice(-2)).join("")),i=JSON.parse(p);if(i&&typeof i=="object"&&"exp"in i){const h=i.exp}return i}catch{return null}}catch{return null}};y(!1);const Be=e=>{if(!e)return null;try{let o=String(e).replace(/[\u0000-\u001F\u007F-\u009F\u2000-\u200F\u2028-\u202F\u205F-\u206F\u3000\uFEFF]/g,"").trim();if(o=o.replace(/^[^a-zA-Z0-9]*bearer[^a-zA-Z0-9]*(.*)/i,(r,n)=>n||"").trim(),!o)return null;const s=o.split(".");if(s.length!==3)return null;try{s.forEach(r=>{const n=r.padEnd(r.length+(4-r.length%4)%4,"=");atob(n)})}catch{return null}return o}catch{return null}},B="auth_token",K="refresh_token",_e="refresh_timeout",re="Bearer ",w={setToken:e=>{if(e)try{localStorage.setItem(B,e),k.defaults.headers.common.Authorization=`${re}${e}`}catch{}else localStorage.removeItem(B),delete k.defaults.headers.common.Authorization},getToken:()=>typeof window>"u"?null:localStorage.getItem(B),setRefreshToken:e=>{if(e)try{localStorage.setItem(K,e)}catch{}else localStorage.removeItem(K)},getRefreshToken:()=>typeof window>"u"?null:localStorage.getItem(K),removeTokens:()=>{localStorage.removeItem(B),localStorage.removeItem(K),localStorage.removeItem(_e),delete k.defaults.headers.common.Authorization,window.tokenRefreshTimeout&&(clearTimeout(window.tokenRefreshTimeout),delete window.tokenRefreshTimeout)},removeToken:()=>{localStorage.removeItem(B),delete k.defaults.headers.common.Authorization},isTokenExpired:e=>{if(!e)return!0;try{const o=Ve(e);if(!o?.exp)return!0;const s=Date.now()/1e3;return o.exp<s}catch{return!0}},isValidToken:e=>e?e.split(".").length===3&&!w.isTokenExpired(e):!1,clearTokens:()=>{localStorage.removeItem(B),localStorage.removeItem(K),localStorage.removeItem(_e),delete k.defaults.headers.common.Authorization,window.tokenRefreshTimeout&&(clearTimeout(window.tokenRefreshTimeout),delete window.tokenRefreshTimeout)},getTokenPayload:e=>{if(!e)return null;try{const o=e.split(".");if(o.length!==3)return null;const s=o[1].replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(atob(s).split("").map(n=>"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(r)}catch{return null}},refreshToken:function(){throw new Error("Function not implemented.")}},k=Ce.create({baseURL:"http://localhost:8000/api/v1",timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest"},withCredentials:!0,xsrfCookieName:"csrftoken",xsrfHeaderName:"X-CSRFToken"});k.interceptors.request.use(e=>{const o=w.getToken();return o&&(e.headers.Authorization=`${re}${o}`),e.headers["Access-Control-Allow-Origin"]=window.location.origin,e.headers["Access-Control-Allow-Methods"]="GET, POST, PUT, DELETE, OPTIONS",e.headers["Access-Control-Allow-Headers"]="Content-Type, Authorization, X-Requested-With",e.method?.toLowerCase()==="options"&&(e.headers["Access-Control-Max-Age"]="86400"),e},e=>Promise.reject(e));k.interceptors.request.use(e=>{const o=e.url?.includes("auth/login")||e.url?.includes("auth/refresh-token"),s=w.getToken();return s&&!o&&(e.headers.Authorization=`Bearer ${s}`),e.method?.toLowerCase()==="get"&&(e.params={...e.params,_t:Date.now()}),e},e=>Promise.reject(e));const He=async()=>{const e=w.getRefreshToken();if(!e)return w.clearTokens(),!1;try{const o=await k.post("auth/refresh-token",{refresh_token:e},{skipAuthRefresh:!0});if(o.data.status==="success"&&o.data.data){const{access_token:s,refresh_token:r}=o.data.data;return w.setToken(s),r&&w.setRefreshToken(r),!0}return!1}catch{return w.clearTokens(),!1}};k.interceptors.response.use(e=>e,async e=>{const o=e.config;if(!e.response)return Promise.reject(A("network_error","Error de red",e));if(e.response?.status!==401||o._retry)return Promise.reject(e);if(o._retry=!0,await He()){const r=w.getToken();if(r)return o.headers.Authorization=`Bearer ${r}`,k(o)}return Promise.reject(e)});const Te=e=>{if(window.tokenRefreshTimeout!==void 0){const s=window.tokenRefreshTimeout;clearTimeout(s),window.tokenRefreshTimeout=void 0}const o=Math.max(e-300,60)*1e3;window.tokenRefreshTimeout=window.setTimeout(async()=>{try{const s=w.getRefreshToken();s?await ge.refreshToken(s):w.removeTokens()}catch{w.removeTokens(),window.dispatchEvent(new Event("unauthorized"))}},o)},Se=async e=>{if(!e)throw new Error("No refresh token provided");try{const o=await k.post("auth/refresh-token",{refresh_token:e},{skipAuthRefresh:!0});if(o.data.status==="success"&&o.data.data){const{access_token:s,refresh_token:r,expires_in:n}=o.data.data;if(w.setToken(s),r&&w.setRefreshToken(r),n){const u=Math.max(n-300,60);Te(u)}return o.data.data}throw new Error(o.data.error||"Failed to refresh token")}catch(o){throw ke(o)&&o.response?.status===401&&(w.removeTokens(),window.dispatchEvent(new Event("unauthorized"))),o}};k.interceptors.request.use(e=>{if(e.url?.includes("auth/"))return e;const o=w.getToken();return o&&(e.headers.Authorization=`${re}${o}`),e.method?.toLowerCase()==="get"&&(e.params={...e.params,_t:Date.now()}),e},e=>Promise.reject(e));k.interceptors.response.use(e=>(e.config.url?.includes("auth/"),e),async e=>{const o=e.config;if(!e.response)return Promise.reject(A("network_error","Network error",e));const{status:s,data:r}=e.response;if(s===401&&!o._retry){if(o.url?.includes("auth/login")||o.url?.includes("auth/refresh-token"))return Promise.reject(A("auth_error","Invalid credentials",e,r));o._retry=!0;try{const n=w.getRefreshToken();if(!n)return w.removeTokens(),window.dispatchEvent(new Event("unauthorized")),Promise.reject(A("no_refresh_token","Session expired",e));try{const u=await Se(n);if(u.access_token)return o.headers=o.headers||{},o.headers.Authorization=`${re}${u.access_token}`,k(o)}catch(u){return w.removeTokens(),window.dispatchEvent(new Event("unauthorized")),Promise.reject(A("token_refresh_failed","Session refresh failed",u))}}catch(n){return w.removeTokens(),window.dispatchEvent(new Event("unauthorized")),Promise.reject(A("token_refresh_failed","Session refresh failed",n))}}switch(s){case 400:return Promise.reject(A("bad_request","Bad request",e,r));case 403:return w.removeTokens(),window.dispatchEvent(new Event("unauthorized")),Promise.reject(A("forbidden","Forbidden",e,r));case 404:return Promise.reject(A("not_found","Resource not found",e,r));case 422:return Promise.reject(A("validation_error","Validation error",e,r));case 429:return Promise.reject(A("too_many_requests","Too many requests",e,r));case 500:return Promise.reject(A("server_error","Internal server error",e,r));case 503:return Promise.reject(A("service_unavailable","Service unavailable",e,r));default:return Promise.reject(A("api_error","API request failed",e,r))}});const ge={login:async e=>{const o=new FormData;o.append("username",e.username),o.append("password",e.password),o.append("grant_type","password");const s=await k.post("auth/login",o,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(s.data&&s.data.access_token){const{access_token:r,refresh_token:n,expires_in:u}=s.data;if(w.setToken(r),n&&w.setRefreshToken(n),u){const p=Math.max(u-300,60);Te(p)}return s.data}throw new Error(s.data?.detail||"Login failed")},logout:async()=>{try{const e=w.getRefreshToken();e&&await k.post("auth/logout",{refresh_token:e})}catch{}finally{w.removeTokens(),window.location.href="/login"}},refreshToken:Se,getCurrentUser:async()=>{const e=await k.get("auth/me");if(e.data&&e.data.data)return e.data.data;throw new Error(e.data?.detail||"Failed to fetch user profile")},getSystemStatus:async()=>{const e=await k.get("/system/status");if(e.data.status==="success"&&e.data.data)return e.data.data;throw new Error(e.data.error||"Failed to fetch system status")},request:async e=>{const o=await k.request(e);if(o.data.status==="success")return o.data.data;throw new Error(o.data.error||"API request failed")}};function A(e,o,s,r){const n=new Error(o);return n.code=e,n.originalError=s,n.details=r,ke(s)&&(n.status=s.response?.status,n.statusText=s.response?.statusText),n}const J="auth_token",oe="refresh_token",Ze=e=>"error"in e||"detail"in e,xe=e=>"access_token"in e,O=ge,te=Ae("auth",()=>{const e=y(localStorage.getItem(J)),o=y(localStorage.getItem(oe)),s=y(null),r=y(!1),n=y(null),u=z(()=>!!e.value),p=z(()=>!!s.value?.is_superuser);function i(){return e.value||localStorage.getItem(J)}function h(){return o.value||localStorage.getItem(oe)}function I(f){try{if(!f.access_token||!f.refresh_token)throw new Error("Invalid tokens provided");return e.value=f.access_token,o.value=f.refresh_token,localStorage.setItem(J,f.access_token),localStorage.setItem(oe,f.refresh_token),O.setAuthToken&&O.setAuthToken(f.access_token),!0}catch{return d(),!1}}function d(){e.value=null,o.value=null,s.value=null,n.value=null,localStorage.removeItem(J),localStorage.removeItem(oe)}function g(f){try{if(!f)return!1;const c=ne(f);return s.value={id:c.sub,email:c.email||"",name:c.name||"User",is_active:c.is_active||!1,is_superuser:c.is_superuser||!1},!0}catch{return d(),!1}}async function l(f,c){if(r.value=!0,n.value=null,d(),!f||!c)return r.value=!1,{success:!1,error:"Email and password are required"};try{if(typeof localStorage>"u")throw new Error("localStorage is not available");const a="__auth_test__";try{localStorage.setItem(a,"test"),localStorage.removeItem(a)}catch{throw new Error("Could not access local storage")}const b=await O.login({username:f.trim(),password:c});if(Ze(b)){const C=b.error||b.detail||"Credenciales inválidas";throw new Error(C)}if(!xe(b)){const C="Formato de respuesta inválido";throw new Error(C)}if(!b||typeof b!="object"){const C="Invalid server response format";throw new Error(C)}if(!xe(b)){const C="Invalid response format: missing access_token";throw new Error(C)}const m=b;try{const C=ne(m.access_token),V={access_token:m.access_token,refresh_token:m.refresh_token||"",expires_in:m.expires_in||3600,token_type:m.token_type||"Bearer"};if(V.refresh_token,!I(V))throw new Error("Failed to save tokens");if(g(V.access_token),!localStorage.getItem(J))throw new Error("Could not verify saved token");return{success:!0,message:"Login successful",access_token:V.access_token,refresh_token:V.refresh_token,expires_in:V.expires_in}}catch{throw d(),new Error("Invalid or corrupted token")}}catch(a){const b=a.message||"Login failed";return n.value=b,d(),{success:!1,error:b}}finally{r.value=!1}}async function E(){try{if(e.value)try{await O.logout()}catch{}d()}catch(f){throw d(),f}}async function $(){const f=h();if(!f||r.value)return!1;r.value=!0;try{const c=await O.refreshToken(f);if(c.access_token){if(!I({access_token:c.access_token,refresh_token:c.refresh_token||f,expires_in:c.expires_in,token_type:c.token_type||"Bearer"}))throw new Error("Failed to update tokens after refresh");return g(c.access_token),!0}else throw new Error("Invalid token refresh response")}catch(c){return c instanceof Error&&(c.message.includes("401")||c.message.includes("invalid_grant")||c.message.includes("invalid_token")||c.message.includes("Network error"))&&await E(),!1}finally{r.value=!1}}async function N(){try{const f=i(),c=h();if(!f||!c)return!1;O.setAuthToken&&O.setAuthToken(f);const a=ne(f),b=Math.floor(Date.now()/1e3);if(a.exp?a.exp<b:!0)return d(),!1;e.value=f,o.value=c;try{return g(f),!0}catch{return!0}}catch{return!1}}return{token:e,refreshToken:o,user:s,isLoading:r,error:n,isAuthenticated:u,isAdmin:p,login:l,logout:E,initialize:N,refreshAccessToken:$,resetAuthState:d,getToken:i,getRefreshToken:h,updateUserFromToken:g,setAuthTokens:I}});const Ke={class:"min-h-screen bg-gray-100 flex"},Je={class:"md:hidden fixed top-4 left-4 z-50"},Ge={class:"flex flex-col h-full bg-indigo-700 w-64 shadow-lg"},We={class:"flex-1 px-2 py-4 space-y-1"},Ye={class:"p-4 border-t border-indigo-600"},Xe={class:"flex items-center"},Qe={class:"flex-shrink-0"},et=["src"],tt={class:"ml-3"},ot={class:"text-sm font-medium text-white"},st={class:"flex-1 flex flex-col md:pl-64"},rt={class:"bg-white shadow-sm"},nt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center"},at={class:"text-lg font-semibold text-gray-900"},it={class:"flex-1"},lt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},ct={__name:"MainLayout",setup(e){const o=fe(),s=ee(),r=te(),n=y(window.innerWidth>=768),u=[{name:"Dashboard",route:"Dashboard",icon:"tachometer-alt"}],p=z(()=>o.meta.title||"Dashboard"),i=z(()=>r.userFullName),h=z(()=>`https://ui-avatars.com/api/?name=${encodeURIComponent(i.value||"U")}&background=4f46e5&color=fff`),I=async()=>{await r.logout(),s.push({name:"Login"})},d=()=>{n.value=window.innerWidth>=768};return Q(()=>{window.addEventListener("resize",d),d()}),me(()=>{window.removeEventListener("resize",d)}),(g,l)=>{const E=H("font-awesome-icon"),$=H("router-link"),N=H("router-view");return v(),x(X,null,[t("div",Ke,[t("div",Je,[t("button",{onClick:l[0]||(l[0]=f=>n.value=!n.value),class:"p-2 rounded-md text-gray-700 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500"},l[2]||(l[2]=[t("span",{class:"sr-only"},"Abrir menú",-1),t("svg",{class:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))]),t("div",{class:M(["fixed inset-y-0 left-0 transform md:translate-x-0 transition duration-300 ease-in-out z-40",{"translate-x-0":n.value,"-translate-x-full":!n.value}])},[t("div",Ge,[l[3]||(l[3]=t("div",{class:"flex items-center justify-center h-16 px-4 bg-indigo-800"},[t("h1",{class:"text-white text-xl font-bold"},"ZEUS-IA")],-1)),t("nav",We,[(v(),x(X,null,se(u,f=>P($,{key:f.name,to:{name:f.route},class:M(["group flex items-center px-4 py-3 text-sm font-medium rounded-md text-indigo-100 hover:bg-indigo-600 hover:bg-opacity-75",{"bg-indigo-800":g.$route.name===f.route}])},{default:Y(()=>[P(E,{icon:f.icon,class:"mr-3 h-5 w-5 text-indigo-300 group-hover:text-indigo-200","aria-hidden":"true"},null,8,["icon"]),U(" "+S(f.name),1)]),_:2},1032,["to","class"])),64))]),t("div",Ye,[t("div",Xe,[t("div",Qe,[t("img",{class:"h-10 w-10 rounded-full",src:h.value,alt:"User avatar"},null,8,et)]),t("div",tt,[t("p",ot,S(i.value||"Usuario"),1),t("button",{onClick:I,class:"text-xs font-medium text-indigo-200 hover:text-white"}," Cerrar sesión ")])])])])],2),t("div",st,[t("header",rt,[t("div",nt,[t("h1",at,S(p.value),1),l[4]||(l[4]=t("div",{class:"flex items-center space-x-4"},null,-1))])]),t("main",it,[t("div",lt,[P(N,null,{default:Y(({Component:f})=>[P($e,{name:"fade",mode:"out-in"},{default:Y(()=>[(v(),Ee(Re(f)))]),_:2},1024)]),_:1})])])])]),n.value?(v(),x("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-30 md:hidden",onClick:l[1]||(l[1]=f=>n.value=!1)})):Z("",!0)],64)}}},dt=q(ct,[["__scopeId","data-v-6d9b38fd"]]),ut={key:0,class:"bg-red-50 border-l-4 border-red-400 p-4 mb-6"},ft={class:"flex"},mt={class:"ml-3"},gt={class:"text-sm text-red-700 whitespace-pre-line"},pt={class:"rounded-md shadow-sm -space-y-px"},ht=["disabled"],vt=["disabled"],_t={class:"flex items-center justify-between"},xt={class:"flex items-center"},wt=["disabled"],yt=["disabled"],bt={key:0},kt={key:1},Et={__name:"Login",setup(e){const o=ee(),s=fe(),r=te(),n=y({email:"",password:"",rememberMe:!1}),u=y(""),p=y(!1),i=s.query.redirect||"/";Q(()=>{r.isAuthenticated&&o.push(i)});const h=()=>{const d={};return n.value.email?/\S+@\S+\.\S+/.test(n.value.email)||(d.email="El correo electrónico no es válido"):d.email="El correo electrónico es obligatorio",n.value.password?n.value.password.length<6&&(d.password="La contraseña debe tener al menos 6 caracteres"):d.password="La contraseña es obligatoria",Object.keys(d).length===0?!0:d},I=async()=>{const d=h();if(d!==!0){u.value=Object.values(d).join(`
`),alert("Error de validación: "+u.value);return}p.value=!0,u.value="";try{const g=await r.login(n.value.email,n.value.password);if(g.success){if(!localStorage.getItem("auth_token"))throw alert("No se pudo guardar el token de autenticación"),new Error("No se pudo guardar el token de autenticación");setTimeout(()=>{window.location.href=i},100)}else{let l=g.error||g.message||"Error al iniciar sesión. Por favor, verifica tus credenciales.";typeof l!="string"&&(l=JSON.stringify(l)),u.value=l,alert("Error en login: "+l)}}catch(g){let l=g.message||"Ocurrió un error al intentar iniciar sesión. Por favor, inténtalo de nuevo.";typeof l!="string"&&(l=JSON.stringify(l)),u.value=l,alert("Error inesperado en login: "+l)}finally{p.value=!1}};return(d,g)=>(v(),x("div",null,[u.value?(v(),x("div",ut,[t("div",ft,[g[3]||(g[3]=t("div",{class:"flex-shrink-0"},[t("svg",{class:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z","clip-rule":"evenodd"})])],-1)),t("div",mt,[t("p",gt,S(u.value),1)])])])):Z("",!0),t("form",{class:"space-y-6",onSubmit:Le(I,["prevent"])},[t("div",pt,[t("div",null,[g[4]||(g[4]=t("label",{for:"email-address",class:"sr-only"},"Correo electrónico",-1)),ae(t("input",{id:"email-address","onUpdate:modelValue":g[0]||(g[0]=l=>n.value.email=l),name:"email",type:"email",autocomplete:"email",required:"",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Correo electrónico",disabled:p.value},null,8,ht),[[pe,n.value.email]])]),t("div",null,[g[5]||(g[5]=t("label",{for:"password",class:"sr-only"},"Contraseña",-1)),ae(t("input",{id:"password","onUpdate:modelValue":g[1]||(g[1]=l=>n.value.password=l),name:"password",type:"password",autocomplete:"current-password",required:"",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Contraseña",disabled:p.value},null,8,vt),[[pe,n.value.password]])])]),t("div",_t,[t("div",xt,[ae(t("input",{id:"remember-me","onUpdate:modelValue":g[2]||(g[2]=l=>n.value.rememberMe=l),name:"remember-me",type:"checkbox",class:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded",disabled:p.value},null,8,wt),[[Ie,n.value.rememberMe]]),g[6]||(g[6]=t("label",{for:"remember-me",class:"ml-2 block text-sm text-gray-900"}," Recordar sesión ",-1))]),g[7]||(g[7]=t("div",{class:"text-sm"},[t("a",{href:"#",class:"font-medium text-indigo-600 hover:text-indigo-500"}," ¿Olvidaste tu contraseña? ")],-1))]),t("div",null,[t("button",{type:"submit",class:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",disabled:p.value},[g[8]||(g[8]=t("span",{class:"absolute left-0 inset-y-0 flex items-center pl-3"},[t("svg",{class:"h-5 w-5 text-indigo-500 group-hover:text-indigo-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[t("path",{"fill-rule":"evenodd",d:"M10 1a4.5 4.5 0 00-4.5 4.5V9H5a2 2 0 00-2 2v6a2 2 0 002 2h10a2 2 0 002-2v-6a2 2 0 00-2-2h-.5V5.5A4.5 4.5 0 0010 1zm3 8V5.5a3 3 0 10-6 0V9h6z","clip-rule":"evenodd"})])],-1)),p.value?(v(),x("span",kt,"Iniciando sesión...")):(v(),x("span",bt,"Iniciar sesión"))],8,yt)])],32)]))}};var j=(e=>(e.CONNECT="connect",e.DISCONNECT="disconnect",e.RECONNECT="reconnect",e.RECONNECTING="reconnecting",e.MESSAGE="message",e.SYSTEM_STATUS="system_status",e.AUTH_RESPONSE="auth_response",e.ERROR="error",e.AUTH_ERROR="auth_error",e.CONNECTION_ERROR="connection_error",e.STATUS_UPDATE="status_update",e.CUSTOM="custom",e))(j||{});const T=y("disconnected"),G=y(!1),R=y(null);let _=null,W=0;const we=3;let F=null,de=null;const D={};Object.values(j).forEach(e=>{D[e]=new Set});const Tt=()=>{_&&(_.close(1e3,"Componente desmontado"),_=null),F&&(clearTimeout(F),F=null)},L={addEventListener(e,o){const s=e;return D[s]||(D[s]=new Set),D[s].add(o),()=>{this.removeEventListener(e,o)}},removeEventListener(e,o){const s=e;D[s]&&D[s].delete(o)},emit(e,o){const s={type:e,data:o,timestamp:new Date().toISOString()},r=D[e];r&&r.forEach(n=>{try{n(s)}catch{}})},_scheduleReconnect(){if(W>=we){T.value="error";return}const e=Math.min(1e3*Math.pow(1.5,W),3e3);W++,T.value="reconnecting",F=setTimeout(()=>{requestAnimationFrame(()=>{de&&this.connect(de).catch(o=>{W<we&&this._scheduleReconnect()})})},e)},async connect(e){try{if(_&&this.disconnect(),!e||e.trim()==="")throw new Error("No se proporcionó un token de autenticación válido");try{const n=JSON.parse(atob(e.split(".")[1])),u=Math.floor(Date.now()/1e3);if(n.exp&&n.exp<u)throw new Error("El token de autenticación ha expirado")}catch{}de=e,T.value="connecting",R.value=null;const o=!1;let s;o||(s=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`);const r=new URL(s);return r.searchParams.set("token",e),new Promise((n,u)=>{try{_=new WebSocket(r.toString()),_.binaryType="arraybuffer";const p=setTimeout(()=>{if(_&&_.readyState===WebSocket.CONNECTING){_.close(4e3,"Connection timeout");const i="Tiempo de conexión agotado";R.value=new Error(i),T.value="error",u(new Error(i))}},5e3);_.onopen=()=>{clearTimeout(p),G.value=!0,T.value="connected",W=0,this.emit(j.CONNECT,{type:j.CONNECT}),n(!0)},_.onclose=i=>{clearTimeout(p),G.value=!1,i.code===1e3?T.value="disconnected":i.code===4e3?(T.value="error",R.value=new Error("Tiempo de conexión agotado")):i.code===1006?(T.value="error",R.value=new Error("Conexión cerrada inesperadamente")):i.code===1008?(T.value="error",R.value=new Error("Token de autenticación inválido o expirado")):(T.value="error",R.value=new Error(`Conexión cerrada con código: ${i.code}`)),i.code!==1e3&&i.code!==1001&&i.code!==1008&&(R.value=new Error(`Conexión cerrada: ${i.reason||"Código: "+i.code}`),this._scheduleReconnect()),this.emit(j.DISCONNECT,{type:j.DISCONNECT,code:i.code,reason:i.reason,wasClean:i.wasClean})},_.onerror=i=>{R.value=new Error("Error en la conexión WebSocket"),this.emit(j.ERROR,{type:j.ERROR,error:i}),T.value==="connecting"&&u(new Error("Error en la conexión WebSocket"))},_.onmessage=i=>{try{const h=typeof i.data=="string"?JSON.parse(i.data):i.data;this.emit(h.type||"message",h)}catch{}}}catch(p){R.value=p instanceof Error?p:new Error("Error al crear la conexión WebSocket"),T.value="error",u(p)}})}catch(o){throw T.value="error",R.value=o instanceof Error?o:new Error(String(o)),R.value}},disconnect(){if(_)try{(_.readyState===WebSocket.OPEN||_.readyState===WebSocket.CONNECTING)&&_.close(1e3,"User disconnected"),_.onopen=null,_.onclose=null,_.onerror=null,_.onmessage=null,_=null}catch{}F&&(clearTimeout(F),F=null),T.value="disconnected",G.value=!1},async send(e){if(!_)throw new Error("WebSocket no inicializado");if(_.readyState!==WebSocket.OPEN)throw new Error("WebSocket no está conectado");const o=typeof e=="string"?e:JSON.stringify(e);_.send(o)},get currentStatus(){return T.value},get isConnected(){return G.value},get currentError(){return R.value},cleanup(){Tt()},useWebSocket(){const e=()=>{Object.values(j).forEach(o=>{D[o].clear()})};return{connect:L.connect.bind(L),disconnect:L.disconnect.bind(L),send:L.send.bind(L),addEventListener:L.addEventListener.bind(L),removeEventListener:L.removeEventListener.bind(L),cleanup:e,status:ie(T),isConnected:ie(G),error:ie(R)}}},St=L.useWebSocket.bind(L),Ct=["title"],At={class:"status-text"},$t=be({__name:"SystemStatusBadge",setup(e){const o=te(),{status:s,error:r,connect:n,disconnect:u,cleanup:p}=St(),i=y(null),h=z(()=>{switch(s.value){case"connected":return"Connected";case"connecting":return"Connecting...";case"reconnecting":return"Reconnecting...";case"error":return"Connection Error";default:return"Disconnected"}}),I=z(()=>({"status-connected":s.value==="connected","status-connecting":s.value==="connecting","status-reconnecting":s.value==="reconnecting","status-error":s.value==="error","status-disconnected":s.value==="disconnected"})),d=z(()=>r.value?`Error: ${r.value.message}`:i.value?`Error: ${i.value.message}`:h.value);ue(r,l=>{l&&(i.value=l)});const g=()=>{try{if(!o)return;o.isAuthenticated&&o.token&&n(o.token).catch(l=>{const E=l instanceof Error?l:new Error(String(l));i.value=E,E.message.includes("Network error")||E.message.includes("Tiempo de conexión agotado")})}catch(l){const E=l instanceof Error?l:new Error(String(l));i.value=E}};return ue(()=>o.token,(l,E)=>{try{if(!l&&E){u();return}l&&o.isAuthenticated&&n(l).catch($=>{const N=$ instanceof Error?$:new Error(String($));i.value=N})}catch($){const N=$ instanceof Error?$:new Error(String($));i.value=N}},{immediate:!0}),Q(()=>{g()}),me(()=>{p()}),(l,E)=>(v(),x("div",{class:M(["system-status-badge",I.value]),title:d.value},[E[0]||(E[0]=t("span",{class:"status-dot"},null,-1)),t("span",At,S(h.value),1)],10,Ct))}});const Rt=q($t,[["__scopeId","data-v-09c05868"]]),It="/images/zues-3d-main.png";const Lt={class:"zeus-3d-container relative flex flex-col items-center justify-center h-full w-full"},Nt={__name:"Zeus3D",setup(e){const o=ee(),s=te(),r=y(!0),n=()=>{o.push("/perfil")},u=()=>{o.push("/dashboard")},p=()=>{alert("Estado del sistema: conectado")},i=()=>{r.value=!r.value},h=async()=>{await s.logout(),o.push("/login")};return(I,d)=>(v(),x("div",Lt,[d[5]||(d[5]=t("img",{src:It,alt:"ZEUS IA Zeus",class:"zeus-3d-image rounded-xl shadow-lg object-cover",draggable:"false"},null,-1)),t("div",{class:"zeus-3d-buttons absolute inset-0 flex flex-col items-end justify-between p-6 pointer-events-none"},[t("div",{class:"flex flex-col space-y-4 mt-2 pointer-events-auto"},[t("button",{onClick:n,class:"zeus-btn",title:"Perfil de usuario"},d[0]||(d[0]=[t("i",{class:"fas fa-user-circle"},null,-1)])),t("button",{onClick:u,class:"zeus-btn",title:"Panel de control"},d[1]||(d[1]=[t("i",{class:"fas fa-tachometer-alt"},null,-1)])),t("button",{onClick:p,class:"zeus-btn",title:"Estado del sistema"},d[2]||(d[2]=[t("i",{class:"fas fa-signal"},null,-1)])),t("button",{onClick:i,class:"zeus-btn",title:"Vista 3D"},d[3]||(d[3]=[t("i",{class:"fas fa-cube"},null,-1)]))]),t("div",{class:"flex flex-col pointer-events-auto"},[t("button",{onClick:h,class:"zeus-btn",title:"Cerrar sesión"},d[4]||(d[4]=[t("i",{class:"fas fa-sign-out-alt"},null,-1)]))])])]))}},Mt=q(Nt,[["__scopeId","data-v-d3f707c0"]]);const jt={class:"bg-white overflow-hidden shadow rounded-lg"},Pt={class:"p-5"},zt={class:"flex items-center"},Dt={key:1,class:"h-6 w-6"},Ot={class:"ml-5 w-0 flex-1"},Ut={class:"text-sm font-medium text-gray-500 truncate"},Ft={class:"text-lg font-medium text-gray-900"},qt={key:0,class:"mt-4 flex items-center"},Vt={key:1,class:"mt-4"},Bt={__name:"DashboardMetric",props:{title:{type:String,required:!0},value:{type:[String,Number],required:!0},icon:{type:String,required:!0},trend:{type:String,validator:e=>["up","down",null,void 0].includes(e),default:null},trendValue:{type:String,default:""},loading:{type:Boolean,default:!1}},setup(e){return(o,s)=>(v(),x("div",jt,[t("div",Pt,[t("div",zt,[t("div",{class:M(["flex-shrink-0 rounded-md p-3",{"bg-indigo-100":!e.loading,"bg-gray-200":e.loading,"animate-pulse":e.loading}])},[e.loading?(v(),x("div",Dt)):(v(),x("i",{key:0,class:M(["fas",`fa-${e.icon}`,"text-indigo-600 text-lg"])},null,2))],2),t("div",Ot,[t("dl",null,[t("dt",Ut,S(e.loading?"Cargando...":e.title),1),t("dd",null,[t("div",Ft,S(e.loading?"...":e.value),1)])])])]),!e.loading&&e.trend?(v(),x("div",qt,[t("span",{class:M(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",e.trend==="up"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},[t("i",{class:M(["mr-1",e.trend==="up"?"fa-arrow-up":"fa-arrow-down"])},null,2),U(" "+S(e.trendValue),1)],2),s[0]||(s[0]=t("span",{class:"ml-2 text-sm text-gray-500"}," vs. período anterior ",-1))])):e.loading?(v(),x("div",Vt,s[1]||(s[1]=[t("div",{class:"h-4 bg-gray-200 rounded w-3/4"},null,-1)]))):Z("",!0)])]))}},Ht=q(Bt,[["__scopeId","data-v-b4acc032"]]);const Zt={class:"dashboard"},Kt={key:0,class:"fixed inset-0 bg-white bg-opacity-75 flex items-center justify-center z-50"},Jt={key:1,class:"fixed inset-0 bg-white flex items-center justify-center z-50"},Gt={class:"text-center p-6 max-w-md mx-auto"},Wt={class:"mt-2 text-sm text-gray-500"},Yt={class:"mt-5"},Xt={class:"bg-white shadow"},Qt={class:"max-w-7xl mx-auto px-4 py-4 sm:px-6 lg:px-8 flex justify-between items-center"},eo={class:"flex items-center space-x-4"},to={class:"relative"},oo={class:"hidden md:inline text-sm font-medium text-gray-700"},so={key:0,class:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none z-50",role:"menu",tabindex:"-1"},ro={class:"py-1",role:"none"},no={class:"max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8"},ao={class:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4 mb-8"},io={class:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8"},lo={class:"lg:col-span-2 bg-white rounded-lg shadow p-6"},co={class:"flex justify-between items-center mb-4"},uo={class:"flex space-x-2"},fo=["onClick"],mo={class:"h-64"},go={class:"bg-white rounded-lg shadow overflow-hidden"},po={class:"p-6"},ho={class:"h-64"},vo={class:"bg-white shadow overflow-hidden sm:rounded-lg"},_o={class:"overflow-x-auto"},xo={class:"min-w-full divide-y divide-gray-200"},wo={class:"bg-white divide-y divide-gray-200"},yo={class:"px-6 py-4 whitespace-nowrap"},bo={class:"flex items-center"},ko={class:"flex-shrink-0 h-10 w-10"},Eo={class:"ml-4"},To={class:"text-sm font-medium text-gray-900"},So={class:"text-sm text-gray-500"},Co={class:"px-6 py-4 whitespace-nowrap"},Ao={class:"text-sm text-gray-900"},$o={class:"px-6 py-4 whitespace-nowrap"},Ro={class:"text-sm text-gray-500"},Io={class:"px-6 py-4 whitespace-nowrap"},Lo={key:0},No={__name:"Dashboard",setup(e){le.register(...Ne);const o=te(),s=ee(),r=y("día"),n=y(!1),u=y(!0),p=y(null),i=y(null);y(null);const h=y(null),I=y([{title:"Ventas Hoy",value:"1,245",icon:"shopping-cart",trend:"up",trendValue:"12%",loading:!1},{title:"Ingresos",value:"$12,548",icon:"dollar-sign",trend:"down",trendValue:"3%"},{title:"Clientes Nuevos",value:"24",icon:"users",trend:"up",trendValue:"8%"},{title:"Órdenes",value:"156",icon:"box",trend:"up",trendValue:"5%"}]),d=y([{id:1,title:"Nueva orden creada",description:"Orden #1001 por $125.75",type:"order",user:"Juan Pérez",timestamp:new Date,status:"completed"},{id:2,title:"Error de pago",description:"Error al procesar el pago #1002",type:"error",user:"María García",timestamp:ce(new Date,1),status:"error"},{id:3,title:"Nuevo cliente registrado",description:"Carlos López se ha registrado",type:"user",user:"Sistema",timestamp:ce(new Date,2),status:"completed"}]),g={order:"fas fa-shopping-cart",error:"fas fa-exclamation-circle",user:"fas fa-user-plus",system:"fas fa-cog"},l=z(()=>o.userFullName||"Usuario"),E=c=>{if(!c)return"";try{const a=typeof c=="string"?new Date(c):c;return he(a,"dd/MM/yyyy HH:mm",{locale:ve})}catch{return"Fecha inválida"}},$=async()=>{try{await o.logout(),s.push("/login")}catch{}},N=c=>{const a=document.querySelector(".user-menu"),b=document.querySelector('[aria-expanded="true"]');a&&b&&!a.contains(c.target)&&!b.contains(c.target)&&(n.value=!1)},f=()=>{if(h.value){const c=le.getChart(h.value);c&&c.destroy()}if(h.value){const c=h.value.getContext("2d");new le(c,{type:"line",data:{labels:Array.from({length:7},(a,b)=>{const m=ce(new Date,6-b);return he(m,"EEE",{locale:ve})}),datasets:[{label:"Ventas",data:[12,19,3,5,2,3,15],borderColor:"rgb(79, 70, 229)",backgroundColor:"rgba(79, 70, 229, 0.1)",tension:.4,fill:!0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,grid:{display:!0,drawBorder:!1},ticks:{stepSize:5}},x:{grid:{display:!1,drawBorder:!1}}}}})}};return ue(r,c=>{}),Q(()=>{(async()=>{try{if(u.value=!0,p.value=null,!o.isAuthenticated&&!await o.refreshAccessToken())throw new Error("Sesión expirada. Por favor, inicia sesión nuevamente.");try{i.value=await ge.getCurrentUser()}catch(a){if(o.user)i.value=o.user;else throw a}await Promise.all([]),je(()=>{f()})}catch(a){p.value=a.response?.data?.message||a.message||"Error al cargar los datos del dashboard",(a.response?.status===401||a.message.includes("Sesión expirada"))&&(o.logout(),s.push("/login"))}finally{u.value=!1}})(),document.addEventListener("click",N)}),me(()=>{document.removeEventListener("click",N)}),(c,a)=>{const b=H("router-link");return v(),x("div",Zt,[u.value?(v(),x("div",Kt,a[4]||(a[4]=[t("div",{class:"text-center"},[t("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),t("p",{class:"mt-4 text-gray-700"},"Cargando datos del dashboard...")],-1)]))):p.value?(v(),x("div",Jt,[t("div",Gt,[a[7]||(a[7]=t("div",{class:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100"},[t("i",{class:"fas fa-exclamation-triangle text-red-600 text-xl"})],-1)),a[8]||(a[8]=t("h3",{class:"mt-3 text-lg font-medium text-gray-900"},"Error al cargar el dashboard",-1)),t("p",Wt,S(p.value),1),t("div",Yt,[t("button",{onClick:a[0]||(a[0]=(...m)=>c.retryLoading&&c.retryLoading(...m)),class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},a[5]||(a[5]=[t("i",{class:"fas fa-sync-alt mr-2"},null,-1),U(" Reintentar ")])),t("button",{onClick:a[1]||(a[1]=m=>Me(o).logout()),class:"ml-3 inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},a[6]||(a[6]=[t("i",{class:"fas fa-sign-out-alt mr-2"},null,-1),U(" Cerrar sesión ")]))])])])):Z("",!0),t("header",Xt,[t("div",Qt,[a[12]||(a[12]=t("h1",{class:"text-2xl font-bold text-gray-900"},"Panel de Control",-1)),t("div",eo,[P(Rt),t("div",to,[t("button",{onClick:a[2]||(a[2]=m=>n.value=!n.value),class:"flex items-center space-x-2 focus:outline-none"},[a[9]||(a[9]=t("span",{class:"inline-block h-8 w-8 rounded-full bg-indigo-100 flex items-center justify-center"},[t("i",{class:"fas fa-user text-indigo-600"})],-1)),t("span",oo,S(l.value),1)]),n.value?(v(),x("div",so,[t("div",ro,[P(b,{to:"/perfil",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",onClick:a[3]||(a[3]=m=>n.value=!1)},{default:Y(()=>a[10]||(a[10]=[t("i",{class:"fas fa-user-circle mr-2"},null,-1),U(" Perfil ")])),_:1,__:[10]}),t("button",{onClick:$,class:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem"},a[11]||(a[11]=[t("i",{class:"fas fa-sign-out-alt mr-2"},null,-1),U(" Cerrar sesión ")]))])])):Z("",!0)])])])]),t("main",no,[t("div",ao,[(v(!0),x(X,null,se(I.value,m=>(v(),Ee(Ht,{key:m.title,title:m.title,value:m.value,icon:m.icon,trend:m.trend,"trend-value":m.trendValue,loading:u.value},null,8,["title","value","icon","trend","trend-value","loading"]))),128))]),t("div",io,[t("div",lo,[t("div",co,[a[13]||(a[13]=t("h2",{class:"text-lg font-medium text-gray-900"},"Ventas Recientes",-1)),t("div",uo,[(v(),x(X,null,se(["Día","Semana","Mes"],m=>t("button",{key:m,onClick:C=>r.value=m.toLowerCase(),class:M(["px-3 py-1 text-sm rounded-md",{"bg-indigo-100 text-indigo-700":r.value===m.toLowerCase(),"text-gray-500 hover:bg-gray-100":r.value!==m.toLowerCase()}])},S(m),11,fo)),64))])]),t("div",mo,[t("canvas",{ref_key:"salesChart",ref:h},null,512)])]),t("div",go,[t("div",po,[a[14]||(a[14]=t("h2",{class:"text-lg font-medium text-gray-900 mb-4"},"Vista 3D",-1)),t("div",ho,[P(Mt,{class:"h-full w-full"})])])])]),t("div",vo,[a[17]||(a[17]=t("div",{class:"px-4 py-5 sm:px-6 border-b border-gray-200"},[t("h3",{class:"text-lg leading-6 font-medium text-gray-900"},"Actividad Reciente"),t("p",{class:"mt-1 max-w-2xl text-sm text-gray-500"}," Últimas actividades en el sistema ")],-1)),t("div",_o,[t("table",xo,[a[16]||(a[16]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actividad "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Usuario "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Fecha "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Estado ")])],-1)),t("tbody",wo,[(v(!0),x(X,null,se(d.value,(m,C)=>(v(),x("tr",{key:C},[t("td",yo,[t("div",bo,[t("div",ko,[t("i",{class:M([g[m.type],"text-indigo-600 text-lg"])},null,2)]),t("div",Eo,[t("div",To,S(m.title),1),t("div",So,S(m.description),1)])])]),t("td",Co,[t("div",Ao,S(m.user),1)]),t("td",$o,[t("div",Ro,S(E(m.timestamp)),1)]),t("td",Io,[t("span",{class:M(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",m.status==="completed"?"bg-green-100 text-green-800":m.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"])},S(m.status==="completed"?"Completado":m.status==="pending"?"Pendiente":"Error"),3)])]))),128)),d.value.length===0?(v(),x("tr",Lo,a[15]||(a[15]=[t("td",{colspan:"4",class:"px-6 py-4 text-center text-sm text-gray-500"}," No hay actividades recientes ",-1)]))):Z("",!0)])])])])])])}}},Mo=q(No,[["__scopeId","data-v-029e61fb"]]);const jo={class:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8"},Po={class:"sm:mx-auto sm:w-full sm:max-w-md"},zo={class:"mt-6"},Do={__name:"NotFound",setup(e){return ee(),(o,s)=>{const r=H("router-link");return v(),x("div",jo,[t("div",Po,[s[1]||(s[1]=t("h1",{class:"mt-6 text-center text-6xl font-extrabold text-gray-900"}," 404 ",-1)),s[2]||(s[2]=t("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900"}," Página no encontrada ",-1)),s[3]||(s[3]=t("p",{class:"mt-2 text-center text-sm text-gray-600"}," Lo sentimos, no pudimos encontrar la página que estás buscando. ",-1)),t("div",zo,[P(r,{to:"/",class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},{default:Y(()=>s[0]||(s[0]=[U(" Volver al inicio ")])),_:1,__:[0]})])])])}}},Oo=q(Do,[["__scopeId","data-v-2143f29a"]]),Uo=Pe({history:ze("/"),routes:[{path:"/",redirect:"/auth/login"},{path:"/auth/login",component:Et,name:"Login"},{path:"/dashboard",component:dt,children:[{path:"",component:Mo,name:"Dashboard"}]},{path:"/:pathMatch(.*)*",name:"NotFound",component:Oo}]});async function ye(){try{const e=De(qe),o=Oe();return e.use(o),e.use(Uo),e.mount("#app"),e}catch(e){const o=document.createElement("div");throw o.style.position="fixed",o.style.top="0",o.style.left="0",o.style.right="0",o.style.padding="1rem",o.style.backgroundColor="#fef2f2",o.style.color="#dc2626",o.style.borderBottom="1px solid #fecaca",o.style.zIndex="9999",o.textContent="Error al cargar la aplicación. Por favor, recarga la página.",document.body.prepend(o),e}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{ye().catch(console.error)}):ye().catch(console.error);
