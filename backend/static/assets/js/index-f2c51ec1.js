import{r as y,a as nt,i as et,d as at,c as F,j as Le,b as p,e,f as J,w as re,n as R,t as w,g as L,u as ve,h as ce,o as m,k as V,l as ze,m as tt,p as Me,q as se,s as $e,v as ne,C as Pe,x as it,y as Ne,z as lt,F as me,A as fe,B as De,D as ct,E as qe,G as Ve,H as q,I as W,J as dt,K as st,L as be,M as he,N as je,O as ut,P as mt,Q as ft,R as pt,S as gt,T as ht,U as vt}from"./vendor-04204560.js";import{S as _t,C as wt,P as yt,W as xt,a as bt,A as kt,D as Et,b as Be,c as St,M as $t,d as He,R as Tt,e as At,f as Ct,B as Rt,g as It,h as Lt,i as zt,G as Pt}from"./three-c4693b27.js";const Nt=function(){const s=typeof document<"u"&&document.createElement("link").relList;return s&&s.supports&&s.supports("modulepreload")?"modulepreload":"preload"}(),Ot=function(t){return"/"+t},Ze={},Mt=function(s,o,n){if(!o||o.length===0)return s();const l=document.getElementsByTagName("link");return Promise.all(o.map(r=>{if(r=Ot(r),r in Ze)return;Ze[r]=!0;const i=r.endsWith(".css"),f=i?'[rel="stylesheet"]':"";if(!!n)for(let a=l.length-1;a>=0;a--){const g=l[a];if(g.href===r&&(!i||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${r}"]${f}`))return;const h=document.createElement("link");if(h.rel=i?"stylesheet":Nt,i||(h.as="script",h.crossOrigin=""),h.href=r,document.head.appendChild(h),i)return new Promise((a,g)=>{h.addEventListener("load",a),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>s()).catch(r=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=r,window.dispatchEvent(i),!i.defaultPrevented)throw r})},Dt=t=>{if(!t||typeof t!="string"||t.trim()==="")return null;const s=jt(t);if(!s)return null;try{const o=s.split(".");if(o.length!==3)return null;const n=o[1],r=n.padEnd(n.length+(4-n.length%4)%4,"=").replace(/\-/g,"+").replace(/_/g,"/");try{const i=decodeURIComponent(atob(r).split("").map(d=>"%"+("00"+d.charCodeAt(0).toString(16)).slice(-2)).join("")),f=JSON.parse(i);if(f&&typeof f=="object"&&"exp"in f){const d=f.exp}return f}catch{return null}}catch{return null}};y(!1);const jt=t=>{if(!t)return null;try{let s=String(t).replace(/[\u0000-\u001F\u007F-\u009F\u2000-\u200F\u2028-\u202F\u205F-\u206F\u3000\uFEFF]/g,"").trim();if(s=s.replace(/^[^a-zA-Z0-9]*bearer[^a-zA-Z0-9]*(.*)/i,(n,l)=>l||"").trim(),!s)return null;const o=s.split(".");if(o.length!==3)return null;try{o.forEach(n=>{const l=n.padEnd(n.length+(4-n.length%4)%4,"=");atob(l)})}catch{return null}return s}catch{return null}},pe="auth_token",_e="refresh_token",Je="refresh_timeout",Te="Bearer ",I={setToken:t=>{if(t)try{localStorage.setItem(pe,t),M.defaults.headers.common.Authorization=`${Te}${t}`}catch{}else localStorage.removeItem(pe),delete M.defaults.headers.common.Authorization},getToken:()=>typeof window>"u"?null:localStorage.getItem(pe),setRefreshToken:t=>{if(t)try{localStorage.setItem(_e,t)}catch{}else localStorage.removeItem(_e)},getRefreshToken:()=>typeof window>"u"?null:localStorage.getItem(_e),removeTokens:()=>{localStorage.removeItem(pe),localStorage.removeItem(_e),localStorage.removeItem(Je),delete M.defaults.headers.common.Authorization,window.tokenRefreshTimeout&&(clearTimeout(window.tokenRefreshTimeout),delete window.tokenRefreshTimeout)},removeToken:()=>{localStorage.removeItem(pe),delete M.defaults.headers.common.Authorization},isTokenExpired:t=>{if(!t)return!0;try{const s=Dt(t);if(!s?.exp)return!0;const o=Date.now()/1e3;return s.exp<o}catch{return!0}},isValidToken:t=>t?t.split(".").length===3&&!I.isTokenExpired(t):!1,clearTokens:()=>{localStorage.removeItem(pe),localStorage.removeItem(_e),localStorage.removeItem(Je),delete M.defaults.headers.common.Authorization,window.tokenRefreshTimeout&&(clearTimeout(window.tokenRefreshTimeout),delete window.tokenRefreshTimeout)},getTokenPayload:t=>{if(!t)return null;try{const s=t.split(".");if(s.length!==3)return null;const o=s[1].replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(atob(o).split("").map(l=>"%"+("00"+l.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(n)}catch{return null}},refreshToken:function(){throw new Error("Function not implemented.")}},M=nt.create({baseURL:"https://zeus-ia-production-16d8.up.railway.app/api/v1",timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest"},withCredentials:!0,xsrfCookieName:"csrftoken",xsrfHeaderName:"X-CSRFToken"});M.interceptors.request.use(t=>{const s=I.getToken();return s&&(t.headers.Authorization=`${Te}${s}`),t.headers["Access-Control-Allow-Origin"]=window.location.origin,t.headers["Access-Control-Allow-Methods"]="GET, POST, PUT, DELETE, OPTIONS",t.headers["Access-Control-Allow-Headers"]="Content-Type, Authorization, X-Requested-With",t.method?.toLowerCase()==="options"&&(t.headers["Access-Control-Max-Age"]="86400"),t},t=>Promise.reject(t));M.interceptors.request.use(t=>{const s=t.url?.includes("auth/login")||t.url?.includes("auth/refresh-token"),o=I.getToken();return o&&!s&&(t.headers.Authorization=`Bearer ${o}`),t.method?.toLowerCase()==="get"&&(t.params={...t.params,_t:Date.now()}),t},t=>Promise.reject(t));const Ut=async()=>{const t=I.getRefreshToken();if(!t)return I.clearTokens(),!1;try{const s=await M.post("auth/refresh-token",{refresh_token:t},{skipAuthRefresh:!0});if(s.data.status==="success"&&s.data.data){const{access_token:o,refresh_token:n}=s.data.data;return I.setToken(o),n&&I.setRefreshToken(n),!0}return!1}catch{return I.clearTokens(),!1}};M.interceptors.response.use(t=>t,async t=>{const s=t.config;if(!t.response)return Promise.reject(Z("network_error","Error de red",t));if(t.response?.status!==401||s._retry)return Promise.reject(t);if(s._retry=!0,await Ut()){const n=I.getToken();if(n)return s.headers.Authorization=`Bearer ${n}`,M(s)}return Promise.reject(t)});const ot=t=>{if(window.tokenRefreshTimeout!==void 0){const o=window.tokenRefreshTimeout;clearTimeout(o),window.tokenRefreshTimeout=void 0}const s=Math.max(t-300,60)*1e3;window.tokenRefreshTimeout=window.setTimeout(async()=>{try{const o=I.getRefreshToken();o?await Ue.refreshToken(o):I.removeTokens()}catch{I.removeTokens(),window.dispatchEvent(new Event("unauthorized"))}},s)},rt=async t=>{if(!t)throw new Error("No refresh token provided");try{const s=await M.post("auth/refresh-token",{refresh_token:t},{skipAuthRefresh:!0});if(s.data.status==="success"&&s.data.data){const{access_token:o,refresh_token:n,expires_in:l}=s.data.data;if(I.setToken(o),n&&I.setRefreshToken(n),l){const r=Math.max(l-300,60);ot(r)}return s.data.data}throw new Error(s.data.error||"Failed to refresh token")}catch(s){throw et(s)&&s.response?.status===401&&(I.removeTokens(),window.dispatchEvent(new Event("unauthorized"))),s}};M.interceptors.request.use(t=>{if(t.url?.includes("auth/"))return t;const s=I.getToken();return s&&(t.headers.Authorization=`${Te}${s}`),t.method?.toLowerCase()==="get"&&(t.params={...t.params,_t:Date.now()}),t},t=>Promise.reject(t));M.interceptors.response.use(t=>(t.config.url?.includes("auth/"),t),async t=>{const s=t.config;if(!t.response)return Promise.reject(Z("network_error","Network error",t));const{status:o,data:n}=t.response;if(o===401&&!s._retry){if(s.url?.includes("auth/login")||s.url?.includes("auth/refresh-token"))return Promise.reject(Z("auth_error","Invalid credentials",t,n));s._retry=!0;try{const l=I.getRefreshToken();if(!l)return I.removeTokens(),window.dispatchEvent(new Event("unauthorized")),Promise.reject(Z("no_refresh_token","Session expired",t));try{const r=await rt(l);if(r.access_token)return s.headers=s.headers||{},s.headers.Authorization=`${Te}${r.access_token}`,M(s)}catch(r){return I.removeTokens(),window.dispatchEvent(new Event("unauthorized")),Promise.reject(Z("token_refresh_failed","Session refresh failed",r))}}catch(l){return I.removeTokens(),window.dispatchEvent(new Event("unauthorized")),Promise.reject(Z("token_refresh_failed","Session refresh failed",l))}}switch(o){case 400:return Promise.reject(Z("bad_request","Bad request",t,n));case 403:return I.removeTokens(),window.dispatchEvent(new Event("unauthorized")),Promise.reject(Z("forbidden","Forbidden",t,n));case 404:return Promise.reject(Z("not_found","Resource not found",t,n));case 422:return Promise.reject(Z("validation_error","Validation error",t,n));case 429:return Promise.reject(Z("too_many_requests","Too many requests",t,n));case 500:return Promise.reject(Z("server_error","Internal server error",t,n));case 503:return Promise.reject(Z("service_unavailable","Service unavailable",t,n));default:return Promise.reject(Z("api_error","API request failed",t,n))}});const Ue={login:async t=>{const s=new FormData;s.append("username",t.username),s.append("password",t.password),s.append("grant_type","password");const o=await M.post("auth/login",s,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(o.data&&o.data.access_token){const{access_token:n,refresh_token:l,expires_in:r}=o.data;if(I.setToken(n),l&&I.setRefreshToken(l),r){const i=Math.max(r-300,60);ot(i)}return o.data}throw new Error(o.data?.detail||"Login failed")},logout:async()=>{try{const t=I.getRefreshToken();t&&await M.post("auth/logout",{refresh_token:t})}catch{}finally{I.removeTokens(),window.location.href="/login"}},refreshToken:rt,getCurrentUser:async()=>{const t=await M.get("auth/me");if(t.data&&t.data.data)return t.data.data;throw new Error(t.data?.detail||"Failed to fetch user profile")},getSystemStatus:async()=>{const t=await M.get("/system/status");if(t.data.status==="success"&&t.data.data)return t.data.data;throw new Error(t.data.error||"Failed to fetch system status")},request:async t=>{const s=await M.request(t);if(s.data.status==="success")return s.data.data;throw new Error(s.data.error||"API request failed")}};function Z(t,s,o,n){const l=new Error(s);return l.code=t,l.originalError=o,l.details=n,et(o)&&(l.status=o.response?.status,l.statusText=o.response?.statusText),l}const we="auth_token",Se="refresh_token",Ft=t=>"error"in t||"detail"in t,Ge=t=>"access_token"in t,de=Ue,ae=at("auth",()=>{const t=y(localStorage.getItem(we)),s=y(localStorage.getItem(Se)),o=y(null),n=y(!1),l=y(null),r=F(()=>!!t.value),i=F(()=>!!o.value?.is_superuser);function f(){return t.value||localStorage.getItem(we)}function d(){return s.value||localStorage.getItem(Se)}function h(c){try{if(!c.access_token||!c.refresh_token)throw new Error("Invalid tokens provided");return t.value=c.access_token,s.value=c.refresh_token,localStorage.setItem(we,c.access_token),localStorage.setItem(Se,c.refresh_token),de.setAuthToken&&de.setAuthToken(c.access_token),!0}catch{return a(),!1}}function a(){t.value=null,s.value=null,o.value=null,l.value=null,localStorage.removeItem(we),localStorage.removeItem(Se)}function g(c){try{if(!c)return!1;const E=Le(c);return o.value={id:E.sub,email:E.email||"",name:E.name||"User",is_active:E.is_active||!1,is_superuser:E.is_superuser||!1},!0}catch{return a(),!1}}async function u(c,E){if(n.value=!0,l.value=null,a(),!c||!E)return n.value=!1,{success:!1,error:"Email and password are required"};try{if(typeof localStorage>"u")throw new Error("localStorage is not available");const k="__auth_test__";try{localStorage.setItem(k,"test"),localStorage.removeItem(k)}catch{throw new Error("Could not access local storage")}const N=await de.login({username:c.trim(),password:E});if(Ft(N)){const j=N.error||N.detail||"Credenciales inv√°lidas";throw new Error(j)}if(!Ge(N)){const j="Formato de respuesta inv√°lido";throw new Error(j)}if(!N||typeof N!="object"){const j="Invalid server response format";throw new Error(j)}if(!Ge(N)){const j="Invalid response format: missing access_token";throw new Error(j)}const ee=N;try{const j=Le(ee.access_token),X={access_token:ee.access_token,refresh_token:ee.refresh_token||"",expires_in:ee.expires_in||3600,token_type:ee.token_type||"Bearer"};if(X.refresh_token,!h(X))throw new Error("Failed to save tokens");if(g(X.access_token),!localStorage.getItem(we))throw new Error("Could not verify saved token");return{success:!0,message:"Login successful",access_token:X.access_token,refresh_token:X.refresh_token,expires_in:X.expires_in}}catch{throw a(),new Error("Invalid or corrupted token")}}catch(k){const N=k.message||"Login failed";return l.value=N,a(),{success:!1,error:N}}finally{n.value=!1}}async function C(){try{if(t.value)try{await de.logout()}catch{}a()}catch(c){throw a(),c}}async function z(){const c=d();if(!c||n.value)return!1;n.value=!0;try{const E=await de.refreshToken(c);if(E.access_token){if(!h({access_token:E.access_token,refresh_token:E.refresh_token||c,expires_in:E.expires_in,token_type:E.token_type||"Bearer"}))throw new Error("Failed to update tokens after refresh");return g(E.access_token),!0}else throw new Error("Invalid token refresh response")}catch(E){return E instanceof Error&&(E.message.includes("401")||E.message.includes("invalid_grant")||E.message.includes("invalid_token")||E.message.includes("Network error"))&&await C(),!1}finally{n.value=!1}}let O=!1,P=!1;async function v(){if(P)return r.value;if(O)return!1;O=!0;try{const c=f(),E=d();if(!c||!E)return P=!0,!1;de.setAuthToken&&de.setAuthToken(c);const k=Le(c),N=Math.floor(Date.now()/1e3);if(k.exp?k.exp<N:!0)return a(),P=!0,!1;t.value=c,s.value=E;try{return g(c),P=!0,!0}catch{return P=!0,!0}}catch{return P=!0,!1}finally{O=!1}}return{token:t,refreshToken:s,user:o,isLoading:n,error:l,isAuthenticated:r,isAdmin:i,login:u,logout:C,initialize:v,refreshAccessToken:z,resetAuthState:a,getToken:f,getRefreshToken:d,updateUserFromToken:g,setAuthTokens:h}});const K=(t,s)=>{const o=t.__vccOpts||t;for(const[n,l]of s)o[n]=l;return o},qt={class:"min-h-screen flex flex-col bg-gray-50"},Vt={class:"bg-white shadow-sm"},Bt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4"},Ht={class:"flex justify-between items-center"},Zt={class:"flex-shrink-0"},Jt={class:"text-2xl font-bold text-indigo-600"},Gt={class:"hidden md:flex space-x-8"},Wt={class:"flex-grow flex items-center justify-center p-4"},Yt={class:"w-full max-w-md"},Kt={class:"bg-white p-8 rounded-lg shadow-md"},Xt={class:"text-center mb-8"},Qt={class:"text-2xl font-bold text-gray-900"},es={key:0,class:"mt-2 text-sm text-gray-600"},ts={class:"bg-white border-t border-gray-200"},ss={class:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8"},os={class:"text-center text-sm text-gray-500"},rs={__name:"AuthLayout",setup(t){const s=ve(),o=F(()=>s.meta.title||"Bienvenido a ZEUS-IA"),n=F(()=>s.meta.description||"");return(l,r)=>{const i=ce("router-link"),f=ce("router-view");return m(),p("div",qt,[e("header",Vt,[e("div",Bt,[e("div",Ht,[e("div",Zt,[e("h1",Jt,[J(i,{to:"/"},{default:re(()=>r[0]||(r[0]=[V("ZEUS-IA")])),_:1,__:[0]})])]),e("nav",Gt,[J(i,{to:"/auth/login",class:R(["text-gray-700 hover:text-indigo-600 px-3 py-2 text-sm font-medium",{"text-indigo-600 border-b-2 border-indigo-600":l.$route.name==="Login"}])},{default:re(()=>r[1]||(r[1]=[V(" Iniciar sesi√≥n ")])),_:1,__:[1]},8,["class"]),J(i,{to:"/auth/register",class:R(["text-gray-700 hover:text-indigo-600 px-3 py-2 text-sm font-medium",{"text-indigo-600 border-b-2 border-indigo-600":l.$route.name==="Register"}])},{default:re(()=>r[2]||(r[2]=[V(" Crear cuenta ")])),_:1,__:[2]},8,["class"])])])])]),e("main",Wt,[e("div",Yt,[e("div",Kt,[e("div",Xt,[e("h2",Qt,w(o.value),1),n.value?(m(),p("p",es,w(n.value),1)):L("",!0)]),J(f)])])]),e("footer",ts,[e("div",ss,[e("p",os," ¬© "+w(new Date().getFullYear())+" ZEUS-IA. Todos los derechos reservados. ",1)])])])}}},ns=K(rs,[["__scopeId","data-v-5a920ff8"]]);var oe=(t=>(t.CONNECT="connect",t.DISCONNECT="disconnect",t.RECONNECT="reconnect",t.RECONNECTING="reconnecting",t.MESSAGE="message",t.SYSTEM_STATUS="system_status",t.AUTH_RESPONSE="auth_response",t.ERROR="error",t.AUTH_ERROR="auth_error",t.CONNECTION_ERROR="connection_error",t.STATUS_UPDATE="status_update",t.CUSTOM="custom",t))(oe||{});const U=y("disconnected"),ye=y(!1),G=y(null);let A=null,xe=0;const We=3;let ue=null,Oe=null,ge=null;const le={};Object.values(oe).forEach(t=>{le[t]=new Set});const as=()=>{A&&(A.close(1e3,"Componente desmontado"),A=null),ue&&(clearTimeout(ue),ue=null)},Y={addEventListener(t,s){const o=t;return le[o]||(le[o]=new Set),le[o].add(s),()=>{this.removeEventListener(t,s)}},removeEventListener(t,s){const o=t;le[o]&&le[o].delete(s)},emit(t,s){const o={type:t,data:s,timestamp:new Date().toISOString()},n=le[t];n&&n.forEach(l=>{try{l(o)}catch{}})},_scheduleReconnect(){if(xe>=We){U.value="error";return}const t=Math.min(1e3*Math.pow(1.5,xe),3e3);xe++,U.value="reconnecting",ue=setTimeout(()=>{requestAnimationFrame(()=>{Oe&&this.connect(Oe).catch(s=>{xe<We&&this._scheduleReconnect()})})},t)},async connect(t){try{if(A&&this.disconnect(),!t||t.trim()==="")throw new Error("No se proporcion√≥ un token de autenticaci√≥n v√°lido");try{const r=JSON.parse(atob(t.split(".")[1])),i=Math.floor(Date.now()/1e3);if(r.exp&&r.exp<i)throw new Error("El token de autenticaci√≥n ha expirado")}catch{}Oe=t,U.value="connecting",G.value=null;const s=`client-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,o=!1;let n;if(!o)return!1;const l=new URL(n);return l.searchParams.set("token",t),new Promise((r,i)=>{try{A=new WebSocket(l.toString()),A.binaryType="arraybuffer";const f=setTimeout(()=>{if(A&&A.readyState===WebSocket.CONNECTING){A.close(4e3,"Connection timeout");const d="Tiempo de conexi√≥n agotado";G.value=new Error(d),U.value="error",i(new Error(d))}},5e3);A.onopen=()=>{clearTimeout(f),ye.value=!0,U.value="connected",xe=0,this._startHeartbeat(),this.emit(oe.CONNECT,{type:oe.CONNECT}),r(!0)},A.onclose=d=>{clearTimeout(f),ye.value=!1,d.code===1e3?U.value="disconnected":d.code===4e3?(U.value="error",G.value=new Error("Tiempo de conexi√≥n agotado")):d.code===1006?(U.value="error",G.value=new Error("Conexi√≥n cerrada inesperadamente")):d.code===1008?(U.value="error",G.value=new Error("Token de autenticaci√≥n inv√°lido o expirado")):(U.value="error",G.value=new Error(`Conexi√≥n cerrada con c√≥digo: ${d.code}`)),d.code!==1e3&&d.code!==1001&&d.code!==1008&&(G.value=new Error(`Conexi√≥n cerrada: ${d.reason||"C√≥digo: "+d.code}`),this._scheduleReconnect()),this.emit(oe.DISCONNECT,{type:oe.DISCONNECT,code:d.code,reason:d.reason,wasClean:d.wasClean})},A.onerror=d=>{G.value=new Error("Error en la conexi√≥n WebSocket"),this.emit(oe.ERROR,{type:oe.ERROR,error:d}),U.value==="connecting"&&i(new Error("Error en la conexi√≥n WebSocket"))},A.onmessage=d=>{try{const h=typeof d.data=="string"?JSON.parse(d.data):d.data;this.emit(h.type||"message",h)}catch{}}}catch(f){G.value=f instanceof Error?f:new Error("Error al crear la conexi√≥n WebSocket"),U.value="error",i(f)}})}catch(s){throw U.value="error",G.value=s instanceof Error?s:new Error(String(s)),G.value}},disconnect(){if(this._stopHeartbeat(),A)try{(A.readyState===WebSocket.OPEN||A.readyState===WebSocket.CONNECTING)&&A.close(1e3,"User disconnected"),A.onopen=null,A.onclose=null,A.onerror=null,A.onmessage=null,A=null}catch{}ue&&(clearTimeout(ue),ue=null),U.value="disconnected",ye.value=!1},async send(t){if(!A)throw new Error("WebSocket no inicializado");if(A.readyState!==WebSocket.OPEN)throw new Error("WebSocket no est√° conectado");const s=typeof t=="string"?t:JSON.stringify(t);A.send(s)},get currentStatus(){return U.value},get isConnected(){return ye.value},get currentError(){return G.value},_startHeartbeat(){ge&&clearInterval(ge),ge=setInterval(()=>{if(A&&A.readyState===WebSocket.OPEN)try{A.send(JSON.stringify({type:"ping",timestamp:Date.now()}))}catch{}},3e4)},_stopHeartbeat(){ge&&(clearInterval(ge),ge=null)},cleanup(){this._stopHeartbeat(),as()},useWebSocket(){const t=()=>{Object.values(oe).forEach(s=>{le[s].clear()})};return{connect:Y.connect.bind(Y),disconnect:Y.disconnect.bind(Y),send:Y.send.bind(Y),addEventListener:Y.addEventListener.bind(Y),removeEventListener:Y.removeEventListener.bind(Y),cleanup:t,status:ze(U),isConnected:ze(ye),error:ze(G)}}},is=Y.useWebSocket.bind(Y),ls=["title"],cs={class:"status-text"},ds=tt({__name:"SystemStatusBadge",setup(t){const s=ae(),{status:o,error:n,connect:l,disconnect:r,cleanup:i}=is(),f=y(null),d=F(()=>{switch(o.value){case"connected":return"Connected";case"connecting":return"Connecting...";case"reconnecting":return"Reconnecting...";case"error":return"Connection Error";default:return"Disconnected"}}),h=F(()=>({"status-connected":o.value==="connected","status-connecting":o.value==="connecting","status-reconnecting":o.value==="reconnecting","status-error":o.value==="error","status-disconnected":o.value==="disconnected"})),a=F(()=>n.value?`Error: ${n.value.message}`:f.value?`Error: ${f.value.message}`:d.value);Me(n,u=>{u&&(f.value=u)});const g=()=>{try{if(!s)return;s.isAuthenticated&&s.token&&l(s.token).catch(u=>{const C=u instanceof Error?u:new Error(String(u));f.value=C,C.message.includes("Network error")||C.message.includes("Tiempo de conexi√≥n agotado")})}catch(u){const C=u instanceof Error?u:new Error(String(u));f.value=C}};return Me(()=>s.token,(u,C)=>{try{if(!u&&C){r();return}u&&s.isAuthenticated&&l(u).catch(z=>{const O=z instanceof Error?z:new Error(String(z));f.value=O})}catch(z){const O=z instanceof Error?z:new Error(String(z));f.value=O}},{immediate:!0}),se(()=>{g()}),$e(()=>{i()}),(u,C)=>(m(),p("div",{class:R(["system-status-badge",h.value]),title:a.value},[C[0]||(C[0]=e("span",{class:"status-dot"},null,-1)),e("span",cs,w(d.value),1)],10,ls))}});const us=K(ds,[["__scopeId","data-v-09c05868"]]),ms="/images/zues-3d-main.png";const fs={class:"zeus-3d-container relative flex flex-col items-center justify-center h-full w-full"},ps={__name:"Zeus3D",setup(t){const s=ne(),o=ae(),n=y(!0),l=()=>{s.push("/perfil")},r=()=>{s.push("/dashboard")},i=()=>{alert("Estado del sistema: conectado")},f=()=>{n.value=!n.value},d=async()=>{await o.logout(),s.push("/login")};return(h,a)=>(m(),p("div",fs,[a[5]||(a[5]=e("img",{src:ms,alt:"ZEUS IA Zeus",class:"zeus-3d-image rounded-xl shadow-lg object-cover",draggable:"false"},null,-1)),e("div",{class:"zeus-3d-buttons absolute inset-0 flex flex-col items-end justify-between p-6 pointer-events-none"},[e("div",{class:"flex flex-col space-y-4 mt-2 pointer-events-auto"},[e("button",{onClick:l,class:"zeus-btn",title:"Perfil de usuario"},a[0]||(a[0]=[e("i",{class:"fas fa-user-circle"},null,-1)])),e("button",{onClick:r,class:"zeus-btn",title:"Panel de control"},a[1]||(a[1]=[e("i",{class:"fas fa-tachometer-alt"},null,-1)])),e("button",{onClick:i,class:"zeus-btn",title:"Estado del sistema"},a[2]||(a[2]=[e("i",{class:"fas fa-signal"},null,-1)])),e("button",{onClick:f,class:"zeus-btn",title:"Vista 3D"},a[3]||(a[3]=[e("i",{class:"fas fa-cube"},null,-1)]))]),e("div",{class:"flex flex-col pointer-events-auto"},[e("button",{onClick:d,class:"zeus-btn",title:"Cerrar sesi√≥n"},a[4]||(a[4]=[e("i",{class:"fas fa-sign-out-alt"},null,-1)]))])])]))}},gs=K(ps,[["__scopeId","data-v-d3f707c0"]]);const hs={class:"bg-white overflow-hidden shadow rounded-lg"},vs={class:"p-5"},_s={class:"flex items-center"},ws={key:1,class:"h-6 w-6"},ys={class:"ml-5 w-0 flex-1"},xs={class:"text-sm font-medium text-gray-500 truncate"},bs={class:"text-lg font-medium text-gray-900"},ks={key:0,class:"mt-4 flex items-center"},Es={key:1,class:"mt-4"},Ss={__name:"DashboardMetric",props:{title:{type:String,required:!0},value:{type:[String,Number],required:!0},icon:{type:String,required:!0},trend:{type:String,validator:t=>["up","down",null,void 0].includes(t),default:null},trendValue:{type:String,default:""},loading:{type:Boolean,default:!1}},setup(t){return(s,o)=>(m(),p("div",hs,[e("div",vs,[e("div",_s,[e("div",{class:R(["flex-shrink-0 rounded-md p-3",{"bg-indigo-100":!t.loading,"bg-gray-200":t.loading,"animate-pulse":t.loading}])},[t.loading?(m(),p("div",ws)):(m(),p("i",{key:0,class:R(["fas",`fa-${t.icon}`,"text-indigo-600 text-lg"])},null,2))],2),e("div",ys,[e("dl",null,[e("dt",xs,w(t.loading?"Cargando...":t.title),1),e("dd",null,[e("div",bs,w(t.loading?"...":t.value),1)])])])]),!t.loading&&t.trend?(m(),p("div",ks,[e("span",{class:R(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",t.trend==="up"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},[e("i",{class:R(["mr-1",t.trend==="up"?"fa-arrow-up":"fa-arrow-down"])},null,2),V(" "+w(t.trendValue),1)],2),o[0]||(o[0]=e("span",{class:"ml-2 text-sm text-gray-500"}," vs. per√≠odo anterior ",-1))])):t.loading?(m(),p("div",Es,o[1]||(o[1]=[e("div",{class:"h-4 bg-gray-200 rounded w-3/4"},null,-1)]))):L("",!0)])]))}},$s=K(Ss,[["__scopeId","data-v-b4acc032"]]);const Ts={class:"dashboard"},As={key:0,class:"fixed inset-0 bg-white bg-opacity-75 flex items-center justify-center z-50"},Cs={key:1,class:"fixed inset-0 bg-white flex items-center justify-center z-50"},Rs={class:"text-center p-6 max-w-md mx-auto"},Is={class:"mt-2 text-sm text-gray-500"},Ls={class:"mt-5"},zs={class:"bg-white shadow"},Ps={class:"max-w-7xl mx-auto px-4 py-4 sm:px-6 lg:px-8 flex justify-between items-center"},Ns={class:"flex items-center space-x-4"},Os={class:"relative"},Ms={class:"hidden md:inline text-sm font-medium text-gray-700"},Ds={key:0,class:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none z-50",role:"menu",tabindex:"-1"},js={class:"py-1",role:"none"},Us={class:"max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8"},Fs={class:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4 mb-8"},qs={class:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8"},Vs={class:"lg:col-span-2 bg-white rounded-lg shadow p-6"},Bs={class:"flex justify-between items-center mb-4"},Hs={class:"flex space-x-2"},Zs=["onClick"],Js={class:"h-64"},Gs={class:"bg-white rounded-lg shadow overflow-hidden"},Ws={class:"p-6"},Ys={class:"h-64"},Ks={class:"bg-white shadow overflow-hidden sm:rounded-lg"},Xs={class:"overflow-x-auto"},Qs={class:"min-w-full divide-y divide-gray-200"},eo={class:"bg-white divide-y divide-gray-200"},to={class:"px-6 py-4 whitespace-nowrap"},so={class:"flex items-center"},oo={class:"flex-shrink-0 h-10 w-10"},ro={class:"ml-4"},no={class:"text-sm font-medium text-gray-900"},ao={class:"text-sm text-gray-500"},io={class:"px-6 py-4 whitespace-nowrap"},lo={class:"text-sm text-gray-900"},co={class:"px-6 py-4 whitespace-nowrap"},uo={class:"text-sm text-gray-500"},mo={class:"px-6 py-4 whitespace-nowrap"},fo={key:0},po={__name:"Dashboard",setup(t){Pe.register(...it);const s=ae(),o=ne(),n=y("d√≠a"),l=y(!1),r=y(!0),i=y(null),f=y(null);y(null);const d=y(null),h=y([{title:"Ventas Hoy",value:"1,245",icon:"shopping-cart",trend:"up",trendValue:"12%",loading:!1},{title:"Ingresos",value:"$12,548",icon:"dollar-sign",trend:"down",trendValue:"3%"},{title:"Clientes Nuevos",value:"24",icon:"users",trend:"up",trendValue:"8%"},{title:"√ìrdenes",value:"156",icon:"box",trend:"up",trendValue:"5%"}]),a=y([{id:1,title:"Nueva orden creada",description:"Orden #1001 por $125.75",type:"order",user:"Juan P√©rez",timestamp:new Date,status:"completed"},{id:2,title:"Error de pago",description:"Error al procesar el pago #1002",type:"error",user:"Mar√≠a Garc√≠a",timestamp:Ne(new Date,1),status:"error"},{id:3,title:"Nuevo cliente registrado",description:"Carlos L√≥pez se ha registrado",type:"user",user:"Sistema",timestamp:Ne(new Date,2),status:"completed"}]),g={order:"fas fa-shopping-cart",error:"fas fa-exclamation-circle",user:"fas fa-user-plus",system:"fas fa-cog"},u=F(()=>s.userFullName||"Usuario"),C=v=>{if(!v)return"";try{const c=typeof v=="string"?new Date(v):v;return qe(c,"dd/MM/yyyy HH:mm",{locale:Ve})}catch{return"Fecha inv√°lida"}},z=async()=>{try{await s.logout(),o.push("/login")}catch{}},O=v=>{const c=document.querySelector(".user-menu"),E=document.querySelector('[aria-expanded="true"]');c&&E&&!c.contains(v.target)&&!E.contains(v.target)&&(l.value=!1)},P=()=>{if(d.value){const v=Pe.getChart(d.value);v&&v.destroy()}if(d.value){const v=d.value.getContext("2d");new Pe(v,{type:"line",data:{labels:Array.from({length:7},(c,E)=>{const k=Ne(new Date,6-E);return qe(k,"EEE",{locale:Ve})}),datasets:[{label:"Ventas",data:[12,19,3,5,2,3,15],borderColor:"rgb(79, 70, 229)",backgroundColor:"rgba(79, 70, 229, 0.1)",tension:.4,fill:!0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,grid:{display:!0,drawBorder:!1},ticks:{stepSize:5}},x:{grid:{display:!1,drawBorder:!1}}}}})}};return Me(n,v=>{}),se(()=>{(async()=>{try{if(r.value=!0,i.value=null,!s.isAuthenticated&&!await s.refreshAccessToken())throw new Error("Sesi√≥n expirada. Por favor, inicia sesi√≥n nuevamente.");try{f.value=await Ue.getCurrentUser()}catch(c){if(s.user)f.value=s.user;else throw c}await Promise.all([]),De(()=>{P()})}catch(c){i.value=c.response?.data?.message||c.message||"Error al cargar los datos del dashboard",(c.response?.status===401||c.message.includes("Sesi√≥n expirada"))&&(s.logout(),o.push("/login"))}finally{r.value=!1}})(),document.addEventListener("click",O)}),$e(()=>{document.removeEventListener("click",O)}),(v,c)=>{const E=ce("router-link");return m(),p("div",Ts,[r.value?(m(),p("div",As,c[4]||(c[4]=[e("div",{class:"text-center"},[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),e("p",{class:"mt-4 text-gray-700"},"Cargando datos del dashboard...")],-1)]))):i.value?(m(),p("div",Cs,[e("div",Rs,[c[7]||(c[7]=e("div",{class:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100"},[e("i",{class:"fas fa-exclamation-triangle text-red-600 text-xl"})],-1)),c[8]||(c[8]=e("h3",{class:"mt-3 text-lg font-medium text-gray-900"},"Error al cargar el dashboard",-1)),e("p",Is,w(i.value),1),e("div",Ls,[e("button",{onClick:c[0]||(c[0]=(...k)=>v.retryLoading&&v.retryLoading(...k)),class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},c[5]||(c[5]=[e("i",{class:"fas fa-sync-alt mr-2"},null,-1),V(" Reintentar ")])),e("button",{onClick:c[1]||(c[1]=k=>lt(s).logout()),class:"ml-3 inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},c[6]||(c[6]=[e("i",{class:"fas fa-sign-out-alt mr-2"},null,-1),V(" Cerrar sesi√≥n ")]))])])])):L("",!0),e("header",zs,[e("div",Ps,[c[12]||(c[12]=e("h1",{class:"text-2xl font-bold text-gray-900"},"Panel de Control",-1)),e("div",Ns,[J(us),e("div",Os,[e("button",{onClick:c[2]||(c[2]=k=>l.value=!l.value),class:"flex items-center space-x-2 focus:outline-none"},[c[9]||(c[9]=e("span",{class:"inline-block h-8 w-8 rounded-full bg-indigo-100 flex items-center justify-center"},[e("i",{class:"fas fa-user text-indigo-600"})],-1)),e("span",Ms,w(u.value),1)]),l.value?(m(),p("div",Ds,[e("div",js,[J(E,{to:"/perfil",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",onClick:c[3]||(c[3]=k=>l.value=!1)},{default:re(()=>c[10]||(c[10]=[e("i",{class:"fas fa-user-circle mr-2"},null,-1),V(" Perfil ")])),_:1,__:[10]}),e("button",{onClick:z,class:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem"},c[11]||(c[11]=[e("i",{class:"fas fa-sign-out-alt mr-2"},null,-1),V(" Cerrar sesi√≥n ")]))])])):L("",!0)])])])]),e("main",Us,[e("div",Fs,[(m(!0),p(me,null,fe(h.value,k=>(m(),ct($s,{key:k.title,title:k.title,value:k.value,icon:k.icon,trend:k.trend,"trend-value":k.trendValue,loading:r.value},null,8,["title","value","icon","trend","trend-value","loading"]))),128))]),e("div",qs,[e("div",Vs,[e("div",Bs,[c[13]||(c[13]=e("h2",{class:"text-lg font-medium text-gray-900"},"Ventas Recientes",-1)),e("div",Hs,[(m(),p(me,null,fe(["D√≠a","Semana","Mes"],k=>e("button",{key:k,onClick:N=>n.value=k.toLowerCase(),class:R(["px-3 py-1 text-sm rounded-md",{"bg-indigo-100 text-indigo-700":n.value===k.toLowerCase(),"text-gray-500 hover:bg-gray-100":n.value!==k.toLowerCase()}])},w(k),11,Zs)),64))])]),e("div",Js,[e("canvas",{ref_key:"salesChart",ref:d},null,512)])]),e("div",Gs,[e("div",Ws,[c[14]||(c[14]=e("h2",{class:"text-lg font-medium text-gray-900 mb-4"},"Vista 3D",-1)),e("div",Ys,[J(gs,{class:"h-full w-full"})])])])]),e("div",Ks,[c[17]||(c[17]=e("div",{class:"px-4 py-5 sm:px-6 border-b border-gray-200"},[e("h3",{class:"text-lg leading-6 font-medium text-gray-900"},"Actividad Reciente"),e("p",{class:"mt-1 max-w-2xl text-sm text-gray-500"}," √öltimas actividades en el sistema ")],-1)),e("div",Xs,[e("table",Qs,[c[16]||(c[16]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actividad "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Usuario "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Fecha "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Estado ")])],-1)),e("tbody",eo,[(m(!0),p(me,null,fe(a.value,(k,N)=>(m(),p("tr",{key:N},[e("td",to,[e("div",so,[e("div",oo,[e("i",{class:R([g[k.type],"text-indigo-600 text-lg"])},null,2)]),e("div",ro,[e("div",no,w(k.title),1),e("div",ao,w(k.description),1)])])]),e("td",io,[e("div",lo,w(k.user),1)]),e("td",co,[e("div",uo,w(C(k.timestamp)),1)]),e("td",mo,[e("span",{class:R(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",k.status==="completed"?"bg-green-100 text-green-800":k.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"])},w(k.status==="completed"?"Completado":k.status==="pending"?"Pendiente":"Error"),3)])]))),128)),a.value.length===0?(m(),p("tr",fo,c[15]||(c[15]=[e("td",{colspan:"4",class:"px-6 py-4 text-center text-sm text-gray-500"}," No hay actividades recientes ",-1)]))):L("",!0)])])])])])])}}},Ye=K(po,[["__scopeId","data-v-029e61fb"]]);const go={class:"zeus-hologram-container"},ho={class:"holographic-controls"},vo={class:"agent-status-panel"},_o=["onClick"],wo={class:"agent-avatar"},yo={class:"agent-info"},xo={class:"command-input-panel"},bo={class:"holographic-input"},ko={key:0,class:"agent-response"},Eo={class:"response-header"},So={class:"agent-name"},$o={class:"response-time"},To={class:"response-content"},Ao={key:0,class:"voice-indicator"},Ke=1e3/30,Co={__name:"ZeusHologram3D",props:{width:{type:Number,default:800},height:{type:Number,default:600}},setup(t){const s=t,o=y(null),n=y(""),l=y(null);let r,i,f,d=[],h=null,a=!1,g=0,u=0,C=!0,z=0;const O=y([{name:"ZEUS",type:"zeus",description:"N√∫cleo principal del ecosistema empresarial",status:"inactive",position:{x:0,y:0,z:0}},{name:"PER-SEO",type:"perseo",description:"Estratega de Ventas y Crecimiento Exponencial",status:"inactive",position:{x:-3,y:0,z:0}},{name:"THALOS",type:"thalos",description:"Ciberdefensa Automatizada (ZEUS SHIELD)",status:"inactive",position:{x:3,y:0,z:0}},{name:"JUSTICIA",type:"justicia",description:"Abogada Digital",status:"inactive",position:{x:0,y:2,z:-2}},{name:"RAFAEL",type:"rafael",description:"Asistente Fiscal y Contable (Espa√±a)",status:"inactive",position:{x:0,y:-2,z:-2}},{name:"AN√ÅLISIS",type:"analisis",description:"An√°lisis de datos empresariales",status:"inactive",position:{x:-2,y:2,z:0}},{name:"IA",type:"ia",description:"Inteligencia artificial avanzada",status:"inactive",position:{x:2,y:2,z:0}}]),P=ae();se(async()=>{await De(),v(),E(),X()}),$e(()=>{h&&cancelAnimationFrame(h),f&&f.dispose()});function v(){r=new _t,r.background=new wt(17),i=new yt(75,s.width/s.height,.1,1e3),i.position.set(0,0,10),f=new xt({canvas:o.value,antialias:!0,alpha:!0}),f.setSize(s.width,s.height),f.shadowMap.enabled=!0,f.shadowMap.type=bt,c()}function c(){const _=new kt(65535,.3);r.add(_);const S=new Et(65535,1);S.position.set(5,5,5),S.castShadow=!0,r.add(S);const T=new Be(16711935,.5,100);T.position.set(-5,0,5),r.add(T);const D=new Be(65280,.5,100);D.position.set(5,0,5),r.add(D)}function E(){O.value.forEach((_,S)=>{k(_,S)}),ee(),j()}function k(_,S){const T=new St(.5,2,8),D=new $t({color:N(_.type),transparent:!0,opacity:.8,emissive:N(_.type),emissiveIntensity:.2}),H=new He(T,D);H.position.set(_.position.x,_.position.y,_.position.z),H.userData={agent:_},H.rotation.y=S*Math.PI/3,r.add(H),d.push(H);const te=new Tt(.8,1,16),ie=new At({color:N(_.type),transparent:!0,opacity:.3,side:Ct}),Ee=new He(te,ie);Ee.position.set(_.position.x,_.position.y,_.position.z-.1),Ee.rotation.x=-Math.PI/2,r.add(Ee),d.push(Ee)}function N(_){return{zeus:16739072,perseo:65280,thalos:26367,justicia:16711782,rafael:65535,analisis:6684927,ia:16737792}[_]||65535}function ee(){const S=new Rt,T=new Float32Array(30*3);for(let te=0;te<30*3;te++)T[te]=(Math.random()-.5)*20;S.setAttribute("position",new It(T,3));const D=new Lt({color:65535,size:.1,transparent:!0,opacity:.6}),H=new zt(S,D);r.add(H),d.push(H)}function j(){const T=new Pt(20,20,65535,17476);T.position.y=-5,r.add(T),d.push(T)}function X(_=0){h=requestAnimationFrame(X);const S=_-z;if(S<Ke)return;z=_-S%Ke;const D=Date.now()*5e-4;let H=!1;d.forEach(ie=>{ie.userData&&ie.userData.agent&&ie.userData.agent.status==="active"&&(ie.rotation.y+=.005,ie.rotation.x+=.0025,H=!0)});let te=!1;a||(i.position.x=Math.sin(D)*10,i.position.z=Math.cos(D)*10,i.lookAt(0,0,0),te=!0),(C||H||te)&&(f.render(r,i),C=!1)}function B(){C=!0}function Q(_){a=!0,g=_.clientX,B(),u=_.clientY}function ke(_){if(!a)return;const S=_.clientX-g,T=_.clientY-u;i.position.x+=S*.01,i.position.y-=T*.01,g=_.clientX,u=_.clientY,B()}function Ce(){a=!1}function Re(_){i.position.z+=_.deltaY*.01,i.position.z=Math.max(5,Math.min(20,i.position.z)),B()}function Ie(_){i.position.x=_.position.x,i.position.y=_.position.y,i.position.z=_.position.z+5,i.lookAt(_.position.x,_.position.y,_.position.z),B()}async function b(){if(n.value.trim())try{const _=new AbortController,S=setTimeout(()=>_.abort(),1e4),T=await fetch("/api/v1/zeus/execute",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${P.token}`},body:JSON.stringify({command:n.value,data:{}}),signal:_.signal});clearTimeout(S);const D=await T.json();l.value=D,requestAnimationFrame(()=>{if(D.agent){const H=O.value.find(te=>te.name===D.agent);H&&(H.status=D.status==="success"?"active":"error")}}),D.voice&&setTimeout(()=>x(D.voice),100),n.value=""}catch(_){_.name==="AbortError"?l.value={agent:"ERROR",message:"Timeout: El comando tard√≥ demasiado",timestamp:new Date().toISOString(),status:"error"}:l.value={agent:"ERROR",message:"Error ejecutando comando",timestamp:new Date().toISOString(),status:"error"}}}function x(_){if("speechSynthesis"in window){const S=new SpeechSynthesisUtterance(_);S.lang="es-ES",S.rate=.9,S.pitch=1,speechSynthesis.speak(S)}}function $(_){return new Date(_).toLocaleTimeString()}return(_,S)=>(m(),p("div",go,[e("canvas",{ref_key:"hologramCanvas",ref:o,class:"hologram-canvas",onMousedown:Q,onMousemove:ke,onMouseup:Ce,onWheel:Re},null,544),e("div",ho,[e("div",vo,[(m(!0),p(me,null,fe(O.value,T=>(m(),p("div",{key:T.name,class:R(["agent-card",{active:T.status==="active"}]),onClick:D=>Ie(T)},[e("div",wo,[e("div",{class:R(["holographic-avatar",T.type])},w(T.name.charAt(0)),3)]),e("div",yo,[e("h3",null,w(T.name),1),e("p",null,w(T.description),1),e("div",{class:R(["status-indicator",T.status])},w(T.status.toUpperCase()),3)])],10,_o))),128))]),e("div",xo,[e("div",bo,[q(e("input",{"onUpdate:modelValue":S[0]||(S[0]=T=>n.value=T),onKeyup:dt(b,["enter"]),placeholder:"Ingresa comando ZEUS...",class:"command-input"},null,544),[[W,n.value]]),e("button",{onClick:b,class:"execute-btn"}," EJECUTAR ")]),l.value?(m(),p("div",ko,[e("div",Eo,[e("span",So,w(l.value.agent),1),e("span",$o,w($(l.value.timestamp)),1)]),e("div",To,[e("p",null,w(l.value.message),1),l.value.voice?(m(),p("div",Ao," üîä "+w(l.value.voice),1)):L("",!0)])])):L("",!0)])]),S[1]||(S[1]=e("div",{class:"holographic-background"},[e("div",{class:"grid-lines"}),e("div",{class:"particles"})],-1))]))}},Ro=K(Co,[["__scopeId","data-v-36b6b16a"]]);const Io={class:"zeus-core-container"},Lo={class:"zeus-header"},zo={class:"zeus-logo"},Po={class:"user-info"},No={class:"user-name"},Oo={class:"zeus-main"},Mo={class:"info-panel"},Do={class:"panel-section"},jo={class:"system-metrics"},Uo={class:"metric"},Fo={class:"metric-value"},qo={class:"metric"},Vo={class:"metric-value"},Bo={class:"metric"},Ho={class:"metric-value"},Zo={class:"panel-section"},Jo={class:"command-list"},Go=["onClick"],Wo={class:"panel-section"},Yo={class:"logs-container"},Ko={class:"log-time"},Xo={class:"log-message"},Qo={class:"notifications-container"},er=["onClick"],tr={class:"notification-icon"},sr={class:"notification-content"},or={__name:"ZeusCore",setup(t){const s=ne(),o=ae(),n=y(null),l=y("inactive"),r=y(0),i=y(0),f=y([]),d=y([]),h=y(new Date);let a=null,g=null;const u=F(()=>o.user?.email||"Usuario"),C=F(()=>window.innerWidth-300),z=F(()=>window.innerHeight-100),O=F(()=>{const x=new Date-h.value,$=Math.floor(x/6e4),_=Math.floor(x%6e4/1e3);return`${$}:${_.toString().padStart(2,"0")}`}),P=y(["ZEUS.ACTIVAR","ZEUS.ANALIZAR","PERSEO.FUNNEL","PERSEO.SEO","PERSEO.COPY","THALOS.SHIELD","THALOS.SCAN","JUSTICIA.CONTRATO","JUSTICIA.RGPD","RAFAEL.IVA","RAFAEL.IRPF","RAFAEL.IS","ANALISIS.PROCESAR","IA.PROCESAR"]);se(async()=>{if(!o.isAuthenticated){s.push("/auth/login");return}await v(),c(),B("info","N√∫cleo ZEUS-IA inicializado correctamente"),Q("success","Sistema Activado","N√∫cleo ZEUS-IA operativo")}),$e(()=>{a&&(clearInterval(a),a=null),g&&(clearInterval(g),g=null)});async function v(){try{const b=await fetch("/api/v1/zeus/activate",{method:"POST",headers:{Authorization:`Bearer ${o.token}`,"Content-Type":"application/json"}});if(b.ok){const x=await b.json();l.value="active",r.value=x.data?.agents?Object.keys(x.data.agents).length:0,B("success","Sistema ZEUS activado correctamente"),Q("success","ZEUS Activado","Todos los agentes est√°n operativos")}else throw new Error("Error activando sistema ZEUS")}catch(b){B("error",`Error inicializando sistema: ${b.message}`),Q("error","Error de Inicializaci√≥n",b.message)}}function c(){a=setInterval(async()=>{try{await k()}catch{}},3e4),g=setInterval(()=>{try{N()}catch{}},1e4)}let E=!1;async function k(){if(!E){E=!0;try{const b=new AbortController,x=setTimeout(()=>b.abort(),3e3),$=await fetch("/api/v1/zeus/status",{headers:{Authorization:`Bearer ${o.token}`},signal:b.signal});if(clearTimeout(x),$.ok){const S=(await $.json()).data;l.value=S.system_status,r.value=S.active_agents||0}}catch(b){b.name}finally{E=!1}}}function N(){if(Math.random()>.9){const b=["info","success","warning","error"],x=["Sistema funcionando normalmente","Agente THALOS ejecutando verificaci√≥n de seguridad","An√°lisis de datos completado","Usuario interactuando con el sistema","Comando ejecutado exitosamente"],$=b[Math.floor(Math.random()*b.length)],_=x[Math.floor(Math.random()*x.length)];B($,_)}}function ee(b){B("success",`Agente ${b.name} activado`),Q("info","Agente Activado",`${b.name} est√° operativo`)}function j(b){i.value++,B("info",`Comando ejecutado: ${b.command}`),b.status==="success"?Q("success","Comando Exitoso",b.message):Q("error","Error en Comando",b.message)}async function X(b){try{const x=new AbortController,$=setTimeout(()=>x.abort(),1e4),_=await fetch("/api/v1/zeus/execute",{method:"POST",headers:{Authorization:`Bearer ${o.token}`,"Content-Type":"application/json"},body:JSON.stringify({command:b,data:{}}),signal:x.signal});if(clearTimeout($),_.ok){const S=await _.json();j(S)}else throw new Error("Error ejecutando comando")}catch(x){x.name==="AbortError"?(B("warning",`Timeout ejecutando ${b}`),Q("warning","Timeout de Comando",`El comando ${b} tard√≥ demasiado`)):(B("error",`Error ejecutando ${b}: ${x.message}`),Q("error","Error de Comando",x.message))}}function B(b,x){const $={id:Date.now(),type:b,message:x,timestamp:new Date().toISOString()};f.value.push($),f.value.length>50&&f.value.shift()}function Q(b,x,$){const _={id:Date.now(),type:b,title:x,message:$,timestamp:new Date().toISOString()};d.value.push(_),setTimeout(()=>{ke(_.id)},5e3)}function ke(b){const x=d.value.findIndex($=>$.id===b);x>-1&&d.value.splice(x,1)}function Ce(b){return{success:"‚úÖ",error:"‚ùå",warning:"‚ö†Ô∏è",info:"‚ÑπÔ∏è"}[b]||"‚ÑπÔ∏è"}function Re(b){return new Date(b).toLocaleTimeString()}function Ie(){o.logout(),s.push("/auth/login")}return(b,x)=>(m(),p("div",Io,[e("header",Lo,[e("div",zo,[x[0]||(x[0]=e("div",{class:"logo-icon"},"‚ö°",-1)),x[1]||(x[1]=e("h1",null,"N√öCLEO ZEUS-IA",-1)),e("div",{class:R(["status-indicator",l.value])},w(l.value.toUpperCase()),3)]),e("div",Po,[e("span",No,w(u.value),1),e("button",{onClick:Ie,class:"logout-btn"},"SALIR")])]),e("main",Oo,[J(Ro,{ref_key:"hologram3D",ref:n,width:C.value,height:z.value,onAgentActivated:ee,onCommandExecuted:j},null,8,["width","height"]),e("aside",Mo,[e("div",Do,[x[5]||(x[5]=e("h3",null,"ESTADO DEL SISTEMA",-1)),e("div",jo,[e("div",Uo,[x[2]||(x[2]=e("span",{class:"metric-label"},"Agentes Activos:",-1)),e("span",Fo,w(r.value)+"/6",1)]),e("div",qo,[x[3]||(x[3]=e("span",{class:"metric-label"},"Comandos Ejecutados:",-1)),e("span",Vo,w(i.value),1)]),e("div",Bo,[x[4]||(x[4]=e("span",{class:"metric-label"},"Tiempo de Actividad:",-1)),e("span",Ho,w(O.value),1)])])]),e("div",Zo,[x[6]||(x[6]=e("h3",null,"COMANDOS DISPONIBLES",-1)),e("div",Jo,[(m(!0),p(me,null,fe(P.value,$=>(m(),p("div",{key:$,class:"command-item",onClick:_=>X($)},w($),9,Go))),128))])]),e("div",Wo,[x[7]||(x[7]=e("h3",null,"LOGS DEL SISTEMA",-1)),e("div",Yo,[(m(!0),p(me,null,fe(f.value.slice(-5),$=>(m(),p("div",{key:$.id,class:R(["log-entry",$.type])},[e("span",Ko,w(Re($.timestamp)),1),e("span",Xo,w($.message),1)],2))),128))])])])]),e("div",Qo,[(m(!0),p(me,null,fe(d.value,$=>(m(),p("div",{key:$.id,class:R(["notification",$.type]),onClick:_=>ke($.id)},[e("div",tr,w(Ce($.type)),1),e("div",sr,[e("h4",null,w($.title),1),e("p",null,w($.message),1)])],10,er))),128))])]))}},rr=K(or,[["__scopeId","data-v-0007d117"]]),nr={key:0,class:"bg-red-50 border-l-4 border-red-400 p-4 mb-6"},ar={class:"flex"},ir={class:"ml-3"},lr={class:"text-sm text-red-700 whitespace-pre-line"},cr={class:"rounded-md shadow-sm -space-y-px"},dr=["disabled"],ur=["disabled"],mr={class:"flex items-center justify-between"},fr={class:"flex items-center"},pr=["disabled"],gr=["disabled"],hr={key:0},vr={key:1},_r={__name:"Login",setup(t){const s=ne(),o=ve(),n=ae(),l=y({email:"",password:"",rememberMe:!1}),r=y(""),i=y(!1),f=o.query.redirect||"/dashboard";se(()=>{n.isAuthenticated&&s.push(f)});const d=()=>{const a={};return l.value.email?/\S+@\S+\.\S+/.test(l.value.email)||(a.email="El correo electr√≥nico no es v√°lido"):a.email="El correo electr√≥nico es obligatorio",l.value.password?l.value.password.length<6&&(a.password="La contrase√±a debe tener al menos 6 caracteres"):a.password="La contrase√±a es obligatoria",Object.keys(a).length===0?!0:a},h=async()=>{const a=d();if(a!==!0){r.value=Object.values(a).join(`
`),alert("Error de validaci√≥n: "+r.value);return}i.value=!0,r.value="";try{const g=await n.login(l.value.email,l.value.password);if(g.success){if(!localStorage.getItem("auth_token"))throw alert("No se pudo guardar el token de autenticaci√≥n"),new Error("No se pudo guardar el token de autenticaci√≥n");await De(),setTimeout(()=>{window.location.href=f},100)}else{let u=g.error||g.message||"Error al iniciar sesi√≥n. Por favor, verifica tus credenciales.";typeof u!="string"&&(u=JSON.stringify(u)),r.value=u,alert("Error en login: "+u)}}catch(g){let u=g.message||"Ocurri√≥ un error al intentar iniciar sesi√≥n. Por favor, int√©ntalo de nuevo.";typeof u!="string"&&(u=JSON.stringify(u)),r.value=u,alert("Error inesperado en login: "+u)}finally{i.value=!1}};return(a,g)=>(m(),p("div",null,[r.value?(m(),p("div",nr,[e("div",ar,[g[3]||(g[3]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z","clip-rule":"evenodd"})])],-1)),e("div",ir,[e("p",lr,w(r.value),1)])])])):L("",!0),e("form",{class:"space-y-6",onSubmit:be(h,["prevent"])},[e("div",cr,[e("div",null,[g[4]||(g[4]=e("label",{for:"email-address",class:"sr-only"},"Correo electr√≥nico",-1)),q(e("input",{id:"email-address","onUpdate:modelValue":g[0]||(g[0]=u=>l.value.email=u),name:"email",type:"email",autocomplete:"email",required:"",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Correo electr√≥nico",disabled:i.value},null,8,dr),[[W,l.value.email]])]),e("div",null,[g[5]||(g[5]=e("label",{for:"password",class:"sr-only"},"Contrase√±a",-1)),q(e("input",{id:"password","onUpdate:modelValue":g[1]||(g[1]=u=>l.value.password=u),name:"password",type:"password",autocomplete:"current-password",required:"",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Contrase√±a",disabled:i.value},null,8,ur),[[W,l.value.password]])])]),e("div",mr,[e("div",fr,[q(e("input",{id:"remember-me","onUpdate:modelValue":g[2]||(g[2]=u=>l.value.rememberMe=u),name:"remember-me",type:"checkbox",class:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded",disabled:i.value},null,8,pr),[[st,l.value.rememberMe]]),g[6]||(g[6]=e("label",{for:"remember-me",class:"ml-2 block text-sm text-gray-900"}," Recordar sesi√≥n ",-1))]),g[7]||(g[7]=e("div",{class:"text-sm"},[e("a",{href:"#",class:"font-medium text-indigo-600 hover:text-indigo-500"}," ¬øOlvidaste tu contrase√±a? ")],-1))]),e("div",null,[e("button",{type:"submit",class:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",disabled:i.value},[g[8]||(g[8]=e("span",{class:"absolute left-0 inset-y-0 flex items-center pl-3"},[e("svg",{class:"h-5 w-5 text-indigo-500 group-hover:text-indigo-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M10 1a4.5 4.5 0 00-4.5 4.5V9H5a2 2 0 00-2 2v6a2 2 0 002 2h10a2 2 0 002-2v-6a2 2 0 00-2-2h-.5V5.5A4.5 4.5 0 0010 1zm3 8V5.5a3 3 0 10-6 0V9h6z","clip-rule":"evenodd"})])],-1)),i.value?(m(),p("span",vr,"Iniciando sesi√≥n...")):(m(),p("span",hr,"Iniciar sesi√≥n"))],8,gr)])],32)]))}};const wr={class:"space-y-6"},yr={key:0,class:"bg-red-50 border-l-4 border-red-400 p-4 mb-6"},xr={class:"flex"},br={class:"ml-3"},kr={class:"text-sm text-red-700"},Er={class:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6"},Sr={class:"sm:col-span-3"},$r={class:"mt-1"},Tr={key:0,class:"mt-2 text-sm text-red-600"},Ar={class:"sm:col-span-3"},Cr={class:"mt-1"},Rr={key:0,class:"mt-2 text-sm text-red-600"},Ir={class:"sm:col-span-6"},Lr={class:"mt-1"},zr={key:0,class:"mt-2 text-sm text-red-600"},Pr={class:"sm:col-span-6"},Nr={class:"mt-1"},Or={key:0,class:"mt-2 text-sm text-red-600"},Mr={class:"sm:col-span-6"},Dr={class:"mt-1"},jr={key:0,class:"mt-2 text-sm text-red-600"},Ur={class:"sm:col-span-6"},Fr={class:"flex items-start"},qr={class:"flex items-center h-5"},Vr={class:"ml-3 text-sm"},Br={key:0,class:"mt-2 text-sm text-red-600"},Hr=["disabled"],Zr={key:0},Jr={key:1,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Gr={class:"mt-6"},Wr={class:"mt-6"},Yr={__name:"Register",setup(t){const s=ne(),o=ve(),n=y(!1),l=y(""),r=he({first_name:"",last_name:"",email:"",password:"",password_confirmation:"",terms:!1}),i=he({first_name:"",last_name:"",email:"",password:"",password_confirmation:"",terms:""});se(()=>{o.query.email&&(r.email=o.query.email)});const f=()=>{let h=!0;return Object.keys(i).forEach(a=>{i[a]=""}),r.first_name.trim()||(i.first_name="El nombre es obligatorio",h=!1),r.last_name.trim()||(i.last_name="El apellido es obligatorio",h=!1),r.email?/\S+@\S+\.\S+/.test(r.email)||(i.email="El correo electr√≥nico no es v√°lido",h=!1):(i.email="El correo electr√≥nico es obligatorio",h=!1),r.password?r.password.length<8?(i.password="La contrase√±a debe tener al menos 8 caracteres",h=!1):/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(r.password)||(i.password="La contrase√±a debe contener al menos una letra may√∫scula, una min√∫scula y un n√∫mero",h=!1):(i.password="La contrase√±a es obligatoria",h=!1),r.password!==r.password_confirmation&&(i.password_confirmation="Las contrase√±as no coinciden",h=!1),r.terms||(i.terms="Debes aceptar los t√©rminos y condiciones",h=!1),h},d=async()=>{if(f()){n.value=!0,l.value="";try{await new Promise(h=>setTimeout(h,1500)),s.push({name:"Login",query:{email:r.email,registered:"true"}})}catch(h){l.value=h.response?.data?.message||"Ocurri√≥ un error al registrar la cuenta. Por favor, int√©ntalo de nuevo."}finally{n.value=!1}}};return(h,a)=>{const g=ce("router-link");return m(),p("div",wr,[l.value?(m(),p("div",yr,[e("div",xr,[a[6]||(a[6]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z","clip-rule":"evenodd"})])],-1)),e("div",br,[e("p",kr,w(l.value),1)])])])):L("",!0),e("form",{class:"space-y-6",onSubmit:be(d,["prevent"])},[e("div",Er,[e("div",Sr,[a[7]||(a[7]=e("label",{for:"first_name",class:"block text-sm font-medium text-gray-700"}," Nombre ",-1)),e("div",$r,[q(e("input",{id:"first_name","onUpdate:modelValue":a[0]||(a[0]=u=>r.first_name=u),name:"first_name",type:"text",autocomplete:"given-name",required:"",class:R(["appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",{"border-red-300":i.first_name}])},null,2),[[W,r.first_name]]),i.first_name?(m(),p("p",Tr,w(i.first_name),1)):L("",!0)])]),e("div",Ar,[a[8]||(a[8]=e("label",{for:"last_name",class:"block text-sm font-medium text-gray-700"}," Apellido ",-1)),e("div",Cr,[q(e("input",{id:"last_name","onUpdate:modelValue":a[1]||(a[1]=u=>r.last_name=u),name:"last_name",type:"text",autocomplete:"family-name",required:"",class:R(["appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",{"border-red-300":i.last_name}])},null,2),[[W,r.last_name]]),i.last_name?(m(),p("p",Rr,w(i.last_name),1)):L("",!0)])]),e("div",Ir,[a[9]||(a[9]=e("label",{for:"email",class:"block text-sm font-medium text-gray-700"}," Correo electr√≥nico ",-1)),e("div",Lr,[q(e("input",{id:"email","onUpdate:modelValue":a[2]||(a[2]=u=>r.email=u),name:"email",type:"email",autocomplete:"email",required:"",class:R(["appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",{"border-red-300":i.email}])},null,2),[[W,r.email]]),i.email?(m(),p("p",zr,w(i.email),1)):L("",!0)])]),e("div",Pr,[a[10]||(a[10]=e("label",{for:"password",class:"block text-sm font-medium text-gray-700"}," Contrase√±a ",-1)),e("div",Nr,[q(e("input",{id:"password","onUpdate:modelValue":a[3]||(a[3]=u=>r.password=u),name:"password",type:"password",autocomplete:"new-password",required:"",class:R(["appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",{"border-red-300":i.password}])},null,2),[[W,r.password]]),i.password?(m(),p("p",Or,w(i.password),1)):L("",!0)])]),e("div",Mr,[a[11]||(a[11]=e("label",{for:"password_confirmation",class:"block text-sm font-medium text-gray-700"}," Confirmar contrase√±a ",-1)),e("div",Dr,[q(e("input",{id:"password_confirmation","onUpdate:modelValue":a[4]||(a[4]=u=>r.password_confirmation=u),name:"password_confirmation",type:"password",autocomplete:"new-password",required:"",class:R(["appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",{"border-red-300":i.password_confirmation}])},null,2),[[W,r.password_confirmation]]),i.password_confirmation?(m(),p("p",jr,w(i.password_confirmation),1)):L("",!0)])]),e("div",Ur,[e("div",Fr,[e("div",qr,[q(e("input",{id:"terms","onUpdate:modelValue":a[5]||(a[5]=u=>r.terms=u),name:"terms",type:"checkbox",class:R(["focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded",{"border-red-300":i.terms}]),required:""},null,2),[[st,r.terms]])]),e("div",Vr,[a[12]||(a[12]=e("label",{for:"terms",class:"font-medium text-gray-700"},[V(" Acepto los "),e("a",{href:"#",class:"text-indigo-600 hover:text-indigo-500"},"T√©rminos de servicio"),V(" y la "),e("a",{href:"#",class:"text-indigo-600 hover:text-indigo-500"},"Pol√≠tica de privacidad")],-1)),i.terms?(m(),p("p",Br,w(i.terms),1)):L("",!0)])])])]),e("div",null,[e("button",{type:"submit",class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",disabled:n.value},[n.value?(m(),p("svg",Jr,a[13]||(a[13]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):(m(),p("span",Zr,"Crear cuenta"))],8,Hr)])],32),e("div",Gr,[a[15]||(a[15]=je('<div class="relative" data-v-0625c8ec><div class="absolute inset-0 flex items-center" data-v-0625c8ec><div class="w-full border-t border-gray-300" data-v-0625c8ec></div></div><div class="relative flex justify-center text-sm" data-v-0625c8ec><span class="px-2 bg-gray-100 text-gray-500" data-v-0625c8ec> ¬øYa tienes una cuenta? </span></div></div>',1)),e("div",Wr,[J(g,{to:"/auth/login",class:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},{default:re(()=>a[14]||(a[14]=[V(" Iniciar sesi√≥n ")])),_:1,__:[14]})])])])}}},Kr=K(Yr,[["__scopeId","data-v-0625c8ec"]]);const Xr={class:"space-y-6"},Qr={key:0,class:"bg-green-50 border-l-4 border-green-400 p-4 mb-6"},en={class:"flex"},tn={class:"ml-3"},sn={class:"text-sm text-green-700"},on={key:1},rn={key:0,class:"bg-red-50 border-l-4 border-red-400 p-4 mb-6"},nn={class:"flex"},an={class:"ml-3"},ln={class:"text-sm text-red-700"},cn={class:"mt-1"},dn={key:0,class:"mt-2 text-sm text-red-600"},un=["disabled"],mn={key:0},fn={key:1,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},pn={class:"mt-6"},gn={class:"mt-6"},hn={__name:"ForgotPassword",setup(t){ne();const s=ve(),o=y(!1),n=y(""),l=y(""),r=he({email:""}),i=he({email:""});se(()=>{s.query.email&&(r.email=s.query.email),s.query.registered==="true"&&(l.value="¬°Cuenta creada con √©xito! Por favor, verifica tu correo electr√≥nico para activar tu cuenta.")});const f=()=>{let h=!0;return i.email="",r.email?/\S+@\S+\.\S+/.test(r.email)||(i.email="El correo electr√≥nico no es v√°lido",h=!1):(i.email="El correo electr√≥nico es obligatorio",h=!1),h},d=async()=>{if(f()){o.value=!0,n.value="";try{await new Promise(h=>setTimeout(h,1500)),l.value="Hemos enviado un correo electr√≥nico con instrucciones para restablecer tu contrase√±a. Por favor, revisa tu bandeja de entrada."}catch(h){n.value=h.response?.data?.message||"Ocurri√≥ un error al procesar tu solicitud. Por favor, int√©ntalo de nuevo."}finally{o.value=!1}}};return(h,a)=>{const g=ce("router-link");return m(),p("div",Xr,[l.value?(m(),p("div",Qr,[e("div",en,[a[1]||(a[1]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-green-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})])],-1)),e("div",tn,[e("p",sn,w(l.value),1)])])])):(m(),p("div",on,[a[5]||(a[5]=e("div",{class:"text-center"},[e("h2",{class:"text-2xl font-bold text-gray-900"},"¬øOlvidaste tu contrase√±a?"),e("p",{class:"mt-2 text-sm text-gray-600"}," Ingresa tu correo electr√≥nico y te enviaremos un enlace para restablecer tu contrase√±a. ")],-1)),e("form",{class:"mt-8 space-y-6",onSubmit:be(d,["prevent"])},[n.value?(m(),p("div",rn,[e("div",nn,[a[2]||(a[2]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z","clip-rule":"evenodd"})])],-1)),e("div",an,[e("p",ln,w(n.value),1)])])])):L("",!0),e("div",null,[a[3]||(a[3]=e("label",{for:"email",class:"block text-sm font-medium text-gray-700"}," Correo electr√≥nico ",-1)),e("div",cn,[q(e("input",{id:"email","onUpdate:modelValue":a[0]||(a[0]=u=>r.email=u),name:"email",type:"email",autocomplete:"email",required:"",class:R(["appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",{"border-red-300":i.email}])},null,2),[[W,r.email]]),i.email?(m(),p("p",dn,w(i.email),1)):L("",!0)])]),e("div",null,[e("button",{type:"submit",class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",disabled:o.value},[o.value?(m(),p("svg",fn,a[4]||(a[4]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):(m(),p("span",mn,"Enviar enlace de recuperaci√≥n"))],8,un)])],32)])),e("div",pn,[a[7]||(a[7]=je('<div class="relative" data-v-9413fa5e><div class="absolute inset-0 flex items-center" data-v-9413fa5e><div class="w-full border-t border-gray-300" data-v-9413fa5e></div></div><div class="relative flex justify-center text-sm" data-v-9413fa5e><span class="px-2 bg-gray-100 text-gray-500" data-v-9413fa5e> ¬øRecordaste tu contrase√±a? </span></div></div>',1)),e("div",gn,[J(g,{to:"/auth/login",class:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},{default:re(()=>a[6]||(a[6]=[V(" Volver al inicio de sesi√≥n ")])),_:1,__:[6]})])])])}}},vn=K(hn,[["__scopeId","data-v-9413fa5e"]]);const _n={class:"space-y-6"},wn={key:0,class:"bg-green-50 border-l-4 border-green-400 p-4 mb-6"},yn={class:"flex"},xn={class:"ml-3"},bn={class:"text-sm text-green-700"},kn={class:"mt-4"},En={key:0,class:"bg-red-50 border-l-4 border-red-400 p-4 mb-6"},Sn={class:"flex"},$n={class:"ml-3"},Tn={class:"text-sm text-red-700"},An={class:"mt-1"},Cn={key:0,class:"mt-2 text-sm text-red-600"},Rn={class:"mt-1"},In={key:0,class:"mt-2 text-sm text-red-600"},Ln=["disabled"],zn={key:0},Pn={key:1,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Nn={key:2,class:"mt-6"},On={class:"mt-6"},Mn={__name:"ResetPassword",setup(t){ne();const s=ve(),o=y(!1),n=y(""),l=y(!1),r=y(""),i=y(""),f=he({password:"",password_confirmation:""}),d=he({password:"",password_confirmation:""});se(()=>{i.value=s.params.token,i.value||(n.value="Token de restablecimiento no v√°lido o faltante")});const h=()=>{let g=!0;return d.password="",d.password_confirmation="",f.password?f.password.length<8?(d.password="La contrase√±a debe tener al menos 8 caracteres",g=!1):/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(f.password)||(d.password="La contrase√±a debe contener al menos una letra may√∫scula, una min√∫scula y un n√∫mero",g=!1):(d.password="La contrase√±a es obligatoria",g=!1),f.password!==f.password_confirmation&&(d.password_confirmation="Las contrase√±as no coinciden",g=!1),g},a=async()=>{if(h()){o.value=!0,n.value="";try{await new Promise(g=>setTimeout(g,1500)),l.value=!0,r.value="¬°Tu contrase√±a ha sido restablecida con √©xito! Ahora puedes iniciar sesi√≥n con tu nueva contrase√±a."}catch(g){n.value=g.response?.data?.message||"Ocurri√≥ un error al restablecer tu contrase√±a. Por favor, int√©ntalo de nuevo."}finally{o.value=!1}}};return(g,u)=>{const C=ce("router-link");return m(),p("div",_n,[u[10]||(u[10]=e("div",{class:"text-center"},[e("h2",{class:"text-2xl font-bold text-gray-900"},"Restablecer contrase√±a"),e("p",{class:"mt-2 text-sm text-gray-600"}," Ingresa tu nueva contrase√±a para continuar. ")],-1)),l.value?(m(),p("div",wn,[e("div",yn,[u[2]||(u[2]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-green-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})])],-1)),e("div",xn,[e("p",bn,w(r.value),1)])]),e("div",kn,[J(C,{to:"/auth/login",class:"font-medium text-indigo-600 hover:text-indigo-500"},{default:re(()=>u[3]||(u[3]=[V(" Volver al inicio de sesi√≥n ‚Üí ")])),_:1,__:[3]})])])):(m(),p("form",{key:1,class:"space-y-6",onSubmit:be(a,["prevent"])},[n.value?(m(),p("div",En,[e("div",Sn,[u[4]||(u[4]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z","clip-rule":"evenodd"})])],-1)),e("div",$n,[e("p",Tn,w(n.value),1)])])])):L("",!0),e("div",null,[u[5]||(u[5]=e("label",{for:"password",class:"block text-sm font-medium text-gray-700"}," Nueva contrase√±a ",-1)),e("div",An,[q(e("input",{id:"password","onUpdate:modelValue":u[0]||(u[0]=z=>f.password=z),type:"password",autocomplete:"new-password",required:"",class:R(["appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",{"border-red-300":d.password}])},null,2),[[W,f.password]]),d.password?(m(),p("p",Cn,w(d.password),1)):L("",!0)])]),e("div",null,[u[6]||(u[6]=e("label",{for:"password_confirmation",class:"block text-sm font-medium text-gray-700"}," Confirmar nueva contrase√±a ",-1)),e("div",Rn,[q(e("input",{id:"password_confirmation","onUpdate:modelValue":u[1]||(u[1]=z=>f.password_confirmation=z),type:"password",autocomplete:"new-password",required:"",class:R(["appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",{"border-red-300":d.password_confirmation}])},null,2),[[W,f.password_confirmation]]),d.password_confirmation?(m(),p("p",In,w(d.password_confirmation),1)):L("",!0)])]),e("div",null,[e("button",{type:"submit",class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",disabled:o.value},[o.value?(m(),p("svg",Pn,u[7]||(u[7]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):(m(),p("span",zn,"Restablecer contrase√±a"))],8,Ln)])],32)),l.value?L("",!0):(m(),p("div",Nn,[u[9]||(u[9]=je('<div class="relative" data-v-e5443ee3><div class="absolute inset-0 flex items-center" data-v-e5443ee3><div class="w-full border-t border-gray-300" data-v-e5443ee3></div></div><div class="relative flex justify-center text-sm" data-v-e5443ee3><span class="px-2 bg-gray-100 text-gray-500" data-v-e5443ee3> ¬øRecordaste tu contrase√±a? </span></div></div>',1)),e("div",On,[J(C,{to:"/auth/login",class:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},{default:re(()=>u[8]||(u[8]=[V(" Volver al inicio de sesi√≥n ")])),_:1,__:[8]})])]))])}}},Dn=K(Mn,[["__scopeId","data-v-e5443ee3"]]);const jn={class:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8"},Un={class:"sm:mx-auto sm:w-full sm:max-w-md"},Fn={class:"mt-6"},qn={__name:"NotFound",setup(t){return ne(),(s,o)=>{const n=ce("router-link");return m(),p("div",jn,[e("div",Un,[o[1]||(o[1]=e("h1",{class:"mt-6 text-center text-6xl font-extrabold text-gray-900"}," 404 ",-1)),o[2]||(o[2]=e("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900"}," P√°gina no encontrada ",-1)),o[3]||(o[3]=e("p",{class:"mt-2 text-center text-sm text-gray-600"}," Lo sentimos, no pudimos encontrar la p√°gina que est√°s buscando. ",-1)),e("div",Fn,[J(n,{to:"/",class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},{default:re(()=>o[0]||(o[0]=[V(" Volver al inicio ")])),_:1,__:[0]})])])])}}},Vn=K(qn,[["__scopeId","data-v-2143f29a"]]),Bn={class:"max-w-4xl mx-auto p-6"},Hn={class:"bg-white shadow rounded-lg p-6 mb-6"},Zn={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Jn={key:0},Gn={class:"text-lg font-semibold"},Wn={class:"text-sm font-mono truncate"},Yn={class:"text-sm font-mono truncate"},Kn={key:0,class:"bg-white shadow rounded-lg p-6 mb-6"},Xn=["disabled"],Qn={key:0},ea={key:1,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},ta={key:0,class:"mt-4 p-3 bg-red-50 text-red-700 rounded-md"},sa={key:1,class:"space-y-6"},oa={class:"bg-white shadow rounded-lg p-6"},ra={key:0,class:"bg-gray-50 p-4 rounded-md"},na={class:"text-sm overflow-x-auto"},aa={key:1,class:"text-center py-4"},ia={key:2,class:"text-center py-4"},la={class:"mt-4"},ca=["disabled"],da={key:0},ua={key:1,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},ma={class:"bg-white shadow rounded-lg p-6"},fa={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},pa=["disabled"],ga={key:0},ha={key:1,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},va={__name:"AuthTest",setup(t){ne();const s=ae(),o=y({email:"test@example.com",password:"password123"}),n=y(!1),l=y(!1),r=y(!1),i=y(""),f=y(null),d=F(()=>s.isAuthenticated),h=F(()=>s.user),a=F(()=>s.accessToken),g=F(()=>s.refreshToken),u=async()=>{try{n.value=!0,i.value="";const P=await s.login(o.value.email,o.value.password);P.success?o.value={email:"",password:""}:i.value=P.error||"Login failed"}catch{i.value="An error occurred during login"}finally{n.value=!1}},C=async()=>{try{await s.logout(),f.value=null}catch{}},z=async()=>{try{l.value=!0,await s.refreshAccessToken()}catch{}finally{l.value=!1}},O=async()=>{try{r.value=!0;const P=await system.testProtectedEndpoint();f.value=P.data}catch{f.value={error:"Failed to fetch protected data"}}finally{r.value=!1}};return se(()=>{d.value&&O()}),(P,v)=>(m(),p("div",Bn,[v[17]||(v[17]=e("h1",{class:"text-2xl font-bold mb-6"},"Authentication Test",-1)),e("div",Hn,[v[6]||(v[6]=e("h2",{class:"text-lg font-medium mb-4"},"Authentication State",-1)),e("div",Zn,[e("div",null,[v[2]||(v[2]=e("p",{class:"text-sm font-medium text-gray-500"},"Is Authenticated",-1)),e("p",{class:R(["text-lg font-semibold",{"text-green-600":d.value,"text-red-600":!d.value}])},w(d.value?"Yes":"No"),3)]),h.value?(m(),p("div",Jn,[v[3]||(v[3]=e("p",{class:"text-sm font-medium text-gray-500"},"User",-1)),e("p",Gn,w(h.value.email),1)])):L("",!0),e("div",null,[v[4]||(v[4]=e("p",{class:"text-sm font-medium text-gray-500"},"Access Token",-1)),e("p",Wn,w(a.value?"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"+a.value.slice(-8):"None"),1)]),e("div",null,[v[5]||(v[5]=e("p",{class:"text-sm font-medium text-gray-500"},"Refresh Token",-1)),e("p",Yn,w(g.value?"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"+g.value.slice(-8):"None"),1)])])]),d.value?(m(),p("div",sa,[e("div",oa,[v[14]||(v[14]=e("h2",{class:"text-lg font-medium mb-4"},"Protected Data",-1)),f.value?(m(),p("div",ra,[e("pre",na,w(JSON.stringify(f.value,null,2)),1)])):r.value?(m(),p("div",aa,v[11]||(v[11]=[e("p",null,"Loading protected data...",-1)]))):(m(),p("div",ia,v[12]||(v[12]=[e("p",null,"No data loaded. Click the button below to fetch protected data.",-1)]))),e("div",la,[e("button",{onClick:O,class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",disabled:r.value},[r.value?(m(),p("svg",ua,v[13]||(v[13]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):(m(),p("span",da,"Fetch Protected Data"))],8,ca)])]),e("div",ma,[v[16]||(v[16]=e("h2",{class:"text-lg font-medium mb-4"},"Token Actions",-1)),e("div",fa,[e("button",{onClick:z,class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:l.value},[l.value?(m(),p("svg",ha,v[15]||(v[15]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):(m(),p("span",ga,"Refresh Token"))],8,pa),e("button",{onClick:C,class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"}," Logout ")])])])):(m(),p("div",Kn,[v[10]||(v[10]=e("h2",{class:"text-lg font-medium mb-4"},"Login",-1)),e("form",{onSubmit:be(u,["prevent"]),class:"space-y-4"},[e("div",null,[v[7]||(v[7]=e("label",{for:"email",class:"block text-sm font-medium text-gray-700"},"Email",-1)),q(e("input",{id:"email","onUpdate:modelValue":v[0]||(v[0]=c=>o.value.email=c),type:"email",required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[W,o.value.email]])]),e("div",null,[v[8]||(v[8]=e("label",{for:"password",class:"block text-sm font-medium text-gray-700"},"Password",-1)),q(e("input",{id:"password","onUpdate:modelValue":v[1]||(v[1]=c=>o.value.password=c),type:"password",required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[W,o.value.password]])]),e("div",null,[e("button",{type:"submit",class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",disabled:n.value},[n.value?(m(),p("svg",ea,v[9]||(v[9]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):(m(),p("span",Qn,"Login"))],8,Xn)])],32),i.value?(m(),p("div",ta,w(i.value),1)):L("",!0)]))]))}};const Xe=t=>t==null?"":encodeURIComponent(String(t)).replace(/%2F/g,"/").replace(/%20/g,"+").replace(/_/g,"%20"),Qe=t=>t==null?"":decodeURIComponent(String(t).replace(/\+/g," ")),_a=["AuthLogin","Register","ForgotPassword","ResetPassword","NotFound","AuthTest","WebSocketTest"],Fe=ut({history:mt("/"),scrollBehavior(t,s,o){return o||(t.hash?{el:t.hash,behavior:"smooth"}:{top:0,behavior:"smooth"})},stringifyQuery(t){const s=Object.keys(t).sort().map(o=>{const n=t[o];return n==null?"":`${Xe(o)}=${Xe(String(n))}`}).filter(Boolean).join("&");return s?`?${s}`:""},parseQuery(t){const s={};if(t=t.replace(/^\?/,""),!t)return s;for(const o of t.split("&")){const[n,l]=o.split("=");n&&(s[Qe(n)]=l?Qe(l):"")}return s},routes:[{path:"/",name:"Dashboard",component:Ye,meta:{title:"Panel de control",requiresAuth:!0}},{path:"/login",redirect:{name:"AuthLogin"}},{path:"/auth",component:ns,children:[{path:"login",name:"AuthLogin",component:_r,meta:{title:"Iniciar sesi√≥n"}},{path:"register",name:"Register",component:Kr,meta:{title:"Crear cuenta"}},{path:"forgot-password",name:"ForgotPassword",component:vn,meta:{title:"Recuperar contrase√±a"}},{path:"reset-password/:token",name:"ResetPassword",component:Dn,meta:{title:"Restablecer contrase√±a"},props:!0},{path:"",redirect:{name:"AuthLogin"}}]},{path:"/dashboard",name:"DashboardProtected",component:Ye,meta:{title:"Panel de control",requiresAuth:!0}},{path:"/zeus-core",name:"ZeusCore",component:rr,meta:{title:"N√∫cleo ZEUS-IA",requiresAuth:!0}},{path:"/auth-test",name:"AuthTest",component:va,meta:{title:"Prueba de Autenticaci√≥n",requiresAuth:!1}},{path:"/websocket-test",name:"WebSocketTest",component:()=>Mt(()=>import("./WebSocketTest-642b553b.js"),["assets/js/WebSocketTest-642b553b.js","assets/js/vendor-04204560.js","assets/js/three-c4693b27.js","assets/css/WebSocketTest-3c8ca337.css"]),meta:{title:"Prueba de WebSocket",requiresAuth:!0}},{path:"/:pathMatch(.*)*",name:"NotFound",component:Vn,meta:{title:"P√°gina no encontrada"}}]});Fe.beforeEach((t,s,o)=>{const n={};for(const[f,d]of Object.entries(t.params))typeof d=="string"?n[f]=decodeURIComponent(d):Array.isArray(d)?n[f]=d.map(h=>typeof h=="string"?decodeURIComponent(h):h):n[f]=d;if(JSON.stringify(n)!==JSON.stringify(t.params))return o({...t,params:n,hash:t.hash,query:t.query});const r=ae().isAuthenticated,i=t.matched.some(f=>f.meta.requiresAuth);if(document.title=t.meta.title?`${t.meta.title} | ZEUS-IA`:"ZEUS-IA",i&&!r)o({name:"AuthLogin",query:{redirect:t.fullPath}});else if(r&&_a.includes(t.name)){const f=t.query.redirect||"/dashboard";window.location.href=f;return}else o()});Fe.onError(t=>{});const wa={id:"app"},ya=tt({__name:"App",setup(t){ve();const s=ae();let o=!1;return se(async()=>{o||(await s.initialize(),o=!0)}),(n,l)=>{const r=ce("RouterView");return m(),p("div",wa,[J(r)])}}});const xa=K(ya,[["__scopeId","data-v-cfa270fe"]]);ft.add(pt);const ba=gt(),Ae=ht(xa);Ae.use(ba);Ae.use(Fe);Ae.component("font-awesome-icon",vt);Ae.mount("#app");export{K as _,is as a,ae as u};
